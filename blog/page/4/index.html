
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>atodorov.org</title>
  <meta name="author" content="Alexander Todorov">

  
  <meta name="description" content="A few months ago I wrote
django-s3-cache.
This is Amazon Simple Storage Service (S3) cache backend for Django
which uses hashed file names.
django-s3 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://atodorov.org/blog/page/4/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/atodorov" rel="alternate" title="atodorov.org" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Russo+One" rel="stylesheet" type="text/css" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37979549-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
<div id="logo-container">
<div id="logo">atodorov.org</div>
<div id="logo-sub"><em>
<a href="/blog/categories/blackberry/">blackberry</a>,
<a href="/blog/categories/cloud/">cloud</a>,
<a href="/blog/categories/rhel/">red hat</a>,
<a href="/blog/categories/start-up/">start-up</a>
</em></div>
</div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/atodorov" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/give-away/">Give Away List</a></li>
  <li><a href="/projects/">Projects</a></li>
  <li><a href="http://amzn.to/17KrXTh">Now reading: Accelerando by Charles Stross</a></li>
  <li><a href="http://amzn.to/12zvEDF">Now reading: DevOps for Developers</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/05/performance-test-md5-sha1-sha256-sha512/">Performance Test of MD5, SHA1, SHA256 and SHA512</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-05T10:33:00+02:00" pubdate data-updated="true">Feb 5<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/02/05/performance-test-md5-sha1-sha256-sha512/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A few months ago I wrote
<a href="https://github.com/atodorov/django-s3-cache">django-s3-cache</a>.
This is Amazon Simple Storage Service (S3) cache backend for Django
which uses hashed file names.
django-s3-cache uses <code>sha1</code> instead of <code>md5</code> which appeared to be
faster at the time. I recall that my testing wasn&#8217;t very robust so I did another
round.</p>

<h2>Test Data</h2>

<p>The file <a href="http://s3.amazonaws.com/atodorov/blog/urls.txt.gz">urls.txt</a>
contains 10000 unique paths from the <a href="http://www.dif.io">dif.io</a>
website and looks like this:</p>

<pre><code>/updates/Django-1.3.1/Django-1.3.4/7858/
/updates/delayed_paperclip-2.4.5.2 c23a537/delayed_paperclip-2.4.5.2/8085/
/updates/libv8-3.3.10.4 x86_64-darwin-10/libv8-3.3.10.4/8087/
/updates/Data::Compare-1.22/Data::Compare-Type/8313/
/updates/Fabric-1.4.0/Fabric-1.4.4/8652/
</code></pre>

<h2>Test Automation</h2>

<p>I used the standard <a href="http://docs.python.org/2/library/timeit.html">timeit</a>
module in Python.</p>

<figure class='code'><figcaption><span>test.py  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c">#!/usr/bin/python</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">timeit</span>
</span><span class='line'>
</span><span class='line'><span class="n">t</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="sd">import hashlib</span>
</span><span class='line'><span class="sd">for line in url_paths:</span>
</span><span class='line'><span class="sd">    h = hashlib.md5(line).hexdigest()</span>
</span><span class='line'><span class="sd">#    h = hashlib.sha1(line).hexdigest()</span>
</span><span class='line'><span class="sd">#    h = hashlib.sha256(line).hexdigest()</span>
</span><span class='line'><span class="sd">#    h = hashlib.sha512(line).hexdigest()</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="p">,</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="sd">url_paths = []</span>
</span><span class='line'><span class="sd">f = open(&#39;urls.txt&#39;, &#39;r&#39;)</span>
</span><span class='line'><span class="sd">for l in f.readlines():</span>
</span><span class='line'><span class="sd">    url_paths.append(l)</span>
</span><span class='line'><span class="sd">f.close()</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">print</span> <span class="n">t</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Test Results</h2>

<p>The main statement hashes all 10000 entries one by one. This statement is
executed 1000 times in a loop, which is repeated 3 times. I have Python 2.6.6
on my system. After every test run the system was rebooted.
Execution time in seconds is available below.</p>

<pre><code>MD5     10.275190830230713, 10.155328989028931, 10.250311136245728
SHA1    11.985718965530396, 11.976419925689697, 11.86873197555542
SHA256  16.662450075149536, 21.551337003707886, 17.016510963439941
SHA512  18.339390993118286, 18.11187481880188,  18.085782051086426
</code></pre>

<p>Looks like I was wrong the first time! MD5 is still faster but not that much.
I will stick with SHA1 for the time being.</p>

<p>As always Iâ€™d love to hear your thoughts and feedback. Please use the comment form below.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/31/tip-save-money-on-amazon-buy-used-books/">Tip: Save Money on Amazon - Buy Used Books</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-31T22:41:00+02:00" pubdate data-updated="true">Jan 31<span>st</span>, 2013</time>
        
         | <a href="/blog/2013/01/31/tip-save-money-on-amazon-buy-used-books/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I like to buy books, the real ones, printed on paper. This however comes at
a certain price when buying from Amazon. The book price itself is
usually bearable but many times shipping costs to Bulgaria
will double the price. Especially if you are making a single book order.</p>

<p>To save money I started buying used books when available. For books that are
not so popular I look for items that have been owned by a library.</p>

<p>This is how I got a hardcover 1984 edition of
<a href="http://www.amazon.com/gp/product/190676820X/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=190676820X&linkCode=as2&tag=atodorovorg-20">The Gentlemen&#8217;s Clubs of London</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=190676820X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
by Anthony Lejeune for $10. This is my best deal so far.
The book was brand new I dare to say. There was no edge wear, no damaged pages,
with nice and vibrant colors. The second page had the library sign and no other marks.</p>

<p>Let me know if you had an experience buying used books online? Did you score a great
deal like I did?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/31/click-tracking-without-mailchimp/">Click Tracking Without MailChimp</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-31T21:23:00+02:00" pubdate data-updated="true">Jan 31<span>st</span>, 2013</time>
        
         | <a href="/blog/2013/01/31/click-tracking-without-mailchimp/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Here is a standard notification message that users at <a href="http://www.dif.io">Difio</a>
receive. It is plain text, no HTML crap, short and URLs are clean and
descriptive. As the project lead developer I wanted to track when people click on
these links and visit the website but also keep existing functionality.</p>

<p><img src="/images/email_w_links.png" title="Email with links" alt="&quot;Email with links&quot;" /></p>

<h2>Standard approach</h2>

<p>A pretty common approach when sending huge volumes of email is to use an external
service, such as MailChimp. This is one of many email
marketing services which comes with a lot of features. The most important to me
was analytics and reports.</p>

<p>The downside is that MailChimp (and I guess others) use HTML formatted emails
extensively. I don&#8217;t like that and I&#8217;m sure my users will not like it as well.
They are all developers. Not to mention that MailChimp is much more expensive
than <a href="http://aws.amazon.com/ses/">Amazon SES</a> which I use currently.
No MailChimp for me!</p>

<p>Another common approach, used by Feedburner by the way,
is to use shortened URLs which redirect to the original ones and measure clicks
in between. I also didn&#8217;t like this for two reasons: 1) the shortened URLs look
ugly and they are not at all descriptive and 2) I need to generate them automatically
and maintain all the mappings. Why bother ?</p>

<h2>How I did it? </h2>

<p>So I needed something which will do a redirect to a predefined URL, measure how many
redirects were there (essentially clicks on the link) and look nice. The solution is
very simple, if you have not recognized it by now from the picture above.</p>

<p>I opted for a custom redirect engine, which will add tracking information to the
destination URL so I can track it in Google Analytics.</p>

<p>Previous URLs were of the form <code>http://www.dif.io/updates/haml-3.1.2/haml-3.2.0.rc.3/11765/</code>.
I&#8217;ve added the humble <code>/daily/?</code> prefix before the URL path so it becomes
<code>http://www.dif.io/daily/?/updates/haml-3.1.2/haml-3.2.0.rc.3/11765/</code></p>

<p>Now <code>/updates/haml-3.1.2/haml-3.2.0.rc.3/11765/</code> becomes a query string parameter which
the <code>/daily/index.html</code> page uses as its destination. Before doing the redirect
a script adds tracking parameters so that Google Analytics will properly
report this visit. Here is the code:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">uri</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">question</span> <span class="o">=</span> <span class="nx">uri</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="nx">uri</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">question</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">uri</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">question</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="nx">param</span> <span class="o">+</span> <span class="s1">&#39;?utm_source=email&amp;utm_medium=email&amp;utm_campaign=Daily_Notification&#39;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nt">&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;</span>
</span><span class='line'><span class="nt">&lt;body&gt;&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Previously Google Analytics was reporting these visits as direct hits while now it lists them under
campaigns like so:</p>

<p><img src="/images/analytics_difio_campaigns.png" title="Difio Analytics" alt="&quot;Difio Analytics&quot;" /></p>

<p>Because all visitors of <a href="http://www.dif.io">Difio</a> use JavaScript enabled browsers
I combined this approach with another one, to
<a href="/blog/2013/01/28/remove-query-string-with-javascript-and-html5/">remove query string with JavaScript</a>
and present clean URLs to the visitor.</p>

<h2>Why JavaScript?</h2>

<p>You may be asking why the hell I am using JavaScript and not Apache&#8217;s wonderful mod_rewrite module?
This is because the destination URLs are hosted in <a href="http://aws.amazon.com/s3/">Amazon S3</a> and I&#8217;m
planning to integrate with <a href="http://aws.amazon.com/cloudfront/">Amazon CloudFront</a>. Both of them
don&#8217;t support .htaccess rules nor anything else similar to mod_rewrite.</p>

<p>As always I&#8217;d love to hear your thoughts and feedback. Please use the comment form below.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/30/startup-talk-5-book-list/">StartUP Talk#5 - Book List</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-30T16:14:00+02:00" pubdate data-updated="true">Jan 30<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/01/30/startup-talk-5-book-list/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yesterday I have visited an interesting talk by
<a href="http://www.linkedin.com/in/tpanayotov">Teodor Panayotov</a> held at
<a href="http://www.betahaus.bg/">betahaus Sofia</a>. He was talking about his
path to success and all the companies he had worked in or founded.</p>

<p>I&#8217;m writing this post as a personal note to not forget all the good books
Teodor mentioned in his presentation.</p>

<p>I intend to read the these four as a start:</p>

<p><a href="http://www.amazon.com/gp/product/0307465357/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=0307465357&linkCode=as2&tag=atodorovorg-20">The 4-Hour Workweek: Escape 9-5, Live Anywhere, and Join the New Rich (Expanded and Updated)</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=0307465357" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

<p><a href="http://www.amazon.com/gp/product/0887307280/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=0887307280&linkCode=as2&tag=atodorovorg-20">The E-Myth Revisited: Why Most Small Businesses Don&#8217;t Work and What to Do About It</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=0887307280" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

<p><a href="http://www.amazon.com/gp/product/1422121100/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1422121100&linkCode=as2&tag=atodorovorg-20">Mastering the Hype Cycle: How to Choose the Right Innovation at the Right Time (Gartner)</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=1422121100" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

<p><a href="http://www.amazon.com/gp/product/1599180413/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1599180413&linkCode=as2&tag=atodorovorg-20">Business Models Made Easy</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=1599180413" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

<p>The rest he recommended are:</p>

<p><a href="http://www.amazon.com/gp/product/1591842719/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1591842719&linkCode=as2&tag=atodorovorg-20">How to Get Rich: One of the World&#8217;s Greatest Entrepreneurs Shares His Secrets</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=1591842719" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

<p><a href="http://www.amazon.com/gp/product/1451614217/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1451614217&linkCode=as2&tag=atodorovorg-20">Abundance: The Future Is Better Than You Think</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=1451614217" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

<p><a href="http://www.amazon.com/gp/product/0143037889/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=0143037889&linkCode=as2&tag=atodorovorg-20">The Singularity Is Near: When Humans Transcend Biology</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=0143037889" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

<p><a href="http://www.amazon.com/gp/product/1440428433/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1440428433&linkCode=as2&tag=atodorovorg-20">The Law Of Success: Napoleon Hill</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=1440428433" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

<p>If you happen to read any of these <a href="http://www.goodreads.com/review/list/16191345-alexander-todorov?shelf=to-read">before me</a>,
please share your thoughts on the book.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/28/remove-query-string-with-javascript-and-html5/">Remove Query String With JavaScript and HTML5</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-28T15:52:00+02:00" pubdate data-updated="true">Jan 28<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/01/28/remove-query-string-with-javascript-and-html5/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A <a href="http://en.wikipedia.org/wiki/Query_string">query string</a> is the stuff after
the question mark in URLs.</p>

<p><img src="/images/url_w_qs.png" alt="&quot;URL with query string&quot;" /></p>

<h2>Why remove query strings?</h2>

<p>Two reasons: clean URLs and social media.</p>

<p>Clean URLs not only look better but they prevent users to see if you are tracking
where they came from. The picture above shows what the address bar
looks like after the user clicks a link in Feedburner. The high-lightened part is
what Google Analytics uses to distinguish Feedburner traffic from other types of
traffic. I don&#8217;t want my users to see this.</p>

<p>As you know, social media sites give URLs a score, whether it is based on number of
bookmarks, reviews, comments, likes or whatever. Higher scores usually result in
increased traffic to your site. Query strings mess things up because <a href="http://www.dif.io">http://www.dif.io</a>
and <a href="http://www.dif.io/?query">http://www.dif.io/?query</a> are usually considered two different URLs. So instead
of having a high number of likes for your page you get several scores and never
make it to the headlines.</p>

<h2>JavaScript and HTML5 to the rescue</h2>

<p>Place this JavaScript code in the <code>&lt;head&gt;</code> section of your pages. Preferably near the top.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">uri</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">uri</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">clean_uri</span> <span class="o">=</span> <span class="nx">uri</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">uri</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">));</span>
</span><span class='line'>    <span class="nb">window</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">replaceState</span><span class="p">({},</span> <span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span> <span class="nx">clean_uri</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This code will clean the URL in the browser address bar without reloading the page.
It works for HTML5 enabled browsers.</p>

<p>This works for me with
Firefox 10.0.12, Opera 12.02.1578 and Chrome 24.0.1312.56 under Linux. In fact I&#8217;m
using this snippet on this very own blog as well.</p>

<p><strong>Updated on 2013-01-30</strong></p>

<p>Here is another approach proposed by reader Kamen Mazdrashki:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">clean_uri</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="o">+</span> <span class="s2">&quot;//&quot;</span> <span class="o">+</span> <span class="nx">location</span><span class="p">.</span><span class="nx">host</span> <span class="o">+</span> <span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">;</span>
</span><span class='line'><span class="cm">/*</span>
</span><span class='line'><span class="cm">var hash_pos = location.href.indexOf(&quot;#&quot;);</span>
</span><span class='line'><span class="cm">if (hash_pos &gt; 0) {</span>
</span><span class='line'><span class="cm">    var hash = location.href.substring(hash_pos, location.href.length);</span>
</span><span class='line'><span class="cm">    clean_uri += hash;</span>
</span><span class='line'><span class="cm">}</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">replaceState</span><span class="p">({},</span> <span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span> <span class="nx">clean_uri</span><span class="p">);</span>
</span><span class='line'><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you&#8217;d like to keep the hash tag aka named anchor aka fragment identifier at the end of the URL
then uncomment the commented section.</p>

<p>I&#8217;ve tested removing the hashtag from the URL. Firefox doesn&#8217;t seem to scroll the page
to where I wanted but your experience may vary. I didn&#8217;t try hard enough to
verify the results.</p>

<p>One question still remains though: Why would someone point the users to an URL which contains
named anchors and then remove them? I don&#8217;t see a valid use case for this scenario. Do you?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/28/hello-world/">Hello World</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-28T15:12:00+02:00" pubdate data-updated="true">Jan 28<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/01/28/hello-world/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hi everyone and welcome to my blog! My name is Alex and you can read more <a href="/about/">about me</a>
if you like.</p>

<p>After several years of rather unsuccessful blogging I decided to revamp my blog,
influenced by the book
<em>Technical Blogging: Turn Your Expertise into a Remarkable Online Presence</em>
(
<a href="http://www.amazon.com/gp/product/1934356883/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1934356883&linkCode=as2&tag=atodorovorg-20">Amazon</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=1934356883" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
|
<a href="http://www.tkqlhce.com/click-7040110-11260198?url=http%3A%2F%2Fshop.oreilly.com%2Fproduct%2F9781934356883.do%3Fcmp%3Daf-npa-book-product_cj_9781934356883_%7BPID%7D&cjsku=9781934356883" target="_top">O&#8217;Reilly</a><img src="http://www.ftjcfx.com/image-7040110-11260198" width="0" height="0" border="0" style="margin:0;padding:0;display:none;"/>
).</p>

<p>I&#8217;m starting fresh with new domain name and a big list of topics to write about. This blog will
be the place to share my thoughts on open source software, QA and cloud. From time to time
I intend to write about start-ups and being a start-up owner as well.</p>

<p>All content is published under
<a href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0</a>
license and all source code is under the <a href="http://opensource.org/licenses/MIT">MIT</a> license if not stated
otherwise.</p>

<p>I hope you find it interesting and helpful.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:atodorov.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<br/>

<section>
  
  <a href="https://github.com/atodorov">@atodorov</a> on GitHub
  
</section>


<section>
  
    <a href="http://twitter.com/atodorov_" class="twitter-follow-button" data-show-count="true">Follow @atodorov_</a>
  
</section>

<section>
    <h1>Trending Posts</h1>
<!-- AddThis Trending Content BEGIN -->
<div id="addthis_trendingcontent"></div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5103cc5a2bc6ba17"></script>
<script type="text/javascript">
addthis.box("#addthis_trendingcontent", {
    feed_title : "",
    feed_type : "trending",
    feed_period : "month",
    num_links : 5,
    height : "auto",
    width : "auto"});
</script>
<!-- AddThis Trending Content END -->
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/29/what-runs-your-startup-imagga/">What Runs Your Start-up - Imagga</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/29/what-runs-your-startup-retidoc/">What Runs Your Start-up - RETiDoc</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/20/text-to-speech-for-bulgarian/">Text To Speech for Bulgarian</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/19/ssh-from-linux-to-blackberry-z10/">SSH from Linux to BlackBerry Z10</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/18/git-history-stats-and-project-cost-estimation/">git History Stats and Project Cost Estimation</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/17/exploring-blackberry-10-nmap/">Exploring BlackBerry 10 - nmap</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/17/tip-how-to-enable-usb-networking-between-blackberry-z10-and-red-hat-enterprise-linux-6/">Tip: How To Enable USB Networking Between BlackBerry Z10 and Red Hat Enterprise Linux 6</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/14/importing-vcard-contacts-to-blackberry-z10-sucks/">Importing vCard Contacts To BlackBerry Z10 Sucks</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/13/how-to-get-a-free-blackberry-z10/">How to Get a Free BlackBerry Z10</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/08/tip-setting-secure-env-variables-on-red-hat-openshift/">Tip: Setting Secure ENV variables on Red Hat OpenShift</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Disclaimer</h1>
  <p>
Some of the links contained within this site have my referral id (e.g., Amazon), which provides me with a small commission for each sale. Thank you for your support.
  </p>
</section>
<section>
<h1></h1>
<iframe width="260" height="420" scrolling="no" frameborder="no" allowtransparency="true" src="http://www.econt.com/voffice/en/240x400/?mediator=http%3A%2F%2Fatodorov.org"></iframe>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">CC-BY-SA</a>
  &amp;
  <a rel="license" href="http://opensource.org/licenses/MIT">MIT</a>
  2013 &diams; Alexander Todorov
  &diams;
  <a href="/about/">About Me</a>

  <a href="http://planet.sofiavalley.com" style="float:right">SofiaValley Blog</a>
</p>

<script type="text/javascript">
var uri = window.location.toString();
if (uri.indexOf("?") > 0) {
    var clean_uri = uri.substring(0, uri.indexOf("?"));
    window.history.replaceState({}, document.title, clean_uri);
}
</script>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'atodorov';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
