
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>atodorov.org - you can logoff, but you can never leave</title>
  <meta name="author" content="Alexander Todorov">

  
  <meta name="description" content="A simple bug with the Facebook like and share widget. Looks familiar?
Indeed it is! SofiaValley had the
same bug 2 months ago. Already reported and &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://atodorov.org/blog/page/5/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/atodorov" rel="alternate" title="atodorov.org - you can logoff, but you can never leave" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Russo+One" rel="stylesheet" type="text/css" />
<meta name="google-site-verification" content="XynqZtldWNBbmsynVQZremIxaaO8Wgs6AGR8UZ7KIkM" />

  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37979549-1', 'atodorov.org');
  ga('send', 'pageview');

</script>


</head>

<body   >
  <header role="banner"><hgroup>
<div id="logo-container">
<div id="logo">atodorov.org</div>
<div id="logo-sub"><em>
you can logoff, but you can never leave
</em></div>
</div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/atodorov" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/give-away/">Give Away List</a></li>
  <li><a href="/projects/">Projects</a></li>
  <li><a href="/domains/">Domains</a></li>
  <li><a href="http://amzn.to/1wTPaLe">Previous: Traction</a></li>
  <li><a href="http://amzn.to/1lLi5NU">Previous: How to Win Friends</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/31/ui-bug-for-opensource-dot-com/">UI Bug for OpenSource.com</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-31T21:39:00+03:00" pubdate data-updated="true">Jul 31<span>st</span>, 2013</time>
        
         | <a href="/blog/2013/07/31/ui-bug-for-opensource-dot-com/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/opensource.com_ui_bug.png" title="UI bug" alt="&quot;UI bug&quot;" /></p>

<p>A simple bug with the Facebook like and share widget. Looks familiar?
Indeed it is! <a href="http://sofiavalley.com">SofiaValley</a> had the
<a href="/blog/2013/06/02/sofiavalley-ui-bug/">same bug</a> 2 months ago.</p>

<p>Already reported and hopefully they fix it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/29/what-runs-your-startup-imagga/">What Runs Your Start-up - Imagga</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-29T12:32:00+03:00" pubdate data-updated="true">Jul 29<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/29/what-runs-your-startup-imagga/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/startup/imagga.png" alt="Imagga" style="float:left; margin-right:10px;" /></p>

<p><a href="http://imagga.com/">Imagga</a> is a cloud platform that helps businesses and
individuals organize their images in a fast and cost-effective way. They
develop a range of advanced proprietary image recognition and image processing
technologies, which are built into several services such as smart image
cropping, color extraction and multi-color search, visual similarity search and
auto-tagging.</p>

<p>During
<a href="/blog/2013/05/23/balkan-venture-forum-sofia-post-mortem/">Balkan Venture Forum</a>
in Sofia I sat down with Georgi Kadrev to talk about technology.
Surprisingly this hi-tech service is built on top of standard low-tech components
and lots of hard work.</p>

<h2>Main Technologies</h2>

<p>Core functionality is developed in C and C++ with the OpenCV library.
Imagga relies heavily on own image processing algorithms for their core
features. These were built as a combination of their own research activities
and publications from other researchers.</p>

<p>Image processing is executed by worker nodes configured with their own
software stack. Nodes are distributed among Amazon EC2 and other data centers.</p>

<p>Client libraries to access Imagga API are available in PHP, Ruby and Java.</p>

<p>Imagga has built several websites to showcase their technology.
<a href="http://cropp.me/">Cropp.me</a>, <a href="http://colorslike.me/">ColorsLike.me</a>,
<a href="http://www.stockpodium.com">StockPodium</a> and <a href="http://autotag.me/">AutoTag.me</a>
were built with PHP, JavaScript and jQuery above a standard LAMP stack.</p>

<p>Recently Imagga also started using GPU computing with nVidia Tesla cards.
They use C++ and Python bindings for
<a href="https://developer.nvidia.com/what-cuda">CUDA</a>.</p>

<h2>Why Not Something Else?</h2>

<blockquote><p>As an initially bootstrapping start-up we chose something that is basically free,<br/>reliable and popular - that&#8217;s why started with the LAMP stack. It proved to be<br/>stable and convenient for our web needs and we preserved it.<br/>The use of C++ is a natural choice for computational intensive tasks that we<br/>need to perform for the purpose of our core expertise - image processing. <br/>Though we initially wrote the whole core technology code from scratch, we later<br/>switched to OpenCV for some of the building blocks as it is very well optimized<br/>and continuously extended image processing library.</p><p>With the raise of affordable high-performance GPU processors and their availability<br/>in server instances, we decided it&#8217;s time to take advantage of this highly parallel<br/>architecture, perfectly suitable for image processing tasks.</p><footer><strong>Georgi Kadrev</strong></footer></blockquote>


<h2>Want More Info?</h2>

<p>If you’d like to hear more from Imagga please comment below.
I will ask them to follow this thread and reply to your questions.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/29/what-runs-your-startup-retidoc/">What Runs Your Start-up - RETiDoc</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-29T12:13:00+03:00" pubdate data-updated="true">Jul 29<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/29/what-runs-your-startup-retidoc/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/startup/retidoc.gif" alt="RETiDoc" style="float:left; margin-right: 15px;" /></p>

<p><a href="http://retidoc.com/">RETiDoc</a> automates personal ID data entry, speeding up
customer service and eliminating costly errors. The product is based on OCR
algorithms and could be used on hardware devices scanning the ID card or
through a compact scanner box specially designed for the need. The main problem
tackled by RETiDoc is manual data entry at service providers,
which is a time consuming, low-customer satisfaction process, filled with
expensive typos and low productivity at provider’s front offices.</p>

<p>Co-founder Martin Kulov takes us behind the scenes.</p>

<h2>Main Technologies</h2>

<p>RETiDoc is the second start-up featured on this blog to rely heavily on
Microsoft technologies. Software development is done in C# using
Visual Studio and <a href="https://tfs.visualstudio.com/">Team Foundation Service</a>.</p>

<p>Microsoft Test Manager is used to organize the test process!</p>

<h2>Why Not Something Else?</h2>

<p>Unfortunately this section is missing. The original format of this blog
is for the start-up founders or head of IT to tell the readers what factors
led to selection of the named technologies. RETiDoc team is busy at the moment,
working on their product launch and don&#8217;t have the time to fill-in the details.</p>

<p>Hopefully they will do so in the future.</p>

<h2>Want More Info?</h2>

<p>If you’d like to hear more from <em>RETiDoc</em> please comment below.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/20/text-to-speech-for-bulgarian/">Text to Speech for Bulgarian</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-20T14:06:00+03:00" pubdate data-updated="true">Jul 20<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/20/text-to-speech-for-bulgarian/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been exploring text-to-speech synthesizers for Bulgarian in the past
few weeks. I found only three. Here is my review and opinion about
two competitive companies, one of which lost me as a client.</p>

<h2>eSpeak</h2>

<p><a href="http://espeak.sourceforge.net/">eSpeak</a> is a compact open source software
speech synthesizer for English and other languages, for Linux and Windows.</p>

<p>I&#8217;m using espeak-1.47.11-1, from Fedora - the src.rpm rebuilt on Red Hat
Enterprise Linux 6. Earlier versions do not support Bulgarian.</p>

<p>There is only one available voice for Bulgarian, which seems to have reasonably
good pronunciation. There are some errors though, it&#8217;s not perfect. The voice
however is horrible. It&#8217;s the worst computer generated voice of all solutions
I&#8217;ve found so far.</p>

<p>Good for initial testing since it requires virtually no setup and can be used
from the command line.</p>

<h2>SpeechLab 2.0</h2>

<p>SpeechLab is developed by the
<a href="http://www.bacl.org/speechlab.html">Bulgarian Association for Computational Linguistics</a>.
There&#8217;s a sample of only one voice but I was told others can be added as well. Not sure about that.</p>

<p>Listening to <a href="http://www.youtube.com/watch?feature=player_embedded&amp;v=4s2UgwYgbkM">the sample</a>
I think this is the most correct synthesizer of all. The voice still sounds computerized
but better compared to eSpeak. The same voice is used by local TV channels when showing
news related to <a href="https://en.wikipedia.org/wiki/Anonymous_%28group%29">Anonymous</a> and
one could probably say it will be accepted by the general public if used into
a software product.</p>

<p>BACL has transferred the sales rights to a company called
<a href="http://aquasyst-eco.com/speechlab_2_0_server.html">Aquasyst-Eco</a> which claims to have
a desktop and a server product. The server version is supposed to work on Linux too.
There is also a <a href="http://slideme.org/application/speechlab-2-0">version for Android</a>.</p>

<p>Initially I thought to use SpeechLab but BACL and the trading vendor didn&#8217;t make it
easy on me. There&#8217;s virtually no documentation, all links to samples from the
official product pages are broken, they didn&#8217;t reply to any of my emails
nor phone calls.</p>

<p>As much as I prefer working/using locally developed products (not only software)
I will never use SpeechLab because its creators don&#8217;t give a fuck about customers.
Why should I give a fuck about the product then?</p>

<h2>Innoetics&#8217; SpeakVolumes</h2>

<p><a href="http://www.innoetics.com">Innoetics</a> is a Greek company, a spin-off of the
Institute of Language &amp; Speech Processing (ILSP) of ‘Athena’ Research Centre.
Something like BACL I suppose but a bit more commercially oriented.</p>

<p>Initially I though to use their TTS Batch product to produce audio samples
and asked for a demo. They were very quick in their response and gave me
an FTP download of the software, plus demo activation key and documentation.
Via email they&#8217;ve sent me tons of info plus pricing and additional proposals.
I didn&#8217;t even try this demo because it runs on Windows which I don&#8217;t have.</p>

<p>It turned out Innoetics has built the <a href="http://www.speakvolumes.eu/">SpeakVolumes</a>
web service which has two modes of operation - on-the-fly audio generation
using a SOAP based API and offline generation via the web site.
Pricing for SpeakVolumes (per words) was much more competitive than their Windows products
for my use case.</p>

<p>I&#8217;ve created an account at SpeakVolumes and they&#8217;ve bumped up my initial words
credit so I can give it a try. Works like a charm.</p>

<p>There is only one voice for Bulgarian called Irina
(<a href="http://www.innoetics.com/media/tts_irinademo_bg.mp3">sample</a>).
The voice is very soft, female voice, speaks slower compared to eSpeak
and SpeechLab and sounds very natural. It makes a few mistakes but
from a 250 words sample that I used only a couple were pronounced with
minor mistakes.</p>

<p>The web service generates a Base64 encoded MP3 file and returns it as
response to the client.
<a href="https://gist.github.com/atodorov/6044724">See example Python script here</a>.</p>

<p>The fact that Innoetics involved with me very quickly and provided me with
demo accounts and all sorts of information about their products and the
web API makes SpeakVolumes my choice for Text-To-Speech conversion for Bulgarian.</p>

<h2>Ivona</h2>

<p>Andre Polykanine from the eSpeak mailing list told me about
<a href="http://www.ivona.com/en/">Ivona</a>. It is a Polish company and seems to
have been acquired by Amazon now. Andre told me Ivona had planned Bulgarian
support some time ago, but now rejected it for some reason. They didn&#8217;t
reply to my email though.</p>

<p>Have you seen other text-to-speech synthesizers for Bulgarian? Let me know
what are they and if you have tried them out.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/19/ssh-from-linux-to-blackberry-z10/">SSH From Linux to BlackBerry Z10</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-19T23:31:00+03:00" pubdate data-updated="true">Jul 19<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/19/ssh-from-linux-to-blackberry-z10/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>You can SSH into a <a href="http://amzn.to/12y4ewJ">BlackBerry Z10</a> device even on Linux.
I&#8217;m using Red Hat Enterprise Linux 6 and here is how to establish the connection.</p>

<p>1) <a href="/blog/2013/07/17/tip-how-to-enable-usb-networking-between-blackberry-z10-and-red-hat-enterprise-linux-6/">Enable USB networking</a>
between your Linux desktop and the Z10;</p>

<p>2) Install the <a href="https://developer.blackberry.com/develop/platform_choice/ndk.html">Momentics IDE</a>.
You need it to create debug tokens and to start the SSH daemon on the device;</p>

<p>3) Obtain <a href="https://www.blackberry.com/SignedKeys/codesigning.html">signing keys</a>
and create a debug token by following the wizard in the IDE.
I just started a new project and followed the instructions;</p>

<p>4) Install debug token on device using the IDE. From <code>Window - Preferences</code> select
<code>Blackberry - Signing</code>. Just create and deploy the debug token on the device. Mine was
automatically discovered so I just had to follow the prompts;</p>

<p>5) Reboot and re-enable development mode (I&#8217;m not sure if this was necessary);</p>

<p>6) Generate a <strong>4096 bit</strong> key for SSH. Smaller keys won&#8217;t work. You can use your
current key if it is 4096 bit;</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>ssh-keygen -t rsa -b 4096
</span><span class='line'>Generating public/private rsa key pair.
</span><span class='line'>Enter file in which to save the key <span class="o">(</span>/home/atodorov/.ssh/id_rsa<span class="o">)</span>: /home/atodorov/.rim/testKey_4096_rsa
</span><span class='line'>/home/atodorov/.rim/testKey_4096_rsa already exists.
</span><span class='line'>Overwrite <span class="o">(</span>y/n<span class="o">)</span>? y
</span><span class='line'>Enter passphrase <span class="o">(</span>empty <span class="k">for </span>no passphrase<span class="o">)</span>:
</span><span class='line'>Enter same passphrase again:
</span><span class='line'>Your identification has been saved in /home/atodorov/.rim/testKey_4096_rsa.
</span><span class='line'>Your public key has been saved in /home/atodorov/.rim/testKey_4096_rsa.pub.
</span><span class='line'>The key fingerprint is:
</span><span class='line'>77:73:55:03:e1:fc:5b:df:a6:e9:2c:b4:d4:1e:0c:b2 atodorov@redbull.mini
</span><span class='line'>The key<span class="err">&#39;</span>s randomart image is:
</span><span class='line'>+--<span class="o">[</span> RSA 4096<span class="o">]</span>----+
</span><span class='line'>|             oo..|
</span><span class='line'>|            o   o|
</span><span class='line'>|             o  .|
</span><span class='line'>|          . . .. |
</span><span class='line'>|        S .oo+...|
</span><span class='line'>|         .E.oo+ <span class="o">=</span>|
</span><span class='line'>|           o o o+|
</span><span class='line'>|            o..+ |
</span><span class='line'>|             <span class="nv">o</span><span class="o">=</span>  |
</span><span class='line'>+-----------------+
</span></code></pre></td></tr></table></div></figure>


<p>7) Update key permissions, since ssh complains:</p>

<pre><code>    $ chmod 600 ~/.rim/testKey_4096_rsa.pub
</code></pre>

<p>8) By default SSH is not listening on your BlackBerry. Use the <code>blackberry-connect</code>
command to start the SSH daemon on the device. It will upload your public SSH key
to the device and start the SSH daemon on the other side. <code>password</code> is your device
password;</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">pwd</span>
</span><span class='line'>/home/atodorov/bbndk/host_10_1_0_231/linux/x86/usr/bin
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>./blackberry-connect 169.254.0.1 -password 123456 -sshPublicKey ~/.rim/testKey_4096_rsa.pub
</span><span class='line'>Info: Connecting to target 169.254.0.1:4455
</span><span class='line'>Info: Authenticating with target 169.254.0.1:4455
</span><span class='line'>Info: Encryption parameters verified
</span><span class='line'>Info: Authenticating with target credentials.
</span><span class='line'>Info: Successfully authenticated with target credentials.
</span><span class='line'>Info: Sending ssh key to target 169.254.0.1:4455
</span><span class='line'>Info: ssh key successfully transferred.
</span><span class='line'>Info: Successfully connected. This application must remain running in order to use debug tools. Exiting the application will terminate this connection.
</span></code></pre></td></tr></table></div></figure>


<p>9) Check if SSH is running on the device</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>nmap 169.254.0.1
</span><span class='line'>
</span><span class='line'>Starting Nmap 5.51 <span class="o">(</span> http://nmap.org <span class="o">)</span> at 2013-07-18 10:19 EEST
</span><span class='line'>Stats: 0:00:01 elapsed; 0 hosts completed <span class="o">(</span>1 up<span class="o">)</span>, 1 undergoing Connect Scan
</span><span class='line'>Connect Scan Timing: About 14.30% <span class="k">done</span>; ETC: 10:20 <span class="o">(</span>0:00:06 remaining<span class="o">)</span>
</span><span class='line'>Nmap scan report <span class="k">for </span>169.254.0.1
</span><span class='line'>Host is up <span class="o">(</span>0.00097s latency<span class="o">)</span>.
</span><span class='line'>Not shown: 991 closed ports
</span><span class='line'>PORT     STATE SERVICE
</span><span class='line'>22/tcp   open  ssh
</span><span class='line'>80/tcp   open  http
</span><span class='line'>139/tcp  open  netbios-ssn
</span><span class='line'>443/tcp  open  https
</span><span class='line'>445/tcp  open  microsoft-ds
</span><span class='line'>1111/tcp open  lmsocialserver
</span><span class='line'>5555/tcp open  freeciv
</span><span class='line'>8000/tcp open  http-alt
</span><span class='line'>8443/tcp open  https-alt
</span><span class='line'>
</span><span class='line'>Nmap <span class="k">done</span>: 1 IP address <span class="o">(</span>1 host up<span class="o">)</span> scanned in 12.47 seconds
</span></code></pre></td></tr></table></div></figure>


<p>10)  Use SSH with the specified key to connect to the Z10. Username is <code>devuser</code>.
Here&#8217;s a simple session:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>
</span><span class='line'><span class="nv">$ </span>ssh -i ~/.rim/testKey_4096_rsa devuser@169.254.0.1
</span><span class='line'><span class="nv">$ </span>
</span><span class='line'><span class="nv">$ </span><span class="nb">pwd</span>
</span><span class='line'>/accounts/devuser
</span><span class='line'><span class="nv">$ </span>uname -a
</span><span class='line'>QNX atodorovZ10 8.0.0 2013/05/02-08:42:48EDT OMAP4470_ES1.0_HS_London_Rev:08 armle
</span><span class='line'><span class="nv">$ </span>date
</span><span class='line'>Fri Jul 19 23:39:19 EEST 2013
</span><span class='line'><span class="nv">$ </span>ifconfig
</span><span class='line'>lo0: <span class="nv">flags</span><span class="o">=</span>8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 33192
</span><span class='line'>    inet 127.0.0.1 netmask 0xff000000
</span><span class='line'>    inet6 ::1 prefixlen 128
</span><span class='line'>    inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1
</span><span class='line'>tiw_drv0: <span class="nv">flags</span><span class="o">=</span>8c02&lt;BROADCAST,OACTIVE,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>    address: 1c:69:a5:d0:10:cd
</span><span class='line'>tiw_sta0: <span class="nv">flags</span><span class="o">=</span>40008c43&lt;UP,BROADCAST,RUNNING,OACTIVE,SIMPLEX,MULTICAST,ACCEPTRTADV&gt; mtu 1500
</span><span class='line'>    address: 1c:69:a5:d0:10:cd
</span><span class='line'>    inet 192.168.0.100 netmask 0xffffff00 broadcast 192.168.0.255
</span><span class='line'>    inet6 fe80::1e69:a5ff:fed0:10cd%tiw_sta0 prefixlen 64 scopeid 0x12
</span><span class='line'>tiw_p2pdev0: <span class="nv">flags</span><span class="o">=</span>8c02&lt;BROADCAST,OACTIVE,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>    address: 1c:69:a5:d0:10:cd
</span><span class='line'>tiw_p2pgrp0: <span class="nv">flags</span><span class="o">=</span>8c02&lt;BROADCAST,OACTIVE,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>    address: 1c:69:a5:d0:10:cd
</span><span class='line'>tiw_ibss0: <span class="nv">flags</span><span class="o">=</span>8c02&lt;BROADCAST,OACTIVE,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>    address: 1c:69:a5:d0:10:cd
</span><span class='line'>pflog0: <span class="nv">flags</span><span class="o">=</span>0 mtu 33192
</span><span class='line'>lo2: <span class="nv">flags</span><span class="o">=</span>8048&lt;LOOPBACK,RUNNING,MULTICAST&gt; mtu 33192
</span><span class='line'>cellular0: <span class="nv">flags</span><span class="o">=</span>8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>cellular1: <span class="nv">flags</span><span class="o">=</span>8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>cellular2: <span class="nv">flags</span><span class="o">=</span>8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>cellular3: <span class="nv">flags</span><span class="o">=</span>8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>cellular4: <span class="nv">flags</span><span class="o">=</span>8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>bptp0: <span class="nv">flags</span><span class="o">=</span>8043&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1356
</span><span class='line'>    inet6 fe80::1e69:a5ff:fed0:10cd%bptp0 prefixlen 64 scopeid 0x2d
</span><span class='line'>    inet6 fd02:42ac:77b2:d543:c158:fabb:6276:80e6 prefixlen 8
</span><span class='line'>ecm0: <span class="nv">flags</span><span class="o">=</span>8a43&lt;UP,BROADCAST,RUNNING,ALLMULTI,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>    address: 1e:69:a5:d0:10:cd
</span><span class='line'>    inet 169.254.0.1 netmask 0xfffffffc broadcast 169.254.0.3
</span><span class='line'>    inet6 fe80::1c69:a5ff:fed0:10cd%ecm0 prefixlen 64 scopeid 0x2e
</span></code></pre></td></tr></table></div></figure>


<p><strong>IMPORTANT:</strong> you can also use the WiFi address of the device to pass to
<code>backberry-connect</code> and ssh. It works for me.</p>

<p>I&#8217;m starting to explore the dark world of QNX in the next couple of days
and will keep you posted! Until then - happy hacking.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/18/git-history-stats-and-project-cost-estimation/">Git History Stats and Project Cost Estimation</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-18T23:40:00+03:00" pubdate data-updated="true">Jul 18<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/18/git-history-stats-and-project-cost-estimation/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>How do you generate useful stats from a git repo? In particular how do you
calculate the monetary cost of development effort behind that git repo?
I&#8217;ve found the <a href="https://github.com/hoxu/gitstats">gitstats</a> project which
helped me answer the above question.</p>

<p>Git clone the repo and make sure you
have Python and Gnuplot installed. <code>gitstat</code> will generate html files and
graphics from your git history.</p>

<p>In my case I only needed to know how long it took for a project to be developed.
It turned out that around 56% of the days since day one were active and there were
an average of 8,5 commits per active day in the repo.</p>

<p>I took the number of active days and multiplied by an average daily
wage to come up with a real number. This is what I consider to be the cost to
develop the software from scratch. This is overly simplified, but serves my
needs to establish some base line.</p>

<p>There&#8217;s the <a href="https://en.wikipedia.org/wiki/COCOMO">COCOMO</a> method which is probably
more accurate but I didn&#8217;t find any usable online COCOMO calculator.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/17/exploring-blackberry-10-nmap/">Exploring BlackBerry 10 - Nmap</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-17T23:16:00+03:00" pubdate data-updated="true">Jul 17<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/17/exploring-blackberry-10-nmap/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is the first post in upcoming series while I explore my
<a href="http://amzn.to/12y4ewJ">BlackBerry Z10</a> device and figure out what&#8217;s on it.</p>

<p>First configure Z10 for
<a href="/blog/2013/07/17/tip-how-to-enable-usb-networking-between-blackberry-z10-and-red-hat-enterprise-linux-6/">USB networking</a>.
Then from <code>Settings - Security and Privacey - Development Mode</code> turn
<code>Use Development Mode</code> to <code>On</code>.
From my Linux box I run nmap against the usb (169.254.0.1) and
wi-fi (192.168.0.100) addresses of Z10:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>nmap 169.254.0.1
</span><span class='line'>
</span><span class='line'>Starting Nmap 5.51 <span class="o">(</span> http://nmap.org <span class="o">)</span> at 2013-07-17 23:03 EEST
</span><span class='line'>Nmap scan report <span class="k">for </span>169.254.0.1
</span><span class='line'>Host is up <span class="o">(</span>0.00087s latency<span class="o">)</span>.
</span><span class='line'>Not shown: 994 closed ports
</span><span class='line'>PORT     STATE    SERVICE
</span><span class='line'>80/tcp   open     http
</span><span class='line'>139/tcp  open     netbios-ssn
</span><span class='line'>443/tcp  open     https
</span><span class='line'>445/tcp  open     microsoft-ds
</span><span class='line'>1111/tcp filtered lmsocialserver
</span><span class='line'>8443/tcp open     https-alt
</span><span class='line'>
</span><span class='line'>Nmap <span class="k">done</span>: 1 IP address <span class="o">(</span>1 host up<span class="o">)</span> scanned in 21.41 seconds
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>nmap 192.168.0.100
</span><span class='line'>
</span><span class='line'>Starting Nmap 5.51 <span class="o">(</span> http://nmap.org <span class="o">)</span> at 2013-07-17 23:04 EEST
</span><span class='line'>Nmap scan report <span class="k">for </span>192.168.0.100
</span><span class='line'>Host is up <span class="o">(</span>0.0035s latency<span class="o">)</span>.
</span><span class='line'>Not shown: 998 closed ports
</span><span class='line'>PORT     STATE    SERVICE
</span><span class='line'>443/tcp  open     https
</span><span class='line'>1111/tcp filtered lmsocialserver
</span><span class='line'>
</span><span class='line'>Nmap <span class="k">done</span>: 1 IP address <span class="o">(</span>1 host up<span class="o">)</span> scanned in 15.64 seconds
</span></code></pre></td></tr></table></div></figure>


<p>Firefox says the certificate used for https is invalid:</p>

<pre><code>    The certificate is not trusted because it is self-signed.
    The certificate is only valid for PlayBook: 1c:69:a5:d0:10:cd
</code></pre>

<p><code>1c:69:a5:d0:10:cd</code> is the wi-fi interface MAC address.
All the http ports produce a 404 with <code>index.html</code> not found!</p>

<p>Trying some UDP scan:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># nmap -sU 169.254.0.1</span>
</span><span class='line'>
</span><span class='line'>Starting Nmap 5.51 <span class="o">(</span> http://nmap.org <span class="o">)</span> at 2013-07-17 23:32 EEST
</span><span class='line'>Nmap scan report <span class="k">for </span>169.254.0.1
</span><span class='line'>Host is up <span class="o">(</span>0.00075s latency<span class="o">)</span>.
</span><span class='line'>Not shown: 995 closed ports
</span><span class='line'>PORT     STATE         SERVICE
</span><span class='line'>67/udp   open|filtered dhcps
</span><span class='line'>68/udp   open|filtered dhcpc
</span><span class='line'>137/udp  open          netbios-ns
</span><span class='line'>138/udp  open|filtered netbios-dgm
</span><span class='line'>5353/udp open          zeroconf
</span><span class='line'>MAC Address: 1E:69:A5:D0:10:CD <span class="o">(</span>Unknown<span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="c"># nmap -sU 192.168.0.100</span>
</span><span class='line'>
</span><span class='line'>Starting Nmap 5.51 <span class="o">(</span> http://nmap.org <span class="o">)</span> at 2013-07-17 23:33 EEST
</span><span class='line'>Nmap scan report <span class="k">for </span>192.168.0.100
</span><span class='line'>Host is up <span class="o">(</span>0.065s latency<span class="o">)</span>.
</span><span class='line'>Not shown: 995 closed ports
</span><span class='line'>PORT     STATE         SERVICE
</span><span class='line'>67/udp   open|filtered dhcps
</span><span class='line'>68/udp   open|filtered dhcpc
</span><span class='line'>137/udp  open|filtered netbios-ns
</span><span class='line'>138/udp  open|filtered netbios-dgm
</span><span class='line'>5353/udp open|filtered zeroconf
</span><span class='line'>MAC Address: 1C:69:A5:D0:10:CD <span class="o">(</span>Unknown<span class="o">)</span>
</span><span class='line'>
</span><span class='line'>Nmap <span class="k">done</span>: 1 IP address <span class="o">(</span>1 host up<span class="o">)</span> scanned in 143.65 seconds
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/17/tip-how-to-enable-usb-networking-between-blackberry-z10-and-red-hat-enterprise-linux-6/">Tip: How to Enable USB Networking Between BlackBerry Z10 and Red Hat Enterprise Linux 6</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-17T11:06:00+03:00" pubdate data-updated="true">Jul 17<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/17/tip-how-to-enable-usb-networking-between-blackberry-z10-and-red-hat-enterprise-linux-6/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>On Linux there is a feature called USB networking which provides you with a
TCP/IP connection to another device connected via USB cable. Here is how to
connect your <a href="http://amzn.to/12y4ewJ">BlackBerry Z10</a>
to your Linux laptop over USB. I use Red Hat Enterprise Linux but should work
out of the box for other distros too.</p>

<p>Connect the Z10 to your laptop:</p>

<pre><code>    $ lsusb
    Bus 001 Device 005: ID 0fca:8020 Research In Motion, Ltd. Blackberry Playbook (CD-Rom mode)
</code></pre>

<p>By default many USB devices will present a virtual CD-ROM with drivers for Windows.
This is the case here too. To change it go to <code>Settings - Storage and Access</code> and
set <code>USB Connection</code> to <code>Connect to Mac</code>!</p>

<p>If necessary plug out and back in the Z10.</p>

<pre><code>    $ lsusb
    Bus 001 Device 007: ID 0fca:8013 Research In Motion, Ltd.

    $ ifconfig
    usb0      Link encap:Ethernet  HWaddr 1E:69:A5:D0:11:0A  
              inet addr:169.254.0.2  Bcast:169.254.0.3  Mask:255.255.255.252
              inet6 addr: fe80::1c69:a5ff:fed0:110a/64 Scope:Link
              UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
              RX packets:49 errors:0 dropped:0 overruns:0 frame:0
              TX packets:8 errors:0 dropped:0 overruns:0 carrier:0
              collisions:0 txqueuelen:1000 
              RX bytes:16002 (15.6 KiB)  TX bytes:1152 (1.1 KiB)
</code></pre>

<p><strong>IMPORTANT:</strong> In the same <code>Storage and Access</code> screen scroll down to
<code>USB Mass Storage</code> and turn it <code>Off</code>. If you don&#8217;t do this your Z10 will appear
as USB flash drive and no USB networking will be available. This is how it looks:</p>

<pre><code>    $ lsusb
    Bus 001 Device 008: ID 0fca:8014 Research In Motion, Ltd. 
</code></pre>

<p><strong>IMPORTANT:</strong> If you need your Z10 storage accessible together with USB networking
you can try accessing the device over Wi-Fi.
Configure it from the same <code>Storage and Access</code> screen. Then your device will be
available through Samba on its wireless IP address. I&#8217;ve tried it, works for me!</p>

<p>You don&#8217;t need anything else to get this working. All set!</p>

<p>My intention is to use either USB networking or Wi-Fi to
<a href="http://supportforums.blackberry.com/t5/Testing-and-Deployment/How-to-use-blackberry-connect-to-Enable-SSH-Access/ta-p/1515447">connect to the Z10 shell</a>
and explore it in more details.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/14/importing-vcard-contacts-to-blackberry-z10-sucks/">Importing vCard Contacts to BlackBerry Z10 Sucks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-14T21:09:00+03:00" pubdate data-updated="true">Jul 14<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/14/importing-vcard-contacts-to-blackberry-z10-sucks/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I can honestly state that <a href="http://amzn.to/12y4ewJ">BlackBerry Z10</a> sucks big
time when it comes to importing your contacts from another non-BlackBerry
device. I&#8217;ve been struggling to transfer my contacts from
<a href="http://amzn.to/10USRm2">Nokia 6303</a> to the Z10 for one day.</p>

<p>I tried a simple sync of the contacts from Nokia to Z10 over Bluetooth but
that failed miserably, telling me the Z10 doesn&#8217;t support this functionality.
This is what to do:</p>

<ul>
<li>On Nokia - <code>Settings - Sync and backup - Create backup</code>;</li>
<li>Then navigate to <code>Apps - Extras - Memory card - Backup files</code>;</li>
<li>Select the most recent backup file, e.g. <code>Backup000.NBF</code> and
transfer it via Bluetooth (or USB cable) to my laptop;</li>
</ul>


<p>For the record: this is a ZIP file with different extension. I&#8217;ve tried also
to transfer it to the Z10 and open from File manager but to no avail.</p>

<ul>
<li>Just unzip the file on the computer;</li>
<li>When extracted it will create multiple directories with meaningless names.
Just find whatever you need - in my case this was the <code>contacts/</code> directory
containing hundreds of <code>.vcf</code> files;</li>
<li><p>Combine all the <code>.vcf</code> files into one. On Linux this is done with</p>

<pre><code>  cat *.vcf &gt; ../all.vcf
</code></pre></li>
</ul>


<p>For the record: I&#8217;ve tried also sending all of these files to Z10. Via the
File manager individual vCards open just fine but you need to <code>Save</code> them one
by one. The combined vCard file didn&#8217;t display correctly at all. Showed only one
contact.</p>

<ul>
<li><p>Then go to Gmail (or any other CardDAV service) and import all your vCards.
Go to <code>Contacts - More - Import</code> - and select the combined vCard file since Gmail
doesn&#8217;t support multi-file uploads;</p></li>
<li><p>On your BlackBerry go to <code>Settings - Accounts</code> and add your Gmail account.
By default this will create profiles for mail, calendar and contacts which will
be synchronized with the device.</p></li>
</ul>


<p><strong>WARNING</strong> I had my Gmail previously configured on the Z10. Despite the account
was configured to re-sync every 15 minutes it took around 2 hours for phone numbers
to sync. And to make it worse there is no button for manual re-sync.</p>

<p>All of this done I have thousands of contacts on my Z10 spread across phone numbers,
emails, vCards and contacts from social networks. I&#8217;ve noticed some of them (my guess
those that had the same email or name) combined auto-magically. The rest can easily be
linked together using the Contacts app Link functionality.</p>

<p>For the record: It is also possible to send vCards one by one directly from Nokia to
Z10 via Bluetooth. The trouble is that for every entry you need to go through several
layers of menu options and confirmations. This makes it impractical.</p>

<h2>Summary</h2>

<ul>
<li>Importing hundreds of contacts from Nokia to BlackBerry Z10 is MIA;</li>
<li>BB Contacts app (and BB Hub) is cool but has some bugs;</li>
<li>Needs manual contact re-sync button;</li>
<li>Gmail re-sync took longer than expected;</li>
<li><p>Contacts Link feature can be improved and made more easy to use, e.g.</p>

<ul>
<li>grid style display</li>
<li>multiple select and link</li>
<li>swipe and link, etc;</li>
</ul>
</li>
<li><p>The current Link interface is sub-optimal</p>

<ul>
<li>select a contact</li>
<li>tap Links</li>
<li>tap Add Link</li>
<li>tap Search</li>
<li>type and find the entries you&#8217;d like to link;</li>
</ul>
</li>
<li><p>The current Link interface is buggy - when searching contacts to add
as links it shows the currently opened contact too. Luckily it doesn&#8217;t
crash when the same entry is selected :). I&#8217;ve tried.</p></li>
</ul>


<p>This is with OS Version 10.0.10.261.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/13/how-to-get-a-free-blackberry-z10/">How to Get a Free BlackBerry Z10</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-13T11:30:00+03:00" pubdate data-updated="true">Jul 13<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/13/how-to-get-a-free-blackberry-z10/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Do you want to have the latest and greatest devices on the market? For free?
No problem if you are a software developer! Over the years I&#8217;ve got several
devices for free and I will tell you how I did it.</p>

<blockquote><p>Find a hardware vendor that has<br/>launched new products, is behind competitors in terms of software eco-system<br/>and present them with a great application which you will code on their device.</p></blockquote>


<p><img src="/images/bbz10_tshirt.jpg" alt="BlackBerry Z10 T-Shirt" style="display:block;clear:both;" /></p>

<p>This week I&#8217;ve been at the BlackBerry 10 Mini Jam in Sofia and I got a
<a href="http://amzn.to/12y4ewJ">BlackBerry Z10</a> Dev Alpha B smart-phone.</p>

<p>BlackBerry 10 OS is different from previous versions. It has a QNX kernel and is
largely incompatible with previous software. This means all apps need to be rewritten.</p>

<p>Another thing to note is that BlackBerry is behind Android, iPhone and probably Windows Phone
in terms of applications. It is in their interest to lower the barrier to entry for developers
and boost their software eco-system. Which in turn makes customers happy because they can
find all sorts of applications. It&#8217;s that simple.</p>

<p>Being a Linux guy
my idea is to trade my <a href="http://amzn.to/12y5hwp">Lenovo X220</a> for a smart-phone.
The only thing(s) I need is all the command line tools which I use: bash, vim, coreutils
and most notably Python. So I&#8217;ve decided to try and port all of these to the BlackBerry 10 OS.
It should be doable because QNX is POSIX compliant and the OS itself comes with C/C++ and
Qt/QML native development stack.</p>

<p>I have a few other ideas which are still taking shape in my head and are mostly towards
mobile development.</p>

<p>I&#8217;ve heard <a href="http://www.bbdevbalkan.com">BlackBerry Developer Group Balkan</a> may
have some devices to give away to developers so I simply asked. They liked my ideas and
agreed to give me a developer device.</p>

<p>In addition
they&#8217;ve given away the real product (not dev alpha devices) for free at Twitter contests
held during couple of events so far. Several guys I know were lucky enough to win the prizes.</p>

<h2>The OLPC XO laptop</h2>

<p><img src="/images/olpc_xo.jpg" alt="OLPC XO laptop" style="float:left;margin-right:10px" /></p>

<p>In the past I&#8217;ve taken part in testing <a href="http://fedoraproject.org">Fedora</a> onto
the XO laptop produced by the <a href="http://laptop.org">One Laptop Per Child</a> project.</p>

<p>It is cool and innovative device with its software especially adapted to
child education. The general public wanted to have a standard Linux distro
running on the same hardware. Fedora being the original foundation on which the XO
Linux distro was built was a good choice (among others).</p>

<p>I have received for free the XO laptop shown here and mainly tested networking
related stuff. After the test initiative was completed (and also the upstream OLPC
project ceased to exist closely after that) I got to keep the device for myself.</p>

<h2>Which device to get ?</h2>

<p>I&#8217;ll keep my eyes open for a Firefox OS or Ubuntu Phone devices. As they come into stores
they will have to compete with already established vendors.</p>

<p>Let me and everyone else know if you got a device for free being a developer! Share your
story and tips into the comments below.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/08/tip-setting-secure-env-variables-on-red-hat-openshift/">Tip: Setting Secure ENV Variables on Red Hat OpenShift</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-08T21:39:00+03:00" pubdate data-updated="true">Jul 8<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/08/tip-setting-secure-env-variables-on-red-hat-openshift/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>OpenShift is
<a href="https://www.openshift.com/content/custom-environment-variables">still missing</a>
the client side tools to set environment variables without exposing the values
in source code but there is a way to do it. Here is how.</p>

<p>First ssh into your application and navigate to the <code>$OPENSHIFT_DATA_DIR</code>.
Create a file to define your environment.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>rhc ssh -a difio
</span><span class='line'>Password: ***
</span><span class='line'>
</span><span class='line'><span class="o">[</span>difio-otb.rhcloud.com 51d32a854382ecf7a9000116<span class="o">]</span><span class="se">\&gt;</span> <span class="nb">cd</span> <span class="nv">$OPENSHIFT_DATA_DIR</span>
</span><span class='line'><span class="o">[</span>difio-otb.rhcloud.com data<span class="o">]</span><span class="se">\&gt;</span> vi myenv.sh
</span><span class='line'><span class="o">[</span>difio-otb.rhcloud.com data<span class="o">]</span><span class="se">\&gt;</span> cat myenv.sh
</span><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'><span class="nb">export </span><span class="nv">MYENV</span><span class="o">=</span><span class="s2">&quot;hello&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="o">[</span>difio-otb.rhcloud.com data<span class="o">]</span><span class="se">\&gt;</span> chmod a+x myenv.sh
</span><span class='line'><span class="o">[</span>difio-otb.rhcloud.com data<span class="o">]</span><span class="se">\&gt;</span> <span class="nb">exit</span>
</span><span class='line'>Connection to difio-otb.rhcloud.com closed.
</span></code></pre></td></tr></table></div></figure>


<p>Now modify your code and git push to OpenShift. Then ssh into the app once
again to verify that your configuration is still in place.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>atodorov@redbull difio<span class="o">]</span><span class="nv">$ </span>rhc ssh -a difio
</span><span class='line'>Password: ***
</span><span class='line'>
</span><span class='line'><span class="o">[</span>difio-otb.rhcloud.com 51d32a854382ecf7a9000116<span class="o">]</span><span class="se">\&gt;</span> <span class="nb">cd</span> <span class="nv">$OPENSHIFT_DATA_DIR</span>
</span><span class='line'><span class="o">[</span>difio-otb.rhcloud.com data<span class="o">]</span><span class="se">\&gt;</span> ls -l
</span><span class='line'>total 4
</span><span class='line'>-rwxr-xr-x. 1 51d32a854382ecf7a9000116 51d32a854382ecf7a9000116 34  8 jul 14,33 myenv.sh
</span><span class='line'><span class="o">[</span>difio-otb.rhcloud.com data<span class="o">]</span><span class="se">\&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Use the defined variables as you wish.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/04/give-a-book-get-a-laptop-with-discount/">Give a Book, Get a Laptop With Discount</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-04T11:44:00+03:00" pubdate data-updated="true">Jul 4<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/07/04/give-a-book-get-a-laptop-with-discount/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/startup/timeheroes.png" alt="Time Heroes" style="float:left; margin-right:10px;"/></p>

<p>Bulgarian start-up TimeHeroes.org is helping a non-profit organization to
<a href="http://timeheroes.org/podaretekniga/264">collect used computers and books for children in foster care</a>.
They are helping more children get access to the Internet.</p>

<p>I will donate an
<a target="_blank" href="http://www.amazon.com/s/?_encoding=UTF8&camp=1789&creative=390957&field-keywords=asus&linkCode=ur2&sprefix=asus%2Caps%2C398&tag=atodorovorg-20&url=search-alias%3Dcomputers">Asus</a><img src="https://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
eeePC and a
<a target="_blank" href="http://www.amazon.com/s/?_encoding=UTF8&camp=1789&creative=390957&keywords=fujitsu%20laptop&linkCode=ur2&qid=1372944368&rh=i%3Acomputers%2Ck%3Afujitsu%20laptop&tag=atodorovorg-20">Fujitsu</a><img src="https://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
laptop plus all books
from my <a href="/give-away/">Give Away List</a>, which are not currently taken.
Because this is not much I have an offer for everyone else, who would like to help.</p>

<div style="clear:both"></div>


<h2>What is the offer</h2>

<p><strong>Give a book or your old laptop and get a new one with discount!</strong>.</p>

<p>My company
<a href="http://otb.bg">Open Technologies Bulgaria, Ltd.</a> is an authorized reseller of Vali Computers and
Fujitsu. Hardware reselling is not the main company activity but a backup in case a customer
wants to purchase entire solution from one vendor.</p>

<p>I will not charge the standard reseller&#8217;s discount (between 5% and 10%) if you drop-off your books
or old laptops with me and agree to donated them to children.
The offer is valid as long as the donation campaign is (I don&#8217;t know how long but looks like ongoing).</p>

<p>You can select anything from <a href="http://www.vali.bg">http://www.vali.bg</a> with the reseller&#8217;s discount off!
Delivery or pick-up is on you though.</p>

<p>If you want to participate use the comments below and I will get in touch with you.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/01/july-events-blackberry-mini-jam-and-devel-conference/">July Events - BlackBerry Mini Jam and Devel Conference</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-01T11:06:00+03:00" pubdate data-updated="true">Jul 1<span>st</span>, 2013</time>
        
         | <a href="/blog/2013/07/01/july-events-blackberry-mini-jam-and-devel-conference/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you happen to be on holiday in Bulgaria but would still like to meet
some hackers there are three events this month that I find interesting:
Plovdiv Conf, BlackBerry Mini Developer Jam and Varna Conf.</p>

<p><img src="/images/code.jpg" alt="source code" style="display:block;clear:both;"/>
Image: source code from a game development course held at Sofia University couple of years ago.
Own work.</p>

<h2>Plovdiv Conf</h2>

<p><a href="http://plovdivconf.com/">Plovdiv Conf</a> will be held at the Plovdiv Fair
on July 6th 2013. There isn&#8217;t an official program but the speaker profiles are
interesting. Among them are guys well known for their Ruby and Linux skills.</p>

<p>From the given list I recognize only half the names. One speaker that sounds
interesting to me claims experience with programming assembler for the mainframe.</p>

<p>My friend <a href="http://akurtakov.blogspot.com/">Alexander Kurtakov</a> from Red Hat/Eclipse
will be there as well so I&#8217;m planning to attend this event.</p>

<h2>BlackBerry 10 Mini Jam Sofia</h2>

<p>Organized by BlackBerry Developer Group Balkan the
<a href="http://bb10jamsofia2013.eventbrite.com/">BlackBerry 10 Mini Jam Sofia</a> will be held
on July 11th 2013 at <a href="http://betahaus.bg">betahaus Sofia</a>. Last time I visited
a <a href="/blog/2013/05/23/balkan-venture-forum-sofia-post-mortem/">BlackBerry developers session</a> it
was very interesting.</p>

<p>My personal interest at the moment is not developing mobile applications but I&#8217;d like to hear
more about the possibilities. My understanding is that BlackBerry 10 is much more flexible
as a development platform compared to Android and iOS.</p>

<p>I will definitely attend this event because there will be a shiny new <strong>BlackBerry Z 10</strong>
waiting for me there :). I will tell you how to secure one after I get it.</p>

<h2>Varna Conf</h2>

<p><a href="http://varnaconf.com/">Varna Conf</a> is organized by the same people who do Plovdiv Conf.
It will be held on July 20th 2013 at Cherno More hotel in Varna.</p>

<p>Most of the speakers I don&#8217;t know but there are couple of topics about testing and refactoring
which look interesting. However I will be more likely to socialize with the local development
groups rather than listening to all talks.</p>

<p>I&#8217;m not sure if I will attend though. My initial plan was to attend but there are other personal
errands that are popping up. Given that it is not near Sofia I will probably skip it.</p>

<p>If you happen
to be on holiday at the Bulgarian sea side however, you should definitely check it out. And Varna is
a very nice city too.</p>

<p>Let me know if there are other interesting events in the vicinity! Use the comments and tell me where
are you going this month.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/26/performance-test-amazon-elasticache-vs-amazon-s3/">Performance Test: Amazon ElastiCache vs Amazon S3</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-26T21:22:00+03:00" pubdate data-updated="true">Jun 26<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/06/26/performance-test-amazon-elasticache-vs-amazon-s3/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Which Django cache backend is faster? Amazon ElastiCache or Amazon S3 ?</p>

<p>Previously I&#8217;ve mentioned about
<a href="/blog/2013/06/19/django-tips-using-cache-for-stateful-http/">using Django&#8217;s cache to keep state between HTTP requests</a>.
In my demo described there I was using <a href="http://github.com/atodorov/django-s3-cache">django-s3-cache</a>.
It is time to move to production so I decided to measure the performance difference between the two
cache options available at Amazon Web Services.</p>

<p><strong>Update 2013-07-01</strong>: my initial test may have been false since I had not configured
ElastiCache access properly. I saw no errors but discovered the issue today on another
system which was failing to store the cache keys but didn&#8217;t show any errors either.
I&#8217;ve re-run the tests and updated times are shown below.</p>

<h2>Test infrastructure</h2>

<ul>
<li>One Amazon S3 bucket, located in US Standard (aka US East) region;</li>
<li>One Amazon ElastiCache cluster with one Small Cache Node (cache.m1.small) with Moderate I/O capacity;</li>
<li>One Amazon Elasticache cluster with one Large Cache Node (cache.m1.large) with High I/O Capacity;</li>
<li><strong>Update:</strong> I&#8217;ve tested both <code>python-memcached</code> and <code>pylibmc</code> client libraries for Django;</li>
<li><strong>Update:</strong> Test is executed from an EC2 node in the us-east-1a availability zone;</li>
<li><strong>Update:</strong> Cache clusters are in the us-east-1a availability zone.</li>
</ul>


<h2>Test Scenario</h2>

<p>The test platform is Django. I&#8217;ve created a
<a href="https://github.com/atodorov/Amazon-ElastiCache-vs-Amazon-S3-Django">skeleton project</a>
with only <code>CACHES</code> settings
defined and necessary dependencies installed. A file called <code>test.py</code> holds the
test cases, which use the standard timeit module. The object which is stored in cache
is very small - it holds a phone/address identifiers and couple of user made selections.
The code looks like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">timeit</span>
</span><span class='line'>
</span><span class='line'><span class="n">s3_set</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="sd">for i in range(1000):</span>
</span><span class='line'><span class="sd">    my_cache.set(i, MyObject)</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="p">,</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="sd">from django.core import cache</span>
</span><span class='line'>
</span><span class='line'><span class="sd">my_cache = cache.get_cache(&#39;default&#39;)</span>
</span><span class='line'>
</span><span class='line'><span class="sd">MyObject = {</span>
</span><span class='line'><span class="sd">    &#39;from&#39; : &#39;359123456789&#39;,</span>
</span><span class='line'><span class="sd">    &#39;address&#39; : &#39;6afce9f7-acff-49c5-9fbe-14e238f73190&#39;,</span>
</span><span class='line'><span class="sd">    &#39;hour&#39; : &#39;12:30&#39;,</span>
</span><span class='line'><span class="sd">    &#39;weight&#39; : 5,</span>
</span><span class='line'><span class="sd">    &#39;type&#39; : 1,</span>
</span><span class='line'><span class="sd">}</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">s3_get</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="sd">for i in range(1000):</span>
</span><span class='line'><span class="sd">    MyObject = my_cache.get(i)</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="p">,</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="sd">from django.core import cache</span>
</span><span class='line'>
</span><span class='line'><span class="sd">my_cache = cache.get_cache(&#39;default&#39;)</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c">### skip ###</span>
</span></code></pre></td></tr></table></div></figure>


<p>Tests were executed from the Django shell <del>on my laptop</del>
on an EC2 instance in the us-east-1a availability zone. ElastiCache nodes
were freshly created/rebooted before test execution. S3 bucket had no objects.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="err">$</span> <span class="o">./</span><span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">shell</span>
</span><span class='line'><span class="n">Python</span> <span class="mf">2.6</span><span class="o">.</span><span class="mi">8</span> <span class="p">(</span><span class="n">unknown</span><span class="p">,</span> <span class="n">Mar</span> <span class="mi">14</span> <span class="mi">2013</span><span class="p">,</span> <span class="mi">09</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">22</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="n">GCC</span> <span class="mf">4.6</span><span class="o">.</span><span class="mi">2</span> <span class="mi">20111027</span> <span class="p">(</span><span class="n">Red</span> <span class="n">Hat</span> <span class="mf">4.6</span><span class="o">.</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)]</span> <span class="n">on</span> <span class="n">linux2</span>
</span><span class='line'><span class="n">Type</span> <span class="s">&quot;help&quot;</span><span class="p">,</span> <span class="s">&quot;copyright&quot;</span><span class="p">,</span> <span class="s">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
</span><span class='line'><span class="p">(</span><span class="n">InteractiveConsole</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="o">*</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">s3_set</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="mf">68.089607000350952</span><span class="p">,</span> <span class="mf">70.806712865829468</span><span class="p">,</span> <span class="mf">72.49261999130249</span><span class="p">]</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">s3_get</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="mf">43.778793096542358</span><span class="p">,</span> <span class="mf">43.054368019104004</span><span class="p">,</span> <span class="mf">36.19232702255249</span><span class="p">]</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">pymc_set</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="mf">0.40637087821960449</span><span class="p">,</span> <span class="mf">0.3568730354309082</span><span class="p">,</span> <span class="mf">0.35815882682800293</span><span class="p">]</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">pymc_get</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="mf">0.35759496688842773</span><span class="p">,</span> <span class="mf">0.35180497169494629</span><span class="p">,</span> <span class="mf">0.39198613166809082</span><span class="p">]</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">libmc_set</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="mf">0.3902890682220459</span><span class="p">,</span> <span class="mf">0.30157709121704102</span><span class="p">,</span> <span class="mf">0.30596804618835449</span><span class="p">]</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">libmc_get</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="mf">0.28874802589416504</span><span class="p">,</span> <span class="mf">0.30520200729370117</span><span class="p">,</span> <span class="mf">0.29050207138061523</span><span class="p">]</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">libmc_large_set</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="mf">1.0291709899902344</span><span class="p">,</span> <span class="mf">0.31709098815917969</span><span class="p">,</span> <span class="mf">0.32010698318481445</span><span class="p">]</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">libmc_large_get</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="mf">0.2957158088684082</span><span class="p">,</span> <span class="mf">0.29067802429199219</span><span class="p">,</span> <span class="mf">0.29692888259887695</span><span class="p">]</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Results</h2>

<p>As expected ElastiCache is much faster (10x) compared to S3. However the difference
between the two ElastiCache node types is subtle. I will stay with the smallest
possible node to minimize costs. Also as seen, pylibmc is a bit faster compared to
the pure Python implementation.</p>

<p>Depending on your objects size or how many set/get operations you perform per
second you may need to go with the larger nodes. Just test it!</p>

<p><del>It surprised me how slow django-s3-cache is.</del>
The false test showed django-s3-cache to be 100x slower but new results are better.
10x decrease in performance sounds about right for a filesystem backed cache.</p>

<p>A quick look at the code
of the two backends shows some differences. The one I immediately see is that
for every cache key django-s3-cache creates an sha1 hash which is used as the
storage file name. This was modeled after the filesystem backend but I think the
design is wrong - the memcached backends don&#8217;t do this.</p>

<p>Another one is that django-s3-cache time-stamps all objects and uses pickle to serialize them.
I wonder if it can&#8217;t just write them as binary blobs directly. There&#8217;s definitely lots
of room for improvement of django-s3-cache. I will let you know my findings once I
get to it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/24/twilio-is-located-in-amazon-web-services-us-east/">Twilio Is Located in Amazon Web Services US East</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-24T23:43:00+03:00" pubdate data-updated="true">Jun 24<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/06/24/twilio-is-located-in-amazon-web-services-us-east/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>Where do I store my audio files in order to minimize download and call wait time?</p></blockquote>


<p>Twilio is a cloud vendor that provides telephony services.
It can download and <code>&lt;Play&gt;</code> arbitrary audio files and will cache the files
for better performance.</p>

<p>Twilio support told me they are not disclosing the location of their servers,
so from my web application hosted in AWS US East:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>ivr-otb.rhcloud.com logs<span class="o">]</span><span class="se">\&gt;</span> grep TwilioProxy access_log-* | cut -f 1 -d <span class="s1">&#39;-&#39;</span> | sort | uniq
</span><span class='line'>10.125.90.172
</span><span class='line'>10.214.183.239
</span><span class='line'>10.215.187.220
</span><span class='line'>10.245.155.18
</span><span class='line'>10.255.119.159
</span><span class='line'>10.31.197.102
</span></code></pre></td></tr></table></div></figure>


<p>Now let&#8217;s map these addresses to host names. From another EC2 system, also in Amazon US East:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>ec2-user@ip-10-29-206-86 ~<span class="o">]</span><span class="nv">$ </span>dig -x 10.125.90.172 -x 10.214.183.239 -x 10.215.187.220 -x 10.245.155.18 -x 10.255.119.159 -x 10.31.197.102
</span><span class='line'>
</span><span class='line'>; &lt;&lt;&gt;&gt; DiG 9.8.2rc1-RedHat-9.8.2-0.17.rc1.29.amzn1 &lt;&lt;&gt;&gt; -x 10.125.90.172 -x 10.214.183.239 -x 10.215.187.220 -x 10.245.155.18 -x 10.255.119.159 -x 10.31.197.102
</span><span class='line'>;; global options: +cmd
</span><span class='line'>;; Got answer:
</span><span class='line'>;; -&gt;&gt;HEADER<span class="s">&lt;&lt;- opcode: QUERY, status: NOERROR, id: 43245</span>
</span><span class='line'><span class="s">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; QUESTION SECTION:</span>
</span><span class='line'><span class="s">;172.90.125.10.in-addr.arpa.    IN      PTR</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; ANSWER SECTION:</span>
</span><span class='line'><span class="s">172.90.125.10.in-addr.arpa. 113 IN      PTR     ip-10-125-90-172.ec2.internal.</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; Query time: 1 msec</span>
</span><span class='line'><span class="s">;; SERVER: 172.16.0.23#53(172.16.0.23)</span>
</span><span class='line'><span class="s">;; WHEN: Mon Jun 24 20:48:21 2013</span>
</span><span class='line'><span class="s">;; MSG SIZE  rcvd: 87</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; Got answer:</span>
</span><span class='line'><span class="s">;; -&gt;&gt;HEADER&lt;&lt;- opcode</span>: QUERY, status: NOERROR, id: 52693
</span><span class='line'>;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
</span><span class='line'>
</span><span class='line'>;; QUESTION SECTION:
</span><span class='line'>;239.183.214.10.in-addr.arpa.   IN      PTR
</span><span class='line'>
</span><span class='line'>;; ANSWER SECTION:
</span><span class='line'>239.183.214.10.in-addr.arpa. 42619 IN   PTR     domU-12-31-39-0B-B0-01.compute-1.internal.
</span><span class='line'>
</span><span class='line'>;; Query <span class="nb">time</span>: 0 msec
</span><span class='line'>;; SERVER: 172.16.0.23#53<span class="o">(</span>172.16.0.23<span class="o">)</span>
</span><span class='line'>;; WHEN: Mon Jun 24 20:48:21 2013
</span><span class='line'>;; MSG SIZE  rcvd: 100
</span><span class='line'>
</span><span class='line'>;; Got answer:
</span><span class='line'>;; -&gt;&gt;HEADER<span class="s">&lt;&lt;- opcode: QUERY, status: NOERROR, id: 25255</span>
</span><span class='line'><span class="s">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; QUESTION SECTION:</span>
</span><span class='line'><span class="s">;220.187.215.10.in-addr.arpa.   IN      PTR</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; ANSWER SECTION:</span>
</span><span class='line'><span class="s">220.187.215.10.in-addr.arpa. 43140 IN   PTR     domU-12-31-39-0C-B8-2E.compute-1.internal.</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; Query time: 0 msec</span>
</span><span class='line'><span class="s">;; SERVER: 172.16.0.23#53(172.16.0.23)</span>
</span><span class='line'><span class="s">;; WHEN: Mon Jun 24 20:48:21 2013</span>
</span><span class='line'><span class="s">;; MSG SIZE  rcvd: 100</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; Got answer:</span>
</span><span class='line'><span class="s">;; -&gt;&gt;HEADER&lt;&lt;- opcode</span>: QUERY, status: NOERROR, id: 15099
</span><span class='line'>;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
</span><span class='line'>
</span><span class='line'>;; QUESTION SECTION:
</span><span class='line'>;18.155.245.10.in-addr.arpa.    IN      PTR
</span><span class='line'>
</span><span class='line'>;; ANSWER SECTION:
</span><span class='line'>18.155.245.10.in-addr.arpa. 840 IN      PTR     ip-10-245-155-18.ec2.internal.
</span><span class='line'>
</span><span class='line'>;; Query <span class="nb">time</span>: 0 msec
</span><span class='line'>;; SERVER: 172.16.0.23#53<span class="o">(</span>172.16.0.23<span class="o">)</span>
</span><span class='line'>;; WHEN: Mon Jun 24 20:48:21 2013
</span><span class='line'>;; MSG SIZE  rcvd: 87
</span><span class='line'>
</span><span class='line'>;; Got answer:
</span><span class='line'>;; -&gt;&gt;HEADER<span class="s">&lt;&lt;- opcode: QUERY, status: NOERROR, id: 28878</span>
</span><span class='line'><span class="s">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; QUESTION SECTION:</span>
</span><span class='line'><span class="s">;159.119.255.10.in-addr.arpa.   IN      PTR</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; ANSWER SECTION:</span>
</span><span class='line'><span class="s">159.119.255.10.in-addr.arpa. 43140 IN   PTR     domU-12-31-39-01-70-51.compute-1.internal.</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; Query time: 0 msec</span>
</span><span class='line'><span class="s">;; SERVER: 172.16.0.23#53(172.16.0.23)</span>
</span><span class='line'><span class="s">;; WHEN: Mon Jun 24 20:48:21 2013</span>
</span><span class='line'><span class="s">;; MSG SIZE  rcvd: 100</span>
</span><span class='line'>
</span><span class='line'><span class="s">;; Got answer:</span>
</span><span class='line'><span class="s">;; -&gt;&gt;HEADER&lt;&lt;- opcode</span>: QUERY, status: NOERROR, id: 28727
</span><span class='line'>;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
</span><span class='line'>
</span><span class='line'>;; QUESTION SECTION:
</span><span class='line'>;102.197.31.10.in-addr.arpa.    IN      PTR
</span><span class='line'>
</span><span class='line'>;; ANSWER SECTION:
</span><span class='line'>102.197.31.10.in-addr.arpa. 840 IN      PTR     ip-10-31-197-102.ec2.internal.
</span><span class='line'>
</span><span class='line'>;; Query <span class="nb">time</span>: 0 msec
</span><span class='line'>;; SERVER: 172.16.0.23#53<span class="o">(</span>172.16.0.23<span class="o">)</span>
</span><span class='line'>;; WHEN: Mon Jun 24 20:48:21 2013
</span><span class='line'>;; MSG SIZE  rcvd: 87
</span></code></pre></td></tr></table></div></figure>


<p>In short:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ip-10-125-90-172.ec2.internal.
</span><span class='line'>ip-10-245-155-18.ec2.internal.
</span><span class='line'>ip-10-31-197-102.ec2.internal.
</span><span class='line'>domU-12-31-39-01-70-51.compute-1.internal.
</span><span class='line'>domU-12-31-39-0B-B0-01.compute-1.internal.
</span><span class='line'>domU-12-31-39-0C-B8-2E.compute-1.internal.</span></code></pre></td></tr></table></div></figure>


<p>The <code>ip-*.ec2.internal</code> are clearly in US East. The <code>domU-*.computer-1.internal</code> also
look like US East although I&#8217;m not 100% sure what is the difference between the two.
The later ones look like HVM guests while the former ones are para-virtualized.</p>

<p>For comparison here are some internal addresses from my own EC2 systems:</p>

<ul>
<li>ip-10-228-237-207.eu-west-1.compute.internal - EU Ireland</li>
<li>ip-10-248-19-46.us-west-2.compute.internal - US West Oregon</li>
<li>ip-10-160-58-141.us-west-1.compute.internal - US West N. California</li>
</ul>


<p>After relocating my audio files to an S3 bucket in US East the average call length
dropped from 2:30 min to 2:00 min for the same IVR choices. This also minimizes
the costs since Twilio charges per minute of incoming/outgoing calls.
I think the audio quality has improved as well.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/20/even-facebook-has-bugs/">Even Facebook Has Bugs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-20T10:17:00+03:00" pubdate data-updated="true">Jun 20<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/06/20/even-facebook-has-bugs/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/facebook_ui_bug.png" alt="Faceook bug" style="float:left; margin-right: 10px;"/></p>

<p>Here&#8217;s a small but very visible UI bug in Facebook. While selecting for which
applications to receive or not notifications there is a small progress bar image
that appears left of the checkbox element. The trouble is this image displaces the
checkbox and it appears to float right and left during the AJAX call. This is annoying.</p>

<p>There&#8217;s an easy fix - either fix the progress image and checkbox positions so they don&#8217;t move
or place the image to the right.</p>

<p>In my practice these types of bugs are common. I usually classify them with High priority,
because they tend to annoy the user and generate support calls or just look unprofessional.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/19/tip-caching-large-objects-for-celery-and-amazon-sqs/">Tip: Caching Large Objects for Celery and Amazon SQS</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-19T14:29:00+03:00" pubdate data-updated="true">Jun 19<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/06/19/tip-caching-large-objects-for-celery-and-amazon-sqs/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some time ago a guy called Matt
<a href="https://groups.google.com/forum/?fromgroups=#!topic/celery-users/RFAuGjZwtmg">asked</a>
about passing large objects through their messaging queue. They were switching from
RabbitMQ to Amazon SQS which has a limit of 64K total message size.</p>

<p>Recently I&#8217;ve made some changes in <a href="http://www.dif.io">Difio</a> which require passing
larger objects as parameters to a Celery task. Since Difio is also using SQS I faced the
same problem. Here is the solution using a cache back-end:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">celery.task</span> <span class="kn">import</span> <span class="n">task</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">django.core</span> <span class="kn">import</span> <span class="n">cache</span> <span class="k">as</span> <span class="n">cache_module</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">some_method</span><span class="p">():</span>
</span><span class='line'>    <span class="o">...</span> <span class="n">skip</span> <span class="o">...</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">task_cache</span> <span class="o">=</span> <span class="n">cache_module</span><span class="o">.</span><span class="n">get_cache</span><span class="p">(</span><span class="s">&#39;taskq&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">task_cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">uuid</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="mi">3600</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">handle_data</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">...</span> <span class="n">skip</span> <span class="o">...</span>
</span><span class='line'>
</span><span class='line'><span class="nd">@task</span>
</span><span class='line'><span class="k">def</span> <span class="nf">handle_data</span><span class="p">(</span><span class="n">uuid</span><span class="p">):</span>
</span><span class='line'>    <span class="n">task_cache</span> <span class="o">=</span> <span class="n">cache_module</span><span class="o">.</span><span class="n">get_cache</span><span class="p">(</span><span class="s">&#39;taskq&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">data</span> <span class="o">=</span> <span class="n">task_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
</span><span class='line'>        <span class="k">return</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">...</span> <span class="n">do</span> <span class="n">stuff</span> <span class="o">...</span>
</span></code></pre></td></tr></table></div></figure>


<p>Objects are persisted in a secondary cache back-end, not the default one, to avoid
accidental destruction. <code>uuid</code> parameter is a string.</p>

<p>Although the objects passed are smaller than 64K I haven&#8217;t seen any issues
with this solution so far. Let me know if you are using something similar in your code
and how it works for you.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/19/django-tips-using-cache-for-stateful-http/">Django Tips: Using Cache for Stateful HTTP</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-19T13:50:00+03:00" pubdate data-updated="true">Jun 19<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/06/19/django-tips-using-cache-for-stateful-http/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>How do you keep state when working with a stateless protocol like HTTP?
One possible answer is to use a cache back-end.</p>

<p>I&#8217;m working on an IVR application demo with Django and Twilio. The caller
will make multiple choices using the phone keyboard. All of this needs to be
put together and sent back to another server for processing. In my views
I&#8217;ve added a simple cache get/set lines to preserve the selection.</p>

<p>Here&#8217;s how it looks with actual application logic omitted</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">incoming_call</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class='line'>    <span class="n">call_sid</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;CallSid&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">caller_id</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;From&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">state</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;from&#39;</span> <span class="p">:</span> <span class="n">caller_id</span><span class="p">}</span>
</span><span class='line'>    <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">call_sid</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">&#39;step2.xml&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">step2</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class='line'>    <span class="n">call_sid</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;CallSid&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">selection</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Digits&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">state</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">call_sid</span><span class="p">,</span> <span class="p">{})</span>
</span><span class='line'>    <span class="n">state</span><span class="p">[</span><span class="s">&#39;step2_selection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">selection</span>
</span><span class='line'>    <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">call_sid</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">&#39;final_step.xml&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">final_step</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class='line'>    <span class="n">call_sid</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;CallSid&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">selection</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Digits&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">state</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">call_sid</span><span class="p">,</span> <span class="p">{})</span>
</span><span class='line'>    <span class="n">state</span><span class="p">[</span><span class="s">&#39;final_step_selection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">selection</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Backend</span><span class="o">.</span><span class="n">process_user_selections</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">&#39;thank_you.xml&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>At each step Django will update the current state associated with this call and return
a <a href="https://www.twilio.com/docs/api/twiml">TwiML</a> XML response. <code>CallSid</code> is a handy unique
identifier provided by Twilio.</p>

<p>I am using the latest <a href="http://github.com/atodorov/django-s3-cache">django-s3-cache</a> version
which properly works with directories. When going to production that will likely switch to
Amazon ElastiCache.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/18/nibbler-w3c-validator-on-steroids/">Nibbler - W3C Validator on Steroids</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-18T23:59:00+03:00" pubdate data-updated="true">Jun 18<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/06/18/nibbler-w3c-validator-on-steroids/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve recently found Nibbler which gives you a report scoring the website out of
10 for various important criteria including accessibility, SEO, social media
and technology.</p>

<p>The produced report is very interesting. Here is the
<a href="http://nibbler.silktide.com/reports/atodorov.org">report for this blog</a>.
There are things I definitely need to work on!</p>

<p>For comparison <a href="http://nibbler.silktide.com/reports/sofiavalley.com">SofiaValley</a>
scores far beyond this blog. It is stronger in marketing and popularity but
apparently weaker on the technology section. This is interesting!</p>

<p>PS: sorry for not producing technical content lately. I&#8217;ve been very busy
with some current projects however I&#8217;ve got lots of ideas and topics to blog about.
I hope to make it up to speed in the next few weeks. &#8211; Alex</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/14/personal-experience-with-credit-card-fraud-pt2/">Personal Experience With Credit Card Fraud, Part 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-14T10:09:00+03:00" pubdate data-updated="true">Jun 14<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/06/14/personal-experience-with-credit-card-fraud-pt2/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Earlier I wrote about my
<a href="/blog/2013/04/26/personal-experience-with-credit-card-fraud/">personal experience with credit card fraud</a>.
Now this issue is back again! Bad luck!</p>

<p><img src="/images/creditcard.jpg" alt="Credit Card Of The Future" style="display:block;clear:both;"/>
Image CC-BY, <a href="http://www.flickr.com/photos/scobleizer/5451075743/in/photostream/">Robert Scoble</a></p>

<p>Since my last card was re-issued I&#8217;ve used it <strong>only</strong> at Amazon Web Services, Google Apps and Globul. Nowhere else.
According to the bank representative, who woke me up this morning,
VISA has sent them a list of card numbers which need to be blocked immediately. The bank was vague about
it but briefly mentioned some kind of a leak of VISA&#8217;s card database.</p>

<p>Knowing how negligent payment operators can be I can easily accept this version. I&#8217;m wondering if there
will be an official press release from VISA. Let me know if you hear about this!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <p>
    I am a QA contractor at Red Hat responsible for over
    <a href="/blog/2014/02/19/7-years-1400-bugs-red-hat-qa/">1400 bugs</a>,
    a general purpose open source developer, Red Hat Certified professional,
    cloud hacker and an <a href="/projects/">entrepreneur</a>.
  </p>

  <p>
    I&#8217;m living in the <a href="http://planet.sofiavalley.com">Sofia Valley</a>
    which is emerging as a busy place for start-up founders and tech enthusiasts
    in Eastern Europe! You can find more about me <a href="/about/">here</a>.
  </p>
</section>

<section>
  
    <a href="http://twitter.com/atodorov_" class="twitter-follow-button" data-show-count="true">Follow @atodorov_</a>
  
</section>


<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:atodorov.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<section>
    <h1>
        <a href="/blog/categories/books/">Book Reviews</a>
    </h1>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/07/speeding-up-celery-backends-part-2/">Speeding up Celery Backends, Part 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/05/speeding-up-celery-backends/">Speeding up Celery Backends, Part 1</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/05/performance-profiling-in-python-with-cprofile/">Performance Profiling in Python with cProfile</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/14/mtel-fuck-up-online-invoices/">How Mtel, the Biggest Mobile Operator in Bulgaria, Fucked-Up Their Online Invoice System</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/13/shutdown-your-startup-in-7-steps/">Shutdown Your Startup in 7 Steps</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/30/traction-a-startup-guide-to-getting-customers/">Traction: A Startup Guide to Getting Customers</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/03/book-review-4-hour-workweek/">Book Review: The 4-Hour Workweek</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/19/book-review-how-to-win-friends/">Book Review: How to Win Friends</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/18/snake-is-no-longer-needed-to-run-installation-tests-in-beaker/">SNAKE is no Longer Needed to Run Installation Tests in Beaker</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/12/tip-collecting-emails-with-webhooks-uservoice-wordpress/">Tip: Collecting Emails - Webhooks for UserVoice and WordPress.com</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Disclaimer</h1>
  <p>
Some of the links contained within this site have my referral id (e.g., Amazon), which provides me with a small commission for each sale. Thank you for your support.
  </p>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">CC-BY-SA</a>
  &amp;
  <a rel="license" href="http://opensource.org/licenses/MIT">MIT</a>
  2011-2014 &diams; Alexander Todorov
  &diams;
  <a href="/about/">About Me</a>
  &diams;
  Popular categories:
<a href="/blog/categories/rhel/">Red Hat</a>,
<a href="/blog/categories/cloud/">Cloud</a>,
<a href="/blog/categories/fedora/">Fedora</a>,
<a href="/blog/categories/qa/">QA</a>,
<a href="/blog/categories/start-up/">Start-up</a>

  <a href="http://planet.sofiavalley.com" style="float:right">SofiaValley Blog</a>
</p>

<script type="text/javascript">
var uri = window.location.toString();
if (uri.indexOf("?") > 0) {
    var clean_uri = uri.substring(0, uri.indexOf("?"));
    window.history.replaceState({}, document.title, clean_uri);
}
</script>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'atodorov';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
