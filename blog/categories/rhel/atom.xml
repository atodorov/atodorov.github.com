<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: RHEL | atodorov.org]]></title>
  <link href="http://atodorov.org/blog/categories/rhel/atom.xml" rel="self"/>
  <link href="http://atodorov.org/"/>
  <updated>2013-08-04T00:26:33+03:00</updated>
  <id>http://atodorov.org/</id>
  <author>
    <name><![CDATA[Alexander Todorov]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[SSH from Linux to BlackBerry Z10]]></title>
    <link href="http://atodorov.org/blog/2013/07/19/ssh-from-linux-to-blackberry-z10/"/>
    <updated>2013-07-19T23:31:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/07/19/ssh-from-linux-to-blackberry-z10</id>
    <content type="html"><![CDATA[<p>You can SSH into a <a href="http://amzn.to/12y4ewJ">BlackBerry Z10</a> device even on Linux.
I'm using Red Hat Enterprise Linux 6 and here is how to establish the connection.</p>

<p>1) <a href="/blog/2013/07/17/tip-how-to-enable-usb-networking-between-blackberry-z10-and-red-hat-enterprise-linux-6/">Enable USB networking</a>
between your Linux desktop and the Z10;</p>

<p>2) Install the <a href="https://developer.blackberry.com/develop/platform_choice/ndk.html">Momentics IDE</a>.
You need it to create debug tokens and to start the SSH daemon on the device;</p>

<p>3) Obtain <a href="https://www.blackberry.com/SignedKeys/codesigning.html">signing keys</a>
and create a debug token by following the wizard in the IDE.
I just started a new project and followed the instructions;</p>

<p>4) Install debug token on device using the IDE. From <code>Window - Preferences</code> select
<code>Blackberry - Signing</code>. Just create and deploy the debug token on the device. Mine was
automatically discovered so I just had to follow the prompts;</p>

<p>5) Reboot and re-enable development mode (I'm not sure if this was necessary);</p>

<p>6) Generate a <strong>4096 bit</strong> key for SSH. Smaller keys won't work. You can use your
current key if it is 4096 bit;</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>ssh-keygen -t rsa -b 4096
</span><span class='line'>Generating public/private rsa key pair.
</span><span class='line'>Enter file in which to save the key <span class="o">(</span>/home/atodorov/.ssh/id_rsa<span class="o">)</span>: /home/atodorov/.rim/testKey_4096_rsa
</span><span class='line'>/home/atodorov/.rim/testKey_4096_rsa already exists.
</span><span class='line'>Overwrite <span class="o">(</span>y/n<span class="o">)</span>? y
</span><span class='line'>Enter passphrase <span class="o">(</span>empty <span class="k">for </span>no passphrase<span class="o">)</span>:
</span><span class='line'>Enter same passphrase again:
</span><span class='line'>Your identification has been saved in /home/atodorov/.rim/testKey_4096_rsa.
</span><span class='line'>Your public key has been saved in /home/atodorov/.rim/testKey_4096_rsa.pub.
</span><span class='line'>The key fingerprint is:
</span><span class='line'>77:73:55:03:e1:fc:5b:df:a6:e9:2c:b4:d4:1e:0c:b2 atodorov@redbull.mini
</span><span class='line'>The key<span class="err">&#39;</span>s randomart image is:
</span><span class='line'>+--<span class="o">[</span> RSA 4096<span class="o">]</span>----+
</span><span class='line'>|             oo..|
</span><span class='line'>|            o   o|
</span><span class='line'>|             o  .|
</span><span class='line'>|          . . .. |
</span><span class='line'>|        S .oo+...|
</span><span class='line'>|         .E.oo+ <span class="o">=</span>|
</span><span class='line'>|           o o o+|
</span><span class='line'>|            o..+ |
</span><span class='line'>|             <span class="nv">o</span><span class="o">=</span>  |
</span><span class='line'>+-----------------+
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>7) Update key permissions, since ssh complains:</p>

<pre><code>    $ chmod 600 ~/.rim/testKey_4096_rsa.pub
</code></pre>

<p>8) By default SSH is not listening on your BlackBerry. Use the <code>blackberry-connect</code>
command to start the SSH daemon on the device. It will upload your public SSH key
to the device and start the SSH daemon on the other side. <code>password</code> is your device
password;</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">pwd</span>
</span><span class='line'>/home/atodorov/bbndk/host_10_1_0_231/linux/x86/usr/bin&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>./blackberry-connect 169.254.0.1 -password 123456 -sshPublicKey ~/.rim/testKey_4096_rsa.pub
</span><span class='line'>Info: Connecting to target 169.254.0.1:4455
</span><span class='line'>Info: Authenticating with target 169.254.0.1:4455
</span><span class='line'>Info: Encryption parameters verified
</span><span class='line'>Info: Authenticating with target credentials.
</span><span class='line'>Info: Successfully authenticated with target credentials.
</span><span class='line'>Info: Sending ssh key to target 169.254.0.1:4455
</span><span class='line'>Info: ssh key successfully transferred.
</span><span class='line'>Info: Successfully connected. This application must remain running in order to use debug tools. Exiting the application will terminate this connection.
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>9) Check if SSH is running on the device</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>nmap 169.254.0.1&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Starting Nmap 5.51 <span class="o">(</span> http://nmap.org <span class="o">)</span> at 2013-07-18 10:19 EEST
</span><span class='line'>Stats: 0:00:01 elapsed; 0 hosts completed <span class="o">(</span>1 up<span class="o">)</span>, 1 undergoing Connect Scan
</span><span class='line'>Connect Scan Timing: About 14.30% <span class="k">done</span>; ETC: 10:20 <span class="o">(</span>0:00:06 remaining<span class="o">)</span>
</span><span class='line'>Nmap scan report <span class="k">for </span>169.254.0.1
</span><span class='line'>Host is up <span class="o">(</span>0.00097s latency<span class="o">)</span>.
</span><span class='line'>Not shown: 991 closed ports
</span><span class='line'>PORT     STATE SERVICE
</span><span class='line'>22/tcp   open  ssh
</span><span class='line'>80/tcp   open  http
</span><span class='line'>139/tcp  open  netbios-ssn
</span><span class='line'>443/tcp  open  https
</span><span class='line'>445/tcp  open  microsoft-ds
</span><span class='line'>1111/tcp open  lmsocialserver
</span><span class='line'>5555/tcp open  freeciv
</span><span class='line'>8000/tcp open  http-alt
</span><span class='line'>8443/tcp open  https-alt&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Nmap <span class="k">done</span>: 1 IP address <span class="o">(</span>1 host up<span class="o">)</span> scanned in 12.47 seconds
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>10)  Use SSH with the specified key to connect to the Z10. Username is <code>devuser</code>.
Here's a simple session:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>ssh -i ~/.rim/testKey_4096_rsa devuser@169.254.0.1
</span><span class='line'><span class="err">$</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">pwd</span>
</span><span class='line'>/accounts/devuser
</span><span class='line'><span class="nv">$ </span>uname -a
</span><span class='line'>QNX atodorovZ10 8.0.0 2013/05/02-08:42:48EDT OMAP4470_ES1.0_HS_London_Rev:08 armle
</span><span class='line'><span class="nv">$ </span>date
</span><span class='line'>Fri Jul 19 23:39:19 EEST 2013
</span><span class='line'><span class="nv">$ </span>ifconfig
</span><span class='line'>lo0: <span class="nv">flags</span><span class="o">=</span>8049&amp;lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 33192&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;inet 127.0.0.1 netmask 0xff000000
</span><span class='line'>inet6 ::1 prefixlen 128
</span><span class='line'>inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;tiw_drv0: <span class="nv">flags</span><span class="o">=</span>8c02&amp;lt;BROADCAST,OACTIVE,SIMPLEX,MULTICAST&gt; mtu 1500&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;address: 1c:69:a5:d0:10:cd
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;tiw_sta0: <span class="nv">flags</span><span class="o">=</span>40008c43&amp;lt;UP,BROADCAST,RUNNING,OACTIVE,SIMPLEX,MULTICAST,ACCEPTRTADV&gt; mtu 1500&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;address: 1c:69:a5:d0:10:cd
</span><span class='line'>inet 192.168.0.100 netmask 0xffffff00 broadcast 192.168.0.255
</span><span class='line'>inet6 fe80::1e69:a5ff:fed0:10cd%tiw_sta0 prefixlen 64 scopeid 0x12
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;tiw_p2pdev0: <span class="nv">flags</span><span class="o">=</span>8c02&amp;lt;BROADCAST,OACTIVE,SIMPLEX,MULTICAST&gt; mtu 1500&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;address: 1c:69:a5:d0:10:cd
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;tiw_p2pgrp0: <span class="nv">flags</span><span class="o">=</span>8c02&amp;lt;BROADCAST,OACTIVE,SIMPLEX,MULTICAST&gt; mtu 1500&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;address: 1c:69:a5:d0:10:cd
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;tiw_ibss0: <span class="nv">flags</span><span class="o">=</span>8c02&amp;lt;BROADCAST,OACTIVE,SIMPLEX,MULTICAST&gt; mtu 1500&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;address: 1c:69:a5:d0:10:cd
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;pflog0: <span class="nv">flags</span><span class="o">=</span>0 mtu 33192
</span><span class='line'>lo2: <span class="nv">flags</span><span class="o">=</span>8048&amp;lt;LOOPBACK,RUNNING,MULTICAST&gt; mtu 33192
</span><span class='line'>cellular0: <span class="nv">flags</span><span class="o">=</span>8810&amp;lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>cellular1: <span class="nv">flags</span><span class="o">=</span>8810&amp;lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>cellular2: <span class="nv">flags</span><span class="o">=</span>8810&amp;lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>cellular3: <span class="nv">flags</span><span class="o">=</span>8810&amp;lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>cellular4: <span class="nv">flags</span><span class="o">=</span>8810&amp;lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
</span><span class='line'>bptp0: <span class="nv">flags</span><span class="o">=</span>8043&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1356&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;inet6 fe80::1e69:a5ff:fed0:10cd%bptp0 prefixlen 64 scopeid 0x2d
</span><span class='line'>inet6 fd02:42ac:77b2:d543:c158:fabb:6276:80e6 prefixlen 8
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;ecm0: <span class="nv">flags</span><span class="o">=</span>8a43&amp;lt;UP,BROADCAST,RUNNING,ALLMULTI,SIMPLEX,MULTICAST&gt; mtu 1500&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;address: 1e:69:a5:d0:10:cd
</span><span class='line'>inet 169.254.0.1 netmask 0xfffffffc broadcast 169.254.0.3
</span><span class='line'>inet6 fe80::1c69:a5ff:fed0:10cd%ecm0 prefixlen 64 scopeid 0x2e
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><strong>IMPORTANT:</strong> you can also use the WiFi address of the device to pass to
<code>backberry-connect</code> and ssh. It works for me.</p>

<p>I'm starting to explore the dark world of QNX in the next couple of days
and will keep you posted! Until then - happy hacking.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip: How To Enable USB Networking Between BlackBerry Z10 and Red Hat Enterprise Linux 6]]></title>
    <link href="http://atodorov.org/blog/2013/07/17/tip-how-to-enable-usb-networking-between-blackberry-z10-and-red-hat-enterprise-linux-6/"/>
    <updated>2013-07-17T11:06:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/07/17/tip-how-to-enable-usb-networking-between-blackberry-z10-and-red-hat-enterprise-linux-6</id>
    <content type="html"><![CDATA[<p>On Linux there is a feature called USB networking which provides you with a
TCP/IP connection to another device connected via USB cable. Here is how to
connect your <a href="http://amzn.to/12y4ewJ">BlackBerry Z10</a>
to your Linux laptop over USB. I use Red Hat Enterprise Linux but should work
out of the box for other distros too.</p>

<p>Connect the Z10 to your laptop:</p>

<pre><code>    $ lsusb
    Bus 001 Device 005: ID 0fca:8020 Research In Motion, Ltd. Blackberry Playbook (CD-Rom mode)
</code></pre>

<p>By default many USB devices will present a virtual CD-ROM with drivers for Windows.
This is the case here too. To change it go to <code>Settings - Storage and Access</code> and
set <code>USB Connection</code> to <code>Connect to Mac</code>!</p>

<p>If necessary plug out and back in the Z10.</p>

<pre><code>    $ lsusb
    Bus 001 Device 007: ID 0fca:8013 Research In Motion, Ltd.

    $ ifconfig
    usb0      Link encap:Ethernet  HWaddr 1E:69:A5:D0:11:0A  
              inet addr:169.254.0.2  Bcast:169.254.0.3  Mask:255.255.255.252
              inet6 addr: fe80::1c69:a5ff:fed0:110a/64 Scope:Link
              UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
              RX packets:49 errors:0 dropped:0 overruns:0 frame:0
              TX packets:8 errors:0 dropped:0 overruns:0 carrier:0
              collisions:0 txqueuelen:1000 
              RX bytes:16002 (15.6 KiB)  TX bytes:1152 (1.1 KiB)
</code></pre>

<p><strong>IMPORTANT:</strong> In the same <code>Storage and Access</code> screen scroll down to
<code>USB Mass Storage</code> and turn it <code>Off</code>. If you don't do this your Z10 will appear
as USB flash drive and no USB networking will be available. This is how it looks:</p>

<pre><code>    $ lsusb
    Bus 001 Device 008: ID 0fca:8014 Research In Motion, Ltd. 
</code></pre>

<p><strong>IMPORTANT:</strong> If you need your Z10 storage accessible together with USB networking
you can try accessing the device over Wi-Fi.
Configure it from the same <code>Storage and Access</code> screen. Then your device will be
available through Samba on its wireless IP address. I've tried it, works for me!</p>

<p>You don't need anything else to get this working. All set!</p>

<p>My intention is to use either USB networking or Wi-Fi to
<a href="http://supportforums.blackberry.com/t5/Testing-and-Deployment/How-to-use-blackberry-connect-to-Enable-SSH-Access/ta-p/1515447">connect to the Z10 shell</a>
and explore it in more details.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Configuring Anonymous FTP Uploads On Red Hat Enterprise Linux 6]]></title>
    <link href="http://atodorov.org/blog/2013/05/30/configuring-anonymous-ftp-uploads-on-red-hat-enterprise-linux-6/"/>
    <updated>2013-05-30T13:07:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/05/30/configuring-anonymous-ftp-uploads-on-red-hat-enterprise-linux-6</id>
    <content type="html"><![CDATA[<p>Install related packages and make configuration changes:</p>

<pre><code>yum -y install vsftp policycoreutils-python
sed -i "s/#anon_upload_enable=YES/anon_upload_enable=YES/" /etc/vsftpd/vsftpd.conf
</code></pre>

<p>Configure writable directory for uploads:</p>

<pre><code>mkdir /var/ftp/pub/upload
chgrp ftp /var/ftp/pub/upload
chmod 730 /var/ftp/pub/upload
</code></pre>

<p>Configure SELinux - this is <strong><a href="https://bugzilla.redhat.com/show_bug.cgi?id=968935">MISSING</a></strong>
from Red Hat's official docs:</p>

<pre><code>setsebool -P allow_ftpd_anon_write=1
semanage fcontext -a -t public_content_rw_t '/var/ftp/pub/upload(/.*)'
chcon -t public_content_rw_t /var/ftp/pub/upload
</code></pre>

<p>Start the service:</p>

<pre><code>chkconfig vsftpd on
service vsftpd start
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Dual Password Encryption With EncFS On Red Hat Enterprise Linux 6]]></title>
    <link href="http://atodorov.org/blog/2013/05/14/dual-password-encryption-with-encfs-on-red-hat-enterprise-linux-6/"/>
    <updated>2013-05-14T21:26:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/05/14/dual-password-encryption-with-encfs-on-red-hat-enterprise-linux-6</id>
    <content type="html"><![CDATA[<p>This article is a step-by-step guide to using two passwords with <a href="http://www.arg0.net/encfs">EncFS</a>.
The primary password is required and may be used to secure all data;
the secondary password is optional and may be stored on USB stick or
other removable media and used to secure more sensitive data.</p>

<p><img src="http://atodorov.org/images/encfs_raleigh.jpg" alt="Article in Raleigh" style="clear:both;display:block;"/>
The original article in Red Hat's Raleigh HQ!</p>

<p>This article has been originally written for and published by
<a href="http://magazine.redhat.com/2007/06/13/dual-password-encryption-with-encfs/">Red Hat Magazine</a>.
Here is a shortened version with updated commands for Red Hat Enterprise Linux 6.</p>

<h2>Technical Information</h2>

<p>EncFS provides an encrypted filesystem in user-space. EncFS provides security
against offline attacks like a stolen notebook.
EncFS works on files and directories, not an entire block device.
It modifies file names and contents.
The data is stored on the underlying filesystem and meta-data is preserved.
File attributes such as ownership, modification date and permission bits are not encrypted
and are visible to anybody. EncFS is acting like a translator between the user and
the filesystem, encrypting and decrypting on the fly.</p>

<p>EncFS is easy to use and requires no special setup. A local user has to be in the ‘fuse’
group to use EncFS. It does not require ‘root’ privileges.
EncFS can be used with secondary passwords. This could be used to store a separate set of files on the same encrypted filesystem.
EncFS ignores files which do not decode properly, so files created with separate passwords will
only be visible when the filesystem is mounted with the associated password.
There is the option to read passwords from an external program or stdin (standard input).
This option combined with custom scripting makes EncFS very flexible.
By default, all FUSE based filesystems are visible only to the user who mounted them.
No other users (including root) can view the filesystem contents.</p>

<h2>Installing EncFS</h2>

<p>Install fuse-encfs from <a href="https://fedoraproject.org/wiki/EPEL">EPEL</a>:</p>

<pre><code># yum install fuse-encfs
</code></pre>

<p>Load the FUSE module:</p>

<pre><code># /sbin/modprobe fuse
</code></pre>

<p>And, finally, add any users that will use EncFS to group ‘fuse’:</p>

<pre><code># usermod -Gfuse jdoe
</code></pre>

<h2>Using EncFS</h2>

<p>Using EncFS does not differ from using any other filesystem.
The only thing you need to do is to mount it somewhere and start creating
files and directories under the mount point.</p>

<p><strong>Warning:</strong> Use only absolute path names with EncFS!</p>

<p>Create working directories:</p>

<pre><code>$ mkdir -p ~/encrypted ~/plain
</code></pre>

<ul>
<li><code>plain/</code> – looks like a normal directory. All files stored here look like normal
files for the user who mounted this directory with EncFS. This acts like a virtual
directory performing encryption and decryption.</li>
<li><code>encrypted/</code> – looks garbled. The actual data is stored here and is encrypted.</li>
</ul>


<p>Now you can mount the new EncFS volume for the first time. This assumes a default configuration:</p>

<pre><code>$ encfs /home/jdoe/encrypted /home/jdoe/plain
Creating new encrypted volume.
Please choose from one of the following options:
 enter "x" for expert configuration mode,
 enter "p" for pre-configured paranoia mode,
 anything else, or an empty line will select standard mode.
?&gt; 

Standard configuration selected.

Configuration finished.  The filesystem to be created has
the following properties:
Filesystem cipher: "ssl/aes", version 3:0:2
Filename encoding: "nameio/block", version 3:0:1
Key Size: 192 bits
Block Size: 1024 bytes
Each file contains 8 byte header with unique IV data.
Filenames encoded using IV chaining mode.
File holes passed through to ciphertext.

Now you will need to enter a password for your filesystem.
You will need to remember this password, as there is absolutely
no recovery mechanism.  However, the password can be changed
later using encfsctl.

New Encfs Password: **********
Verify Encfs Password: **********
</code></pre>

<p>Create a file:</p>

<pre><code>$ echo "some content" &gt; ~/plain/file.one
</code></pre>

<p>Check contents in <code>plain/</code>:</p>

<pre><code>$ ls -la ~/plain/
total 12
drwxrwxr-x. 2 jdoe jdoe 4096 May 14 21:31 .
drwx------. 6 jdoe jdoe 4096 May 14 21:29 ..
-rw-rw-r--. 1 jdoe jdoe   13 May 14 21:31 file.one

$ cat ~/plain/file.one 
some content
</code></pre>

<p>Check what’s in <code>encrypted/</code>:</p>

<pre><code>$ ls -la ~/encrypted/
total 16
drwxrwxr-x. 2 jdoe jdoe 4096 May 14 21:31 .
drwx------. 6 jdoe jdoe 4096 May 14 21:29 ..
-rw-rw-r--. 1 jdoe jdoe 1083 May 14 21:30 .encfs6.xml
-rw-rw-r--. 1 jdoe jdoe   21 May 14 21:31 Wq5NZ6q-yP-fYNWYsjzFhHf9
</code></pre>

<p><strong>Warning:</strong> <code>.encfs6.xml</code> is a special file. When performing backups or restoring data,
make sure to keep this file!</p>

<p>Inspect the contents of encrypted file:</p>

<pre><code>$ cat ~/encrypted/Wq5NZ6q-yP-fYNWYsjzFhHf9 
���r�N�M���"p��
</code></pre>

<p>Unmount the filesystem and mount it again with another password:</p>

<pre><code>$ fusermount -u ~/plain/
$ encfs --anykey /home/jdoe/encrypted /home/jdoe/plain
EncFS Password: *****
</code></pre>

<p><strong>Caution:</strong> We are using the --anykey option to allow secondary passwords.</p>

<p>Check <code>plain/</code> again. The directory is empty. Previous files were not decoded with the new password.</p>

<pre><code>$ ls -la ~/plain/
total 8
drwxrwxr-x. 2 jdoe jdoe 4096 May 14 21:31 .
drwx------. 6 jdoe jdoe 4096 May 14 21:29 ..
</code></pre>

<p>Now create another file that will be in “hidden” mode:</p>

<pre><code>$ echo "hidden contents" &gt; ~/plain/file.two
</code></pre>

<p>Check again what’s in <code>encrypted/</code>. Both files are stored in the same directory:</p>

<pre><code>$ ls -la ~/encrypted/
total 20
drwxrwxr-x. 2 jdoe jdoe 4096 May 14 21:35 .
drwx------. 6 jdoe jdoe 4096 May 14 21:29 ..
-rw-rw-r--. 1 jdoe jdoe 1083 May 14 21:30 .encfs6.xml
-rw-rw-r--. 1 jdoe jdoe   24 May 14 21:35 PfkZHs16YsKkznnTujaVsOuS
-rw-rw-r--. 1 jdoe jdoe   21 May 14 21:31 Wq5NZ6q-yP-fYNWYsjzFhHf9
</code></pre>

<p>Unmount and mount again using the first password:</p>

<pre><code>$ fusermount -u ~/plain/
$ encfs --anykey /home/jdoe/encrypted /home/jdoe/plain
EncFS Password: **********
</code></pre>

<p>Inspect the contents of <code>plain/</code> again. The second file was not decoded properly and is not shown:</p>

<pre><code>$ ls -la ~/plain/
total 12
drwxrwxr-x. 2 jdoe jdoe 4096 May 14 21:35 .
drwx------. 6 jdoe jdoe 4096 May 14 21:29 ..
-rw-rw-r--. 1 jdoe jdoe   13 May 14 21:31 file.one
</code></pre>

<h2>Summary</h2>

<p>You have learned how to use encryption to protect your data.
There is also a nice graphical application
for using EncFS with KDE called <a href="http://kde-apps.org/content/show.php?content=54078">K-EncFS</a>.
I'll be happy to answer any questions or comments.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Virtualization Platforms Supported by Red Hat Enterprise Linux]]></title>
    <link href="http://atodorov.org/blog/2013/03/20/virtualization-platforms-supported-by-red-hat-enterprise-linux/"/>
    <updated>2013-03-20T15:04:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/03/20/virtualization-platforms-supported-by-red-hat-enterprise-linux</id>
    <content type="html"><![CDATA[<p>This is mostly for my own reference, to have a handy list
of supported virtualization platforms by Red Hat Enterprise Linux.</p>

<h2>Software virtualization solutions</h2>

<p>A guest RHEL operating system is supported if it runs on the following
platforms:</p>

<ul>
<li>Xen shipped with RHEL Server</li>
<li>KVM shipped with RHEL Server or RHEV for Servers</li>
<li><a href="https://hardware.redhat.com/VMware">VMware</a> ESX/vSphere</li>
<li><a href="https://hardware.redhat.com/Microsoft">Microsoft Hyper-V</a></li>
</ul>


<p>Red Hat does not support Citrix XenServer. However, customers can
<a href="http://otb.bg">buy RHEL Server</a> and use it with Citrix XenServer
with the understanding that Red Hat will only support technical
issues that can be reproduced on bare metal.</p>

<p>The
<a href="http://www.redhat.com/resourcelibrary/articles/enterprise-linux-virtualization-support">official virtualization support matrix</a>
shows which host/guest operating systems combinations are supported.</p>

<h2>Hardware partitioning</h2>

<p>Red Hat supports RHEL on hardware partitioning and virtualization solutions such as:</p>

<ul>
<li><a href="https://hardware.redhat.com/list.cgi?product=Red+Hat+Hardware+Certification&amp;quicksearch=IBM+System+Z">IBM System Z</a></li>
<li><a href="https://hardware.redhat.com/list.cgi?product=Red+Hat+Hardware+Certification&amp;quicksearch=IBM+POWER">IBM Power</a></li>
<li><a href="https://hardware.redhat.com/list.cgi?product=Red+Hat+Hardware+Certification&amp;quicksearch=PRIMEQUEST">Fujitsu PRIMEQUEST</a></li>
<li><a href="https://hardware.redhat.com/list.cgi?product=Red+Hat+Hardware+Certification&amp;quicksearch=Virtage">Hitachi Virtage</a></li>
</ul>


<p>Unfortunately the <a href="https://access.redhat.com/knowledge/articles/263573">recently updated</a>
hardware catalog
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=923802">doesn't allow to filter by hardware partitioning vs. virtualization platform</a>
so you need to know what you are looking for to find it :(.</p>

<h2>Red Hat Enterprise Linux as a guest on the Cloud</h2>

<p>Multiple public cloud providers are supported. Comprehensive list can be found here:
http://www.redhat.com/solutions/cloud-computing/public-cloud/find-partner/</p>

<p>You can also try <a href="http://redhat.force.com/finder/">Red Hat Partner Locator's</a>
advanced search. However at the time of this writing there are no partners
listed in the Cloud / Virtualization category.</p>

<p><strong>Warning:</strong> It is known that Amazon uses Xen with custom
modifications (not sure what version) and HP Cloud uses KVM but there
is not much public record about hypervisor technology used by most cloud providers.
Red Hat has partner agreements with these vendors and will commercially support
only their platforms. This means that if you decide to use upstream Xen or anything
else not listed above, you are on your own. <strong>You have been warned!</strong></p>

<h2>Unsupported but works</h2>

<p>I'm not a big fan of running on top of unsupported environments
and I don't have the need to do so.
I've heard about people running CentOS (RHEL compatible) on VirtualBox
but I have no idea how well it works.</p>

<p>If you are using a different virtualization platform
(like LXC, OpenVZ, UML,
<a target="_blank" href="http://www.amazon.com/s/?_encoding=UTF8&camp=1789&creative=390957&field-brandtextbin=Parallels%20Software&linkCode=ur2&node=229534&tag=atodorovorg-20">Parallels</a><img src="https://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
or other) let me know if CentOS/Fedora works on it.
Alternatively I can give it a try if you can provide me with ssh/VNC access to the machine.</p>
]]></content>
  </entry>
  
</feed>
