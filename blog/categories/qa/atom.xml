<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: QA | atodorov.org]]></title>
  <link href="http://atodorov.org/blog/categories/qa/atom.xml" rel="self"/>
  <link href="http://atodorov.org/"/>
  <updated>2013-06-20T11:22:43+03:00</updated>
  <id>http://atodorov.org/</id>
  <author>
    <name><![CDATA[Alexander Todorov]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Even Facebook has Bugs]]></title>
    <link href="http://atodorov.org/blog/2013/06/20/even-facebook-has-bugs/"/>
    <updated>2013-06-20T10:17:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/06/20/even-facebook-has-bugs</id>
    <content type="html"><![CDATA[<p><img src="http://atodorov.org/images/facebook_ui_bug.png" alt="Faceook bug" style="float:left; margin-right: 10px;"/></p>

<p>Here's a small but very visible UI bug in Facebook. While selecting for which
applications to receive or not notifications there is a small progress bar image
that appears left of the checkbox element. The trouble is this image displaces the
checkbox and it appears to float right and left during the AJAX call. This is annoying.</p>

<p>There's an easy fix - either fix the progress image and checkbox positions so they don't move
or place the image to the right.</p>

<p>In my practice these types of bugs are common. I usually classify them with High priority,
because they tend to annoy the user and generate support calls or just look unprofessional.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SofiaValley UI bug]]></title>
    <link href="http://atodorov.org/blog/2013/06/02/sofiavalley-ui-bug/"/>
    <updated>2013-06-02T21:04:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/06/02/sofiavalley-ui-bug</id>
    <content type="html"><![CDATA[<p><img src="http://atodorov.org/images/bugs/sv-bug.png" alt="SV bug" style="clear:both;display:block;"/></p>

<p><a href="http://sofiavalley.com">SofiaValley</a> recently had a bug in their UI.
As seen above when clicking the Like button the widget would overlap with
other visual elements. At first this doesn't look like a big deal but it blocks
the user from sharing the page via Facebook which is important for a blog.</p>

<p><img src="http://atodorov.org/images/bugs/sv-bug-fixed.png" alt="SV bug fixed" style="clear:both;display:block;"/></p>

<p>I have reported the error and it was fixed very quickly. +1 for SofiaValley.</p>

<p>Have you spotted any other interesting bugs? Let me know and they will be published
here.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux and Python Tools To Compare Images]]></title>
    <link href="http://atodorov.org/blog/2013/05/17/linux-and-python-tools-to-compare-images/"/>
    <updated>2013-05-17T21:13:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/05/17/linux-and-python-tools-to-compare-images</id>
    <content type="html"><![CDATA[<p>How to compare two images in Python? A tricky question with quite a few answers.
Since my needs are simple, my solution is simpler!</p>

<p><img src="http://atodorov.org/images/difio_compare.png" alt="Difio Google +1 changes" style="clear:both;display:block"/>
<a href="http://www.dif.io">dif.io</a> homepage before and after it got a G+1.</p>

<h2>ImageMagic is magic</h2>

<p>If you haven't heard of <a href="http://www.imagemagick.org/">ImageMagic</a> then you've been
living in a cave on a deserted island! The suite contains the <code>compare</code> command
which mathematically and visually annotates the difference between two images.</p>

<p>The third image above was produced with:</p>

<pre><code>$ compare difio_10.png difio_11.png difio_diff.png
</code></pre>

<p>Differences are displayed in red (default) and the original image is seen in the
background. As shown, the Google +1 button and count has changed between the two
images. <code>compare</code> is a nice tool for manual inspection and debugging.
It works well in this case because the images are lossless PNGs and are regions of
screen shots where most objects are the same.</p>

<p><img src="http://atodorov.org/images/chestnut_compare.jpg" alt="JPEG quality reduction" style="clear:both;display:block"/>
Chestnuts I had in Rome. 100% to 99% quality reduction.</p>

<p>As seen on the second image set only 1% of JPEG quality change leads to many small
differences in the image, which are invisible to the naked eye.</p>

<h2>Python Imaging Library aka PIL</h2>

<p><a href="http://www.pythonware.com/products/pil/">PIL</a> is another powerful tool for
image manipulation. I googled around and found some answers to my original
questions
<a href="http://stackoverflow.com/questions/1927660/compare-two-images-the-python-linux-way">here</a>.
The proposed solution is to calculate
<a href="https://en.wikipedia.org/wiki/Root_mean_square">RMS</a> of the two images
and compare that with some threshold to establish the level of certainty that
two images are identical.</p>

<h2>Simple solution</h2>

<p>I've been working on a script lately which needs to know what is displayed on
the screen and recognize some of the objects. Calculating image similarity is
quite complex but comparing if two images are <strong>exactly</strong> identical is not.
Given my environment and the fact
that I'm comparing screen shots where only few areas changed
(see first image above for example) led to the following solution:</p>

<ul>
<li>Take a screen shot;</li>
<li>Crop a particular area of the image which needs to be examined;</li>
<li>Compare to a baseline image of the same area created manually;</li>
<li>Don't use RMS, use the image histogram only to speed up calculation.</li>
</ul>


<p>I've prepared the baseline images with GIMP and tested couple of scenarios
using <code>compare</code>. Here's how it looks in code:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">dogtail.utils</span> <span class="kn">import</span> <span class="n">screenshot</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">baseline_histogram</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;/home/atodorov/baseline.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">histogram</span><span class="p">()</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">screenshot</span><span class="p">())</span>
</span><span class='line'><span class="n">region</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="mi">860</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">950</span><span class="p">,</span> <span class="mi">320</span><span class="p">))</span>
</span><span class='line'><span class="k">print</span> <span class="n">region</span><span class="o">.</span><span class="n">histogram</span><span class="p">()</span> <span class="o">==</span> <span class="n">baseline_histogram</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Results</h2>

<p>The presented solution was easy to program, works fast and reliably for my use case.
In fact after several iterations I've added a second baseline image to account for some
unidentified noise which appears randomly in the first region. As far as I can tell
the two checks combined are 100% accurate.</p>

<h2>Field of application</h2>

<p>I'm working on QA automation where this comes handy. However you may try some
lame CAPTCHA recognition by comparing regions to a pre-defined baseline. Let me know
if you come up with a cool idea or actually used this in code.</p>

<p>I'd love to hear
about interesting projects which didn't get too complicated because of image
recognition.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bug in the Fridge]]></title>
    <link href="http://atodorov.org/blog/2013/03/29/bug-in-the-fridge/"/>
    <updated>2013-03-29T15:09:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/03/29/bug-in-the-fridge</id>
    <content type="html"><![CDATA[<p><img src="http://atodorov.org/images/liebherr_kbgb_3864.jpg" alt="Liebherr KBGB 3864" style="float:left; margin-right: 20px;" /></p>

<p>Once you've been into
<a target="_blank" href="http://www.amazon.com/s/?_encoding=UTF8&camp=1789&creative=390957&field-keywords=quality%20assurance&linkCode=ur2&rh=i%3Aaps%2Ck%3Aquality%20assurance&sprefix=quality%20ass%2Caps%2C273&tag=atodorovorg-20&url=search-alias%3Daps">Quality Assurance</a><img src="https://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
for 5+ years you start to notice <a href="/blog/categories/bugs/">bugs everywhere</a>
and develop a sixth sense for it. Today I found a bug in my
<a target="_blank" href="http://www.amazon.com/s/?_encoding=UTF8&camp=1789&creative=390957&field-keywords=liebherr&linkCode=ur2&rh=n%3A2619525011%2Ck%3Aliebherr&sprefix=Liebherr%2Caps%2C273&tag=atodorovorg-20&url=search-alias%3Dappliances">Liebherr</a><img src="https://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
KBGB 3864 refrigerator, caused by what looks like a race-condition.</p>

<p>This appliance starts beeping in case the door is left open for more than 60 seconds.
The alarm stops if door is closed or can be muted manually while the door is still open.</p>

<h2>The Bug</h2>

<p>It happened so that I had the door open for nearly one minute and as it was closing
I heard a beep. This time however the beeping didn't stop after the door had closed.
The alarm continued beeping with the door closed so I tried to re-open and close it again.
It didn't stop! I had to open the door and manually mute the alarm for it to stop.</p>

<div style="display:block; clear:both;">&nbsp;</div>


<h2>The Root Cause</h2>

<p>While not entirely sure, I think the reason for this malfunction
was a race-condition. The alarm went on at nearly the same time when the
controlling timer should have gone off (when closing the door).</p>

<h2>Steps To Reproduce</h2>

<p>I tried reproducing several times afterwards by opening and closing the door
at the last possible moment. I used a stop-watch to time my actions. However
I wasn't able to reproduce twice. Every time I tried, there was only one single
beep as the door was closing and no more.</p>

<p>I guess then, like we say in QE, <em>WORKS FOR ME</em>!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bug in Nokia software shows wrong caller ID]]></title>
    <link href="http://atodorov.org/blog/2013/03/19/bug-in-nokia-software-shows-wrong-caller-id/"/>
    <updated>2013-03-19T09:57:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/03/19/bug-in-nokia-software-shows-wrong-caller-id</id>
    <content type="html"><![CDATA[<p>During the past month one of my cell phones,
<a target="_blank" href="http://www.amazon.com/s/?_encoding=UTF8&camp=1789&creative=390957&field-keywords=Nokia&linkCode=ur2&tag=atodorovorg-20&url=search-alias%3Daps">Nokia</a><img src="https://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
<a href="http://www.amazon.com/gp/product/B001SEAOC6/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B001SEAOC6&linkCode=as2&tag=atodorovorg-20">5800 XpressMusic</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B001SEAOC6" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
, was not showing the caller name when a friend was calling.
The number in the contacts list was correct but the name wasn't showing,
nor the custom assigned ringing tone. It turned out to be a bug!</p>

<p>The story behind this is that accidentally the same number was saved again
in the contacts list, but without a name assigned to it.
The software was matching the later one, so no custom ringing tone,
no name shown. Removing the duplicate entry fixed the issue. Software version of this
phone is</p>

<pre><code>v 21.0.025
RM-356
02-04-09
</code></pre>

<p>I wondered what will happen with multiple duplicates and if this was fixed in a later
software version so I tested with another phone,
<a href="http://www.amazon.com/gp/product/B002RXEI6U/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B002RXEI6U&linkCode=as2&tag=atodorovorg-20">Nokia 6303</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B002RXEI6U" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />.
Software version is</p>

<pre><code>V 07.10
25-03-10
RM-638
</code></pre>

<ul>
<li>Step 0 - add the number to the contacts list, with name <code>Buddy 1</code></li>
<li>Step 1 - add the same number to the contacts, with <strong>empty name</strong>.
<strong>Result</strong>: You get a warning this number is already present for <code>Buddy 1</code>!
When receiving a call, <code>Buddy 1</code> is displayed.</li>
<li>Step 2 - edit the empty name contact and change the name to <code>Buddy 2</code>.
<strong>Result</strong>: when receiving a call <code>Buddy 2</code> is displayed.</li>
<li>Step 3 - add the same number again, with name <code>Buddy 0</code>. This is the latest entry
but it is sorted before the previous two (this is important).
<strong>Result</strong>: You get a warning that this number is already present for <code>Buddy 1</code> and <code>Buddy 2</code>.
When receiving a call <code>Buddy 0</code> is displayed.</li>
</ul>


<p><strong>Summary</strong>: so it looks like Nokia fixed the issue with empty names, by simply ignoring them
but when multiple duplicate contacts are available it displays the name of the last entered in the
contact list, independent of name sort order.</p>

<p><del>
Later today or tomorrow I will test on
<a href="http://www.amazon.com/gp/product/B005MOW7S2/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B005MOW7S2&linkCode=as2&tag=atodorovorg-20">Nokia 700</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B005MOW7S2" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
which runs Symbian OS and update this post with more results.
</del></p>

<p><strong>Updated on 2013-03-19 23:50</strong></p>

<p>Finally managed to test on
<a href="http://www.amazon.com/gp/product/B005MOW7S2/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B005MOW7S2&linkCode=as2&tag=atodorovorg-20">Nokia 700</a><img src="http://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B005MOW7S2" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />.
Software version is:</p>

<pre><code>Release
Nokia Belle Feature pack 1
Software version
112.010.1404
Software version date
2012-03-30
Type
RM-670
</code></pre>

<p><strong>Result</strong>: If a duplicate contact entry is present it doesn't matter if the name is empty or not.
Both times no name was displayed when receiving a call. Looks like Nokia is not paying attention to
regressions at all.</p>

<h2>Android and iPhone</h2>

<p>I don't own any
<a target="_blank" href="http://www.amazon.com/s/?_encoding=UTF8&camp=1789&creative=390957&field-keywords=Android&linkCode=ur2&tag=atodorovorg-20&url=search-alias%3Delectronics">Android</a><img src="https://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
or
<a target="_blank" href="http://www.amazon.com/s/?_encoding=UTF8&camp=1789&creative=390957&field-keywords=iPhone&linkCode=ur2&rh=n%3A172282%2Ck%3AiPhone&tag=atodorovorg-20&url=search-alias%3Delectronics">iPhone</a><img src="https://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
devices so I'm not able to test on them. If you have one, please let me know if this bug is still present
and how does the software behave when multiple contacts share the same number or have empty names! Thanks!</p>
]]></content>
  </entry>
  
</feed>
