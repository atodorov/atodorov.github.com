<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Fedora | atodorov.org - you can logoff, but you can never leave]]></title>
  <link href="http://atodorov.org/blog/categories/fedora/atom.xml" rel="self"/>
  <link href="http://atodorov.org/"/>
  <updated>2015-04-26T21:57:53+03:00</updated>
  <id>http://atodorov.org/</id>
  <author>
    <name><![CDATA[Alexander Todorov]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Installing Red Hat Enterprise Linux 7 on MacBook Air 2015]]></title>
    <link href="http://atodorov.org/blog/2015/04/26/installing-red-hat-enterprise-linux-7-on-macbook-air-2015/"/>
    <updated>2015-04-26T20:33:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/26/installing-red-hat-enterprise-linux-7-on-macbook-air-2015</id>
    <content type="html"><![CDATA[<p>Recently I've upgraded to a new
<a href="http://www.amazon.com/gp/product/B00UGECEUY/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B00UGECEUY&linkCode=as2&tag=atodorovorg-20&linkId=3YENGI5TIYKEC5GM">MacBook Air</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B00UGECEUY" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
(13 inch, early 2015) laptop and luckily enough I'm running
Red Hat Enterprise Linux 7.1 on it. Here is how to install it.</p>

<h2>Prepare boot media</h2>

<p>The easiest method is to boot from a USB stick which holds
either the entire DVD or just boot.iso. Since I happened to find a 1GB only USB stick I
went for the boot.iso. <code>dd if=boot.iso of=/dev/sdb</code> is the only thing you need to prepare
the boot media.</p>

<h2>Initial boot</h2>

<p><img src="/images/mac/boot_menu.jpg" title="Mac boot menu" alt="Mac boot menu" /></p>

<p>While computer is booting hold the (left) Alt (Option) key to enter <em>Startup Manager</em>.
Wait a second or two before it displays your local hard drive and the USB boot media.
Select the option <em>EFI boot</em> to boot the anaconda installer.</p>

<h2>Installation</h2>

<p>Booting from a boot.iso means I need to use the network to grab the rest of the installation.
Because the wireless card needs proprietary drivers
I've tried both USB to Ethernet adapter and USB tethering with my phone.</p>

<p><strong>Note:</strong> initially I have forgotten to plug in my USB networking card which resulted in
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1191286">bug #1191286</a>. After cold-plugging and
rebooting the system everything was fine. Subsequently I don't see any problems with the
USB networking card. The bug should be fixed in RHEL 7.2 btw.</p>

<p><strong>Note:</strong> I've been using a
<a href="http://www.amazon.com/gp/product/B002PONXAI/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B002PONXAI&linkCode=as2&tag=atodorovorg-20&linkId=N4KGQKYSBSDWMMM6">USB docking station from Plugable</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B002PONXAI" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
for years because their products are Linux friendly. In particular the networking chip is ASIX and
there is no problems with drivers for Linux.</p>

<p>In my case I've wiped out the entire SSD disk b/c I don't care about dual boot.
Previously I've heard about anaconda crashing while it tries to detect the Mac OS file system.
I've played around with Rawhide before going for RHEL 7.1 and didn't see any problems related to
foreign filesystems.</p>

<p>I've gone with the default partitioning scheme while slightly modifing the partition sizes, etc.</p>

<h2>Post install</h2>

<p>There are several issues which still need attention. I didn't have enough time in the last few
days to check these out:</p>

<ul>
<li>GNOME 3 sucks big time. Fortunately I was able to install MATE Desktop from EPEL;</li>
<li>Wireless card needs drivers; I've managed to compile them myself, will share the info soon;</li>
<li>Display brightness doesn't seem to work at all. On top of that the display goes full black
after suspend-resume. I could barely see anything on it.</li>
<li>The onboard keyboard is quite annoying for previous ThinkPad user like myself. Most
importantly I need to press Fn to activate the F1, F2, etc keys which I use a lot in mcedit.
I'll share more info aafter I figure out how to remap the keyboard;</li>
<li>There is a very annoying boot chime which I have no idea how to disable;</li>
<li>I do have a Thunderbolt to Ethernet adapter and hot-plug seems to work (at least partially)
despite claims that this is not supported in Linux;</li>
<li>Power manager was reporting my battery life totally wrong but after a full discharge/recharge
it seems to have calibrated itself. I need to fix brightness and other issues before doing more
tests;</li>
<li>Output sound works out of the box, haven't tested camera and microphone input yet;</li>
<li>ATrpms and EPEL are still missing some codecs for RHEL 7 which means no movies;</li>
<li>Fan speed needs adjustments;</li>
</ul>


<h2>Fedora 22 on MacBook Air</h2>

<p>I did try Fedora 22 Beta and experienced
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1215458">bug #1215458</a>.
Also for some reason the installation hit an error downloading a package and didn't let me retry
but forced me to exit the process.</p>

<p>I'll continue posting my updates until the system runs smoothly like it is supposed to.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Videos from Bulgaria Web Summit 2015]]></title>
    <link href="http://atodorov.org/blog/2015/04/20/videos-from-bulgaria-web-summit-2015/"/>
    <updated>2015-04-20T10:45:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/20/videos-from-bulgaria-web-summit-2015</id>
    <content type="html"><![CDATA[<p><img src="/images/bgws2015.jpg" title="We're full" alt="We're full" /></p>

<p><a href="http://bulgariawebsummit.com">Bulgaria Web Summit</a> 2015 is over. The event was
incredible and I had a lot of fun moderating the main room. We had many people
coming from other countries and I've made lots of new friends.
Thank you to everyone who attended!</p>

<p>You can find video recordings of all talks in the main room (in order of appearance) below:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/3THnzZCI4sw?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/LtgPnYkEj3E?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/4IFyMSvoy-c?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/ZGLKZSnCIUU?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/GBv4QWFDETY?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/DhnsmsvSG7w?rel=0" frameborder="0" allowfullscreen></iframe>


<p>Hope to see you next time in Sofia!</p>

<p>Mean while I learned about <a href="http://devitconf.org/">DEVit</a> in Thessaloniki in May and another one in Zagreb in October.
See you there :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Find if LVM Volume is Thinly Provisioned]]></title>
    <link href="http://atodorov.org/blog/2015/04/14/how-to-find-if-lvm-volume-is-thinly-provisioned/"/>
    <updated>2015-04-14T15:40:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/14/how-to-find-if-lvm-volume-is-thinly-provisioned</id>
    <content type="html"><![CDATA[<p>The latest versions of Red Hat Enterprise Linux, CentOS and Fedora all
support LVM thin provisioning. Here's how to tell if a logical volume
has been thinly provisioned or not.</p>

<p>Using <code>lvs</code> to display volume information look under the <em>Attr</em> column.
Attribute values have the following meaning:</p>

<p><blockquote><p>The lv_attr bits are:</p></p><p><p>1  Volume type: (C)ache, (m)irrored, (M)irrored without initial sync, (o)rigin,<br/>(O)rigin  with  merging  snapshot, (r)aid,  (R)aid  without  initial  sync,<br/>(s)napshot,  merging  (S)napshot, (p)vmove, (v)irtual, mirror or raid (i)mage,<br/>mirror or raid (I)mage out-of-sync, mirror (l)og device, under  (c)onversion,<br/>thin  (V)olume,  (t)hin pool, (T)hin pool data, raid or pool m(e)tadata or<br/>pool metadata spare.</p></blockquote></p>

<p>This is how <code>lvs</code> looks like when you have a regular LVM setup:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>lvs&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>  LV   VG              Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span><span class='line'>  root rhel_dhcp70-183 -wi-ao---- 17,47g                                                  &lt;br/>
</span><span class='line'>  swap rhel_dhcp70-183 -wi-ao----  2,00g  &lt;br/></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>When using LVM thin provisioning you're looking for the left-most attribute bit
to be V, t or T. Here's an example:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>lvs&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>  LV     VG              Attr       LSize  Pool   Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span><span class='line'>  pool00 rhel_dhcp71-101 twi-aotz-- 14,55g               7,52   3,86                          &lt;br/>
</span><span class='line'>  root   rhel_dhcp71-101 Vwi-aotz-- 14,54g pool00        7,53                                 &lt;br/>
</span><span class='line'>  swap   rhel_dhcp71-101 -wi-ao----  2,00g &lt;br/></span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip: Linux-IO default LUN is 0 instead of 1]]></title>
    <link href="http://atodorov.org/blog/2015/04/08/tip-linux-io-default-lun-is-0-instead-of-1/"/>
    <updated>2015-04-08T15:09:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/08/tip-linux-io-default-lun-is-0-instead-of-1</id>
    <content type="html"><![CDATA[<p>I've been testing iBFT in KVM which worked quite well with a RHEL 6 iSCSI target
and failed miserably when I switched to RHEL 7 iSCSI target.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>iPXE> dhcp net0
</span><span class='line'>DHCP (net0 52:54:00:12:34:56)... ok
</span><span class='line'>iPXE> set keep-san 1
</span><span class='line'>iPXE> sanboot iscsi:10.0.0.1:::1:iqn.2015-05.com.example:target1
</span><span class='line'>Could not open SAN device: Input/output error (http://ipxe.org/1d704539)
</span><span class='line'>iPXE></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>The <a href="http://ipxe.org/err/1d7045">error page</a> says
<blockquote><p>Note that the default configuration when Linux is the target is for the disk to be LUN 1.</p></blockquote></p>

<p>Well this is not true for Linux-IO (targetcli). <strong>The default LUN is 0!</strong></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>iPXE> sanboot iscsi:10.0.0.1:::0:iqn.2015-05.com.example:target1
</span><span class='line'>Registered SAN device 0x80
</span><span class='line'>Booting from SAN device 0x80</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Kudos to Bruno Goncalves from Red Hat in helping me debug this issue!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Configure targetcli to Listen on IPv4 and IPv6]]></title>
    <link href="http://atodorov.org/blog/2015/04/08/how-to-configure-targetcli-to-listen-on-ipv4-and-ipv6/"/>
    <updated>2015-04-08T11:46:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/08/how-to-configure-targetcli-to-listen-on-ipv4-and-ipv6</id>
    <content type="html"><![CDATA[<p>In order to configure <em>targetcli</em> to listen on both IPv4 and IPv6 one has to
delete the default IPv4 portal configuration and replace it with IPv6 instead.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>targetcli&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>/>
</span><span class='line'>/> cd iscsi/iqn.2015-04.com.example:target1/tpg1/portals
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> ls
</span><span class='line'>o- portals ............................................................................................................ [Portals: 1]
</span><span class='line'>  o- 0.0.0.0:3260 ............................................................................................................. [OK]
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> delete 0.0.0.0 3260
</span><span class='line'>Deleted network portal 0.0.0.0:3260
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> create ::0
</span><span class='line'>Using default IP port 3260
</span><span class='line'>Created network portal ::0:3260.
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> ls
</span><span class='line'>o- portals ............................................................................................................ [Portals: 1]
</span><span class='line'>  o- [::0]:3260 ............................................................................................................... [OK]
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> exit&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>netstat -antp | grep 3260&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>tcp6       0      0 :::3260                 :::*                    LISTEN</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>It appears the target is listening only on IPv6 but in fact it will
also accept connections over IPv4. I've tried it.</p>

<p>This is a bit counter intuitive, however if you try adding the IPv6 address
without removing the default IPv4 one <em>targetcli</em> will throw an error:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/iscsi/iqn.20.../tpg1/portals> create ::0
</span><span class='line'>Using default IP port 3260
</span><span class='line'>Could not create NetworkPortal in configFS.
</span><span class='line'>/></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>For more information about <em>targetcli</em> usage see my previous post
<a href="/blog/2015/04/07/how-to-configure-iscsi-target-on-red-hat-enterprise-linux-7/">How to Configure iSCSI Target on Red Hat Enterprise Linux 7</a>.</p>
]]></content>
  </entry>
  
</feed>
