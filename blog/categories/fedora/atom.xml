<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Fedora | atodorov.org]]></title>
  <link href="http://atodorov.org/blog/categories/fedora/atom.xml" rel="self"/>
  <link href="http://atodorov.org/"/>
  <updated>2013-11-19T15:01:59+02:00</updated>
  <id>http://atodorov.org/</id>
  <author>
    <name><![CDATA[Alexander Todorov]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Open Source Quality Assurance Infrastructure for Fedora QA]]></title>
    <link href="http://atodorov.org/blog/2013/11/19/open-source-quality-assurance-infrastructure-for-fedora-qa/"/>
    <updated>2013-11-19T14:12:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/11/19/open-source-quality-assurance-infrastructure-for-fedora-qa</id>
    <content type="html"><![CDATA[<p><img src="/images/fedora/beaker.png" title="Beaker test lab" alt="&quot;Beaker test lab&quot;" /></p>

<p>In the last few weeks I've been working together with
<a href="https://fedoraproject.org/wiki/User:Tflink">Tim Flink</a> and
<a href="https://fedoraproject.org/wiki/User:Kparal">Kamil Paral</a> from the Fedora QA
team on bringing some installation testing expertise to Fedora and establishing
an <a href="http://beaker.fedoraproject.org/bkr/">open source test lab</a>
to perform automated testing in. The infrastructure is
already in relatively usable condition so I've decided to share this information
with the community.</p>

<h2>Beaker is Running Our Test Lab</h2>

<p><a href="http://beaker-project.org/">Beaker</a> is the software suite that powers the test
lab infrastructure. It is quite complex, with many components and sometimes not
very straight-forward to set up. Tim has been working on that with me giving it
a try and reporting issues as they have been discovered and fixed.</p>

<p>In the process of working on this I've managed to create
<a href="http://gerrit.beaker-project.org/#/q/owner:%22Alexander+Todorov%22,n,z">couple of patches</a>
against Beaker and friends. They are still pending release in a future version
because of more urgent bug fixes which need to released first.</p>

<h2>SNAKE is The Kickstart Template Server</h2>

<p><a href="https://fedorahosted.org/snake/">SNAKE</a> is a client/server Python framework used
to support Anaconda installations. It supports plain text ks.cfg files, IIRC those
were static templates, no variable substitution.</p>

<p>The other possibility is Python templates based on Pykickstart:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">pykickstart.constants</span> <span class="kn">import</span> <span class="n">KS_SCRIPT_POST</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">pykickstart.parser</span> <span class="kn">import</span> <span class="n">Script</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">installdefaults</span> <span class="kn">import</span> <span class="n">InstallKs</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">def</span> <span class="nf">ks</span><span class="p">(</span><span class="o">**</span><span class="n">context</span><span class="p">):</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="s">&#39;&#39;&#39;Anaconda autopart&#39;&#39;&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">ks</span><span class="o">=</span><span class="n">InstallKs</span><span class="p">()</span>
</span><span class='line'><span class="n">ks</span><span class="o">.</span><span class="n">packages</span><span class="o">.</span><span class="n">add</span><span class="p">([</span><span class="s">&#39;@base&#39;</span><span class="p">])</span>
</span><span class='line'>
</span><span class='line'><span class="n">ks</span><span class="o">.</span><span class="n">clearpart</span><span class="p">(</span><span class="n">initAll</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span><span class='line'><span class="n">ks</span><span class="o">.</span><span class="n">autopart</span><span class="p">(</span><span class="n">autopart</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">script</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span>
</span><span class='line'><span class="s">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;cp /tmp/ks.cfg /mnt/sysimage/root/ks.cfg || </span><span class="se">\</span>
</span><span class='line'><span class="s">cp /run/install/ks.cfg /mnt/sysimage/root/ks.cfg</span>
</span><span class='line'><span class="s">&#39;&#39;&#39;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">post</span> <span class="o">=</span> <span class="n">Script</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">KS_SCRIPT_POST</span><span class="p">,</span> <span class="n">inChroot</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</span><span class='line'><span class="n">ks</span><span class="o">.</span><span class="n">scripts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">post</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">return</span> <span class="n">ks</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>At the moment SNAKE is essentially abandoned but feature complete.
I'm thinking about adopting the project just in case we need to make some fixes.
Will let you know more about this when it happens.</p>

<h2>Open Source Test Suite</h2>

<p>I have been working on opening up several test cases for what we (QE) call
a tier #1 installation test suite. They can be found in
<a href="http://taskbot.cloud.fedoraproject.org/cgit/fedora-beaker-tests/">git</a>.
The tests are base on <a href="https://fedorahosted.org/beakerlib/">beakerlib</a> and
the legacy RHTS framework which is now part of Beaker.</p>

<p>This effort has been coordinated with Kamil as part of a pilot
project he's responsible for. I've been executing the same test suite against
earlier Fedora 20 snapshots but using an internal environment. Now everything
is going out in the open.</p>

<h2>Executing The Tests</h2>

<p>Well you can't do that - YET! There are command line client tools for Fedora
but Beaker and SNAKE are not well suited for use outside a restricted network
like LAN or VPN. There are issues with authentication most notably for SNAKE.</p>

<p>At the moment I have to ssh through two different systems to get proper access.
However this is been worked on. I've read about a rewrite which will allow Beaker
to utilize a custom authentication framework like FAS for example. Hopefully that
will be implemented soon enough.</p>

<p>I will also like to see the test systems have direct access to the Internet for
various reasons but this is not without its risks either. This is still to be
decided.</p>

<p>If you are interested anyway see the <code>kick-tests.sh</code> file in the test suite for
examples and command line options.</p>

<h2>Test Results</h2>

<p>The first successfully completed
<a href="http://beaker.fedoraproject.org/bkr/jobs/">test jobs</a> are jobs 50 to 58.
There's a failure in one of the test cases, namely SELinux related
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1027148">RHBZ #1027148</a>.</p>

<p>From what I can tell the lab is now working as expected and we can start doing
some testing against Fedora development snapshots.</p>

<p>Ping me or join #fedora-qa on irc.freenode.net if you'd like to join Fedora QA!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip: Cut Leading or Trailing Fields From Strings in Bash]]></title>
    <link href="http://atodorov.org/blog/2013/11/19/tip-cut-leading-or-trailing-fields-from-strings-in-bash/"/>
    <updated>2013-11-19T00:16:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/11/19/tip-cut-leading-or-trailing-fields-from-strings-in-bash</id>
    <content type="html"><![CDATA[<p>Today I was looking for a command sequence to cut a string in two by predefined
delimiter (e.g. like <code>cut</code> does). I wanted to get the last field only and all
fields but the last as separate variables.</p>

<p>The proposed solutions I've found suggested using <code>awk</code> but I don't like it.
Here's a simple solution using <code>cut</code> and <code>rev</code> which can extract arbitrary
field counts from the end of the string.</p>

<pre><code>$ echo 'buildvm-08.phx2.fedoraproject.org' | rev | cut -f1 -d. | rev
org
$ echo 'buildvm-08.phx2.fedoraproject.org' | rev | cut -f-2 -d. | rev
fedoraproject.org
$ echo 'buildvm-08.phx2.fedoraproject.org' | rev | cut -f-3 -d. | rev
phx2.fedoraproject.org
$ echo 'buildvm-08.phx2.fedoraproject.org' | rev | cut -f2- -d. | rev
buildvm-08.phx2.fedoraproject
$ echo 'buildvm-08.phx2.fedoraproject.org' | rev | cut -f3- -d. | rev
buildvm-08.phx2
$ echo 'buildvm-08.phx2.fedoraproject.org' | rev | cut -f4- -d. | rev
buildvm-08
</code></pre>

<p>The magic here is done by <code>rev</code> which reverses the order of characters in every
line. It comes with the <em>util-linux-ng</em> package.</p>

<p><strong>Note to Self:</strong> <em>util-linux-ng</em> appears to contain more useful commands which
I wasn't aware of. Need to RTFM a little bit.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Keeping Backwards Compatibility for pykickstart]]></title>
    <link href="http://atodorov.org/blog/2013/11/13/keeping-backwards-compatibility-for-pykickstart/"/>
    <updated>2013-11-13T23:59:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/11/13/keeping-backwards-compatibility-for-pykickstart</id>
    <content type="html"><![CDATA[<p>Consider the following scenario:</p>

<ul>
<li>I'm using <a href="https://fedorahosted.org/snake/">SNAKE</a> templates as part of my
installation testing work;</li>
<li>SNAKE has a dependency on pykickstart;</li>
<li>To test the latest and greatest kickstart features in Fedora we need the
latest version of pykickstart;</li>
<li>Latest pykickstart needs Python 2.7</li>
<li>Python 2.7 is not available on RHEL 6 which is used to host the test
infrastructure.</li>
</ul>


<p>Just yesterday I hit an issue with the above setup and figured Fedora QA is
in a kind of strange situation - we always need the latest but need it
conservative enough to run on RHEL 6. See the original thread at
<a href="https://www.redhat.com/archives/kickstart-list/2013-November/msg00001.html">kickstart-list</a>.</p>

<p>In this particular case the solution will be to remove the offending code
and implement the same functionality in backward-compatible manner. Also add
more tests. I will be working on this tomorrow (there's an older patch already).</p>

<p>The BIG question remains though - how do you manage software evolution and still
keep it compatible with older execution stacks? Please share your experience in
the comments section.</p>

<hr />

<p>PP: Spoiler - this is part of an ongoing effort to bring open source installation
testing expertise (my domain) into Fedora world, plus establish a community supported
test infrastructure. More info TBA soon.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My First Article for OpenSource.com]]></title>
    <link href="http://atodorov.org/blog/2013/11/01/my-first-article-for-opensource-dot-com/"/>
    <updated>2013-11-01T12:47:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/11/01/my-first-article-for-opensource-dot-com</id>
    <content type="html"><![CDATA[<p><img src="/images/annoyingbugs.png" title="Annoying bugs" alt="&quot;Annoying bugs&quot;" />
<em>image by opensource.com</em></p>

<p>Recently OpenSource.com published my first article
<a href="http://opensource.com/business/13/10/user-guide-bugs-open-source-projects">User guide for open source project bug submissions</a>
which was inspired by real events.</p>

<p>The comments at the bottom are very interesting. It looks like Fedora needs to
make some changes in the bug reporting process and tools.</p>

<p>I've started a
<a href="https://lists.fedoraproject.org/pipermail/test/2013-November/118607.html">discussion</a>
on Fedora QA mailing list about this. Follow the thread if you are interested in the
topic.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip: Extending Btrfs Filesystem for Fedora Virtual Machine]]></title>
    <link href="http://atodorov.org/blog/2013/10/13/tip-extending-btrfs-filesystem-for-fedora-virtual-machine/"/>
    <updated>2013-10-13T14:53:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/10/13/tip-extending-btrfs-filesystem-for-fedora-virtual-machine</id>
    <content type="html"><![CDATA[<p>I was testing Fedora 20 inside a KVM guest this week when the disk
space run out. The system was configured to use Btrfs filesystem and this is how
to extend it.</p>

<p>First you have to extend the underlying guest storage. On the host I'm using LVM
so this is a no brainer:</p>

<pre><code># pvs
  PV                                                    VG              Fmt  Attr PSize   PFree  
  /dev/mapper/luks-f3f6cea1-baba-4aaf-bca8-33a0ec540369 vg_redbull_mini lvm2 a--  289,11g 134,11g

# lvs
  LV            VG              Attr      LSize   Pool Origin Data%  Move Log Cpy%Sync Convert
  vm_fedora     vg_redbull_mini -wi-ao---  15,00g                                             

# lvextend -L +5G /dev/mapper/vg_redbull_mini-vm_fedora 
  Extending logical volume vm_fedora to 20,00 GiB
  Logical volume vm_fedora successfully resized

# lvs
  LV            VG              Attr      LSize   Pool Origin Data%  Move Log Cpy%Sync Convert
  vm_fedora     vg_redbull_mini -wi-ao---  20,00g                                             

# pvs
  PV                                                    VG              Fmt  Attr PSize   PFree  
  /dev/mapper/luks-f3f6cea1-baba-4aaf-bca8-33a0ec540369 vg_redbull_mini lvm2 a--  289,11g 129,11g
</code></pre>

<p>On the VM we have a default Btrfs layout:</p>

<pre><code># blkid
/dev/vda1: UUID="410ee563-e701-42ff-9d5f-5805dd103e35" TYPE="ext4" PARTUUID="0000330f-01" 
/dev/vda2: UUID="f4addad4-a0fc-482e-ad5a-240864b76f09" TYPE="swap" PARTUUID="0000330f-02" 
/dev/vda3: LABEL="fedora" UUID="f0b589ce-061c-4ac3-826e-7f3f8c8a6d30" UUID_SUB="11aa8414-3ce1-4fe7-a506-9a4f91ba5c30" TYPE="btrfs" PARTUUID="0000330f-03" 

# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda3        13G   11G  1.4G  89% /
devtmpfs        996M     0  996M   0% /dev
tmpfs          1002M   80K 1002M   1% /dev/shm
tmpfs          1002M  668K 1002M   1% /run
tmpfs          1002M     0 1002M   0% /sys/fs/cgroup
tmpfs          1002M   16K 1002M   1% /tmp
/dev/vda3        13G   11G  1.4G  89% /home
/dev/vda1       477M   72M  376M  17% /boot
</code></pre>

<p>Now power-off (not reboot) and power-on the VM guest so that it sees the new size
of the underlying storage. See the fdisk header (line 9 below), vda is now 20GiB!</p>

<p>Before extending the filesystem you have to extend the underlying disk partition! This is the
trickiest part. Using fdisk or parted you have to delete the partition and add it again.
Make sure to use the <strong>SAME</strong> starting sector for the new partition (line 33)!</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>fdisk /dev/vda&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>Welcome to fdisk (util-linux 2.24-rc1).
</span><span class='line'>Changes will remain in memory only, until you decide to write them.
</span><span class='line'>Be careful before using the write command.&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): p
</span><span class='line'>Disk /dev/vda: 20 GiB, 21474836480 bytes, 41943040 sectors
</span><span class='line'>Units: sectors of 1 * 512 = 512 bytes
</span><span class='line'>Sector size (logical/physical): 512 bytes / 512 bytes
</span><span class='line'>I/O size (minimum/optimal): 512 bytes / 512 bytes
</span><span class='line'>Disk label type: dos
</span><span class='line'>Disk identifier: 0x0000330f&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Device    Boot     Start       End   Blocks  Id System
</span><span class='line'>/dev/vda1 *         2048   1026047   512000  83 Linux
</span><span class='line'>/dev/vda2        1026048   5253119  2113536  82 Linux swap / Solaris
</span><span class='line'>/dev/vda3        5253120  31457279 13102080  83 Linux&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): d
</span><span class='line'>Partition number (1-3, default 3): 3&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Partition 3 is deleted&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): n&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Partition type:
</span><span class='line'>   p   primary (2 primary, 0 extended, 2 free)
</span><span class='line'>   e   extended
</span><span class='line'>Select (default p): p
</span><span class='line'>Partition number (3,4, default 3): 3
</span><span class='line'>First sector (5253120-41943039, default 5253120):
</span><span class='line'>Last sector, +sectors or +size{K,M,G,T,P} (5253120-41943039, default 41943039):&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Created a new partition 3 of type 'Linux' and of size 17,5 GiB.&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): p
</span><span class='line'>Disk /dev/vda: 20 GiB, 21474836480 bytes, 41943040 sectors
</span><span class='line'>Units: sectors of 1 * 512 = 512 bytes
</span><span class='line'>Sector size (logical/physical): 512 bytes / 512 bytes
</span><span class='line'>I/O size (minimum/optimal): 512 bytes / 512 bytes
</span><span class='line'>Disk label type: dos
</span><span class='line'>Disk identifier: 0x0000330f&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Device    Boot     Start       End   Blocks  Id System
</span><span class='line'>/dev/vda1 *         2048   1026047   512000  83 Linux
</span><span class='line'>/dev/vda2        1026048   5253119  2113536  82 Linux swap / Solaris
</span><span class='line'>/dev/vda3        5253120  41943039 18344960  83 Linux&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): w&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>The partition table has been altered.
</span><span class='line'>Calling ioctl() to re-read partition table.
</span><span class='line'>Re-reading the partition table failed.: Device or resource busy&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>The kernel still uses the old table. The new table will be used at the next reboot or after you run partprobe(8) or kpartx(8).&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>partprobe&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>Error: Partition(s) 3 on /dev/vda have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>reboot&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>See lines 36 and 49 above. The new partition has a greater size.
After reboot just resize the filesystem and verify the new space has been added</p>

<pre><code># btrfs filesystem resize max /
Resize '/' of 'max'

# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda3        18G   11G  6.4G  63% /
devtmpfs        996M     0  996M   0% /dev
tmpfs          1002M   80K 1002M   1% /dev/shm
tmpfs          1002M  660K 1002M   1% /run
tmpfs          1002M     0 1002M   0% /sys/fs/cgroup
tmpfs          1002M   16K 1002M   1% /tmp
/dev/vda3        18G   11G  6.4G  63% /home
/dev/vda1       477M   72M  376M  17% /boot
</code></pre>

<p>This is it, more disk space available for the virtual machine. Let me know how it works
for you.</p>
]]></content>
  </entry>
  
</feed>
