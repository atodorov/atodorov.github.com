<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Fedora | atodorov.org]]></title>
  <link href="http://atodorov.org/blog/categories/fedora/atom.xml" rel="self"/>
  <link href="http://atodorov.org/"/>
  <updated>2013-11-14T00:13:31+02:00</updated>
  <id>http://atodorov.org/</id>
  <author>
    <name><![CDATA[Alexander Todorov]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Keeping Backwards Compatibility for pykickstart]]></title>
    <link href="http://atodorov.org/blog/2013/11/13/keeping-backwards-compatibility-for-pykickstart/"/>
    <updated>2013-11-13T23:59:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/11/13/keeping-backwards-compatibility-for-pykickstart</id>
    <content type="html"><![CDATA[<p>Consider the following scenario:</p>

<ul>
<li>I'm using <a href="https://fedorahosted.org/snake/">SNAKE</a> templates as part of my
installation testing work;</li>
<li>SNAKE has a dependency on pykickstart;</li>
<li>To test the latest and greatest kickstart features in Fedora we need the
latest version of pykickstart;</li>
<li>Latest pykickstart needs Python 2.7</li>
<li>Python 2.7 is not available on RHEL 6 which is used to host the test
infrastructure.</li>
</ul>


<p>Just yesterday I hit an issue with the above setup and figured Fedora QA is
in a kind of strange situation - we always need the latest but need it
conservative enough to run on RHEL 6. See the original thread at
<a href="https://www.redhat.com/archives/kickstart-list/2013-November/msg00001.html">kickstart-list</a>.</p>

<p>In this particular case the solution will be to remove the offending code
and implement the same functionality in backward-compatible manner. Also add
more tests. I will be working on this tomorrow (there's an older patch already).</p>

<p>The BIG question remains though - how do you manage software evolution and still
keep it compatible with older execution stacks? Please share your experience in
the comments section.</p>

<hr />

<p>PP: Spoiler - this is part of an ongoing effort to bring open source installation
testing expertise (my domain) into Fedora world, plus establish a community supported
test infrastructure. More info TBA soon.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My First Article for OpenSource.com]]></title>
    <link href="http://atodorov.org/blog/2013/11/01/my-first-article-for-opensource-dot-com/"/>
    <updated>2013-11-01T12:47:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/11/01/my-first-article-for-opensource-dot-com</id>
    <content type="html"><![CDATA[<p><img src="/images/annoyingbugs.png" title="Annoying bugs" alt="&quot;Annoying bugs&quot;" />
<em>image by opensource.com</em></p>

<p>Recently OpenSource.com published my first article
<a href="http://opensource.com/business/13/10/user-guide-bugs-open-source-projects">User guide for open source project bug submissions</a>
which was inspired by real events.</p>

<p>The comments at the bottom are very interesting. It looks like Fedora needs to
make some changes in the bug reporting process and tools.</p>

<p>I've started a
<a href="https://lists.fedoraproject.org/pipermail/test/2013-November/118607.html">discussion</a>
on Fedora QA mailing list about this. Follow the thread if you are interested in the
topic.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip: Extending Btrfs Filesystem for Fedora Virtual Machine]]></title>
    <link href="http://atodorov.org/blog/2013/10/13/tip-extending-btrfs-filesystem-for-fedora-virtual-machine/"/>
    <updated>2013-10-13T14:53:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/10/13/tip-extending-btrfs-filesystem-for-fedora-virtual-machine</id>
    <content type="html"><![CDATA[<p>I was testing Fedora 20 inside a KVM guest this week when the disk
space run out. The system was configured to use Btrfs filesystem and this is how
to extend it.</p>

<p>First you have to extend the underlying guest storage. On the host I'm using LVM
so this is a no brainer:</p>

<pre><code># pvs
  PV                                                    VG              Fmt  Attr PSize   PFree  
  /dev/mapper/luks-f3f6cea1-baba-4aaf-bca8-33a0ec540369 vg_redbull_mini lvm2 a--  289,11g 134,11g

# lvs
  LV            VG              Attr      LSize   Pool Origin Data%  Move Log Cpy%Sync Convert
  vm_fedora     vg_redbull_mini -wi-ao---  15,00g                                             

# lvextend -L +5G /dev/mapper/vg_redbull_mini-vm_fedora 
  Extending logical volume vm_fedora to 20,00 GiB
  Logical volume vm_fedora successfully resized

# lvs
  LV            VG              Attr      LSize   Pool Origin Data%  Move Log Cpy%Sync Convert
  vm_fedora     vg_redbull_mini -wi-ao---  20,00g                                             

# pvs
  PV                                                    VG              Fmt  Attr PSize   PFree  
  /dev/mapper/luks-f3f6cea1-baba-4aaf-bca8-33a0ec540369 vg_redbull_mini lvm2 a--  289,11g 129,11g
</code></pre>

<p>On the VM we have a default Btrfs layout:</p>

<pre><code># blkid
/dev/vda1: UUID="410ee563-e701-42ff-9d5f-5805dd103e35" TYPE="ext4" PARTUUID="0000330f-01" 
/dev/vda2: UUID="f4addad4-a0fc-482e-ad5a-240864b76f09" TYPE="swap" PARTUUID="0000330f-02" 
/dev/vda3: LABEL="fedora" UUID="f0b589ce-061c-4ac3-826e-7f3f8c8a6d30" UUID_SUB="11aa8414-3ce1-4fe7-a506-9a4f91ba5c30" TYPE="btrfs" PARTUUID="0000330f-03" 

# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda3        13G   11G  1.4G  89% /
devtmpfs        996M     0  996M   0% /dev
tmpfs          1002M   80K 1002M   1% /dev/shm
tmpfs          1002M  668K 1002M   1% /run
tmpfs          1002M     0 1002M   0% /sys/fs/cgroup
tmpfs          1002M   16K 1002M   1% /tmp
/dev/vda3        13G   11G  1.4G  89% /home
/dev/vda1       477M   72M  376M  17% /boot
</code></pre>

<p>Now power-off (not reboot) and power-on the VM guest so that it sees the new size
of the underlying storage. See the fdisk header (line 9 below), vda is now 20GiB!</p>

<p>Before extending the filesystem you have to extend the underlying disk partition! This is the
trickiest part. Using fdisk or parted you have to delete the partition and add it again.
Make sure to use the <strong>SAME</strong> starting sector for the new partition (line 33)!</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>fdisk /dev/vda&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>Welcome to fdisk (util-linux 2.24-rc1).
</span><span class='line'>Changes will remain in memory only, until you decide to write them.
</span><span class='line'>Be careful before using the write command.&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): p
</span><span class='line'>Disk /dev/vda: 20 GiB, 21474836480 bytes, 41943040 sectors
</span><span class='line'>Units: sectors of 1 * 512 = 512 bytes
</span><span class='line'>Sector size (logical/physical): 512 bytes / 512 bytes
</span><span class='line'>I/O size (minimum/optimal): 512 bytes / 512 bytes
</span><span class='line'>Disk label type: dos
</span><span class='line'>Disk identifier: 0x0000330f&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Device    Boot     Start       End   Blocks  Id System
</span><span class='line'>/dev/vda1 *         2048   1026047   512000  83 Linux
</span><span class='line'>/dev/vda2        1026048   5253119  2113536  82 Linux swap / Solaris
</span><span class='line'>/dev/vda3        5253120  31457279 13102080  83 Linux&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): d
</span><span class='line'>Partition number (1-3, default 3): 3&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Partition 3 is deleted&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): n&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Partition type:
</span><span class='line'>   p   primary (2 primary, 0 extended, 2 free)
</span><span class='line'>   e   extended
</span><span class='line'>Select (default p): p
</span><span class='line'>Partition number (3,4, default 3): 3
</span><span class='line'>First sector (5253120-41943039, default 5253120):
</span><span class='line'>Last sector, +sectors or +size{K,M,G,T,P} (5253120-41943039, default 41943039):&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Created a new partition 3 of type 'Linux' and of size 17,5 GiB.&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): p
</span><span class='line'>Disk /dev/vda: 20 GiB, 21474836480 bytes, 41943040 sectors
</span><span class='line'>Units: sectors of 1 * 512 = 512 bytes
</span><span class='line'>Sector size (logical/physical): 512 bytes / 512 bytes
</span><span class='line'>I/O size (minimum/optimal): 512 bytes / 512 bytes
</span><span class='line'>Disk label type: dos
</span><span class='line'>Disk identifier: 0x0000330f&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Device    Boot     Start       End   Blocks  Id System
</span><span class='line'>/dev/vda1 *         2048   1026047   512000  83 Linux
</span><span class='line'>/dev/vda2        1026048   5253119  2113536  82 Linux swap / Solaris
</span><span class='line'>/dev/vda3        5253120  41943039 18344960  83 Linux&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Command (m for help): w&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>The partition table has been altered.
</span><span class='line'>Calling ioctl() to re-read partition table.
</span><span class='line'>Re-reading the partition table failed.: Device or resource busy&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>The kernel still uses the old table. The new table will be used at the next reboot or after you run partprobe(8) or kpartx(8).&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>partprobe&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>Error: Partition(s) 3 on /dev/vda have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>reboot&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>See lines 36 and 49 above. The new partition has a greater size.
After reboot just resize the filesystem and verify the new space has been added</p>

<pre><code># btrfs filesystem resize max /
Resize '/' of 'max'

# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda3        18G   11G  6.4G  63% /
devtmpfs        996M     0  996M   0% /dev
tmpfs          1002M   80K 1002M   1% /dev/shm
tmpfs          1002M  660K 1002M   1% /run
tmpfs          1002M     0 1002M   0% /sys/fs/cgroup
tmpfs          1002M   16K 1002M   1% /tmp
/dev/vda3        18G   11G  6.4G  63% /home
/dev/vda1       477M   72M  376M  17% /boot
</code></pre>

<p>This is it, more disk space available for the virtual machine. Let me know how it works
for you.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip: Installing Missing debuginfo Packages for ABRT]]></title>
    <link href="http://atodorov.org/blog/2013/10/12/tip-installing-missing-debuginfo-packages-for-abrt/"/>
    <updated>2013-10-12T14:38:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/10/12/tip-installing-missing-debuginfo-packages-for-abrt</id>
    <content type="html"><![CDATA[<p><img src="/images/reporting_disabled.png" title="Reporting disabled" alt="&quot;Reporting disabled&quot;" /></p>

<p>Every once in a while ABRT will tell you that reporting is disabled because
backtrace is unusable. What it means is that it can't read some of the debugging
symbols and the most likely reason for that is debuginfo packages are missing.</p>

<p>To install them first locate the directory containing the files for that particular
crash. Use the <code>executable</code> file to find out if you are looking into the correct
directory. Then use this one liner to install the missing debuginfo packages.</p>

<pre><code># pwd
/var/tmp/abrt/ccpp-2013-10-10-15:55:18-15533
# cat backtrace | grep lib | tr -s ' ' | cut -f4 -d' ' | sort | uniq | grep "/" | xargs rpm -qf --qf "%{name}\n" | xargs debuginfo-install -y
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fedora 20 GNOME 3.10 Test Day Post-mortem]]></title>
    <link href="http://atodorov.org/blog/2013/10/11/fedora-20-gnome-3-dot-10-test-day-post-mortem/"/>
    <updated>2013-10-11T12:25:00+03:00</updated>
    <id>http://atodorov.org/blog/2013/10/11/fedora-20-gnome-3-dot-10-test-day-post-mortem</id>
    <content type="html"><![CDATA[<p><img src="/images/fedora/sausage-banner.png" title="Fedora sausage banner" alt="&quot;Fedora sausage banner&quot;" /></p>

<p>Here is my summary of the second Fedora Test Day hosted at
<a href="http://initlab.org">init Lab</a> yesterday.</p>

<p>Local attendance was a total disaster, in fact I was testing once again by my own.
This time
there were more people in the lab, all busy with their daily routines and tasks.
There were no people who came for the testing :(. I will have to try different
venues in the future and see if the situation improves.</p>

<p>On the testing front I managed to score 5 bugs against
<a href="https://bugzilla.gnome.org/buglist.cgi?bug_id=709797,709799,709806,709810">GNOME</a>
and <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1017807">Fedora</a>.
You can see the other test results and bugs on the
<a href="https://fedoraproject.org/wiki/Test_Day:2013-10-10_Gnome_3.10">wiki</a>.</p>

<p>There are two things I didn't like in particular</p>

<ul>
<li>GNOME 3 as well as its classic mode - simply not the environment I'm used to;</li>
<li>Having to record test results in the wiki! I'm
<a href="https://lists.fedoraproject.org/pipermail/test/2013-October/118284.html">writing</a>
to the Fedora QA mailing list about that as we speak.</li>
</ul>


<p>At one time I was engaged in a discussion about which Bulgarian keyboard layout
should be the default in GNOME simply because of
<a href="https://bugzilla.gnome.org/show_bug.cgi?id=709799">GNOME #709799</a>. The default
keyboard layout will be Bulgarian (traditional phonetic) aka bg+phonetic.</p>

<p><blockquote><p>(16,13,26) rtcm: atodorov: are you bulgarian and/or live in bulgaria?<br/>(16,14,20) rtcm: atodorov: if yes, I wanted to know which keyboard layout most people expect there to be the default<br/>(16,16,34) atodorov: rtcm: I'm a Bulgarian, however I can't tell which one. Both Phonetic and standard (BDS) are common<br/>(16,16,54) atodorov: a safe bet is to go with phonetic I guess.<br/>(16,19,46) rtcm: atodorov: can you tell me which one is it in XKB terms? is it "bg", "bg+bas_phonetic" or "bg+phonetic" ?<br/>(16,20,51) rtcm: they're labeled as "Bulgarian", "Bulgarian (new phonetic)" and "Bulgarian (traditional phonetic)"<br/>(16,21,30) atodorov: bg+phonetic is the traditional phonetic<br/>(16,22,04) atodorov: bg labeled as "Bulgarian" is the standard one I guess. Here we call it BDS after the standardization institute<br/>(16,22,34) atodorov: bg+bas_phonetic is created from the Bulgarian Academy of Science and is not very popular as far as I know. I've never seen it in use<br/>(16,23,15) rtcm: atodorov: all I want to know is what most people would expect? like what does windows do by default? that's a good bet<br/>(16,27,46) atodorov: rtcm: I'm just being told that new Windows releases use yet another layout by default, which is like phonetic but with some characters in new places and people don't like that<br/>(16,27,53) atodorov: my safe bet goes to bg+phonetic<br/>(16,29,05) rtcm: ok, thanks</p></blockquote></p>

<p>It is a rare occasion when you get to make a decision that affects a large group
of people and I hope you don't hate me for that!</p>

<p>Do you want to see more Fedora Test Days happening in Sofia? Join me and I will
organize some more!</p>
]]></content>
  </entry>
  
</feed>
