<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: bugs | atodorov.org - you can logoff, but you can never leave]]></title>
  <link href="http://atodorov.org/blog/categories/bugs/atom.xml" rel="self"/>
  <link href="http://atodorov.org/"/>
  <updated>2015-07-27T13:34:41+03:00</updated>
  <id>http://atodorov.org/</id>
  <author>
    <name><![CDATA[Alexander Todorov]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Pedometer Bug in Samsung Gear Fit Smartwatch]]></title>
    <link href="http://atodorov.org/blog/2015/01/09/pedometer-bug-in-samsung-gear-fit-smartwatch/"/>
    <updated>2015-01-09T10:53:00+02:00</updated>
    <id>http://atodorov.org/blog/2015/01/09/pedometer-bug-in-samsung-gear-fit-smartwatch</id>
    <content type="html"><![CDATA[<p><a style="float:left;display:inline-block;margin-right:10px;" href="http://www.amazon.com/gp/product/B00J4DY8RU/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B00J4DY8RU&linkCode=as2&tag=atodorovorg-20&linkId=RNJGVYUTOOJFGWOU">
<img src="http://atodorov.org/images/samsung/gear_fit.jpg" />
</a>
<sub>
Image source <a href="http://pocketnow.com/2014/05/02/samsung-gear-fit-review-pre-buttal-video">Pocketnow</a>
<sub></p>

<p>Recently I've been playing around with a
<a href="http://www.amazon.com/gp/product/B00J4DY8RU/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B00J4DY8RU&linkCode=as2&tag=atodorovorg-20&linkId=RNJGVYUTOOJFGWOU">Samsung Gear Fit</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B00J4DY8RU" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
and while the hardware seems good I'm a bit disapointed on the software side.
There is at least one bug which is clearly visible - <strong>pedometer counts calories twice
when it's on and exercise mode is started</strong>.</p>

<p>How to test:</p>

<ul>
<li>Start the <em>Pedometer</em> app and record any initial readings;</li>
<li>Walk a fixed distance and at the end record all readings;</li>
<li>Now go back to the <em>Exercise</em> app and select a <em>Walking</em>
exercise from the menu. Tap <em>Start</em>;</li>
<li>Walk back the same distance/road as before. At the end of the journey
stop the walking exercise and record all readings.</li>
</ul>


<p>Expected results:</p>

<p>At the end of the trip I expect to see roughly the same calories burned
for both directions.</p>

<p>Actual results:</p>

<p>The return trip counted twice as many calories compared to the forward trip.
Here's some actual data to prove it:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>+--------------------------+----------+----------------+---------+-------------+---------+
</span><span class='line'>|                          | Initial  | Forward trip   |         | Return trip |         |
</span><span class='line'>|                          | Readings | Pedometer only |  Delta  | Pedometer &amp; |  Delta  |
</span><span class='line'>|                          |          |                |         | Exercise    |         |
</span><span class='line'>+--------------------------+----------+----------------+---------+-------------+---------+
</span><span class='line'>|              Total Steps | 14409 st | 14798 st       | 389 st  | 15246 st    | 448 st  |
</span><span class='line'>+--------------------------+----------+----------------+---------+-------------+---------+
</span><span class='line'>|           Total Distance | 12,19 km | 12,52 km       | 0,33 km | 12,90 km    | 0,38 km |
</span><span class='line'>+--------------------------+----------+----------------+---------+-------------+---------+
</span><span class='line'>| Cal burned via Pedometer |  731 Cal |  751 Cal       | 20 Cal  |  772 Cal    | 21 Cal  |
</span><span class='line'>+--------------------------+----------+----------------+=========+-------------+=========+
</span><span class='line'>| Cal burned via Exercise  |  439 Cal |  439 Cal       | 0       |  460 Cal    | 21 Cal  |
</span><span class='line'>+--------------------------+----------+----------------+---------+-------------+=========+
</span><span class='line'>|    Total calories burned | 1170 Cal | 1190 Cal       | 20 cal  | 1232 Cal    | 42 Cal  |
</span><span class='line'>+--------------------------+----------+----------------+=========+-------------+=========+</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><strong>Note:</strong> Data values above were taken from Samsung's <em>S Health</em> app which is easier to work with
instead of the Gear Fit itself.</p>

<p>The problem is that both apps are accessing the sensor simultaneously and not aware of each other.
In theory it should be relatively easy to block access of one app while the other is running but
that may not be so easy to implement on the limited platform the Gear Fit is.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[2 Barcode Related Bugs in MyFitnessPal]]></title>
    <link href="http://atodorov.org/blog/2015/01/07/2-barcode-related-bugs-in-myfitnesspal/"/>
    <updated>2015-01-07T14:44:00+02:00</updated>
    <id>http://atodorov.org/blog/2015/01/07/2-barcode-related-bugs-in-myfitnesspal</id>
    <content type="html"><![CDATA[<p><img src="/images/barcode/fail.jpg" title="Barcode that fails to scan" alt="Barcode that fails to scan" /></p>

<p><strong>Did you know that the popular <em>MyFitnessPal</em> application can't scan barcodes
printed on curved surfaces?</strong> The above barcode fails to scan because it is
printed on a metal can full of roasted almonds :). In contrast the
<em>Barcode Scanner</em> from <em>ZXing Team</em> understands it just fine. My bet is
<em>MyFitnessPal</em> uses less advanced barcode scanning library. Judging from
the visual clues in the app the issue is between 6 and 0 where white space is wider.</p>

<p><img src="/images/barcode/pass.jpg" title="Barcode that scans fine" alt="Barcode that scans fine" /></p>

<p>Despite being a bit blurry this second barcode is printed on a flat surface and
is understood by both <em>MyFitnessPal</em> and "ZXing Barcode Scanner".</p>

<p><strong>NOTE</strong> I get the same results regardless if I try to scan the actual barcode
printed on packaging, a picture from a mobile device screen or these two images
from the laptop screen.</p>

<p><strong>MyFitnessPal also has problems with duplicate barcodes!</strong> Barcodes are not unique
and many producers use the same code for multiple products. I've seen this in the
case of two different varieties of salami from the same manufacturer on the good end
and two different products produced across the world (eggs and popcorn) on the
extreme end.</p>

<p>Once the user scans their barcodes and establish that the existing information is
not correct they can <em>Create a Food</em> and update the calories database. This is then
synced back to MyFitnesPal servers and overrides any existing information. When the same
barcode is scanned for the second time only the new DB entry is visible.</p>

<p>How to reproduce:</p>

<ul>
<li>Scan an existing barcode and enter it to MFP database if not already there;</li>
<li>Scan the same barcode one more time and pretend the information is not correct;</li>
<li>Click the <em>Create a Food</em> button and fill-in the fields. For example use a
different food name to distinguish between the two database entries. Save!</li>
<li>From another device with different account (to verify information in DB)
scan the same barcode again.</li>
</ul>


<p>Actual results:
The last entered information is shown.</p>

<p>Expected results:
User is shown both DB records and can select between them.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Endless Loop Bug in Candy Crush Saga Level 80]]></title>
    <link href="http://atodorov.org/blog/2015/01/05/endless-loop-bug-candy-crush-saga-level-80/"/>
    <updated>2015-01-05T15:44:00+02:00</updated>
    <id>http://atodorov.org/blog/2015/01/05/endless-loop-bug-candy-crush-saga-level-80</id>
    <content type="html"><![CDATA[<p>Happy new year everyone. During the holidays I've discovered several interesting
bugs which will be revealed in this blog. Starting today with a bug in the popular
game <em>Candy Crush Saga</em>.</p>

<p>In level 80 one teleport is still open but the chocolates are blocking the rest.
The game has ended but candies keep flowing through the teleport and the level doesn't exit.
My guess is that the game logic is missing a check whether or not it will go into an endless loop.</p>

<iframe width="560" height="315" src="http://atodorov.org//www.youtube.com/embed/haBepFwyaxY" frameborder="0" allowfullscreen></iframe>


<p>This bug seems to be generic for the entire game. It pops up also on
level 137 in the Owl part of the game (recorded by somebody else):</p>

<iframe width="420" height="315" src="http://atodorov.org//www.youtube.com/embed/6q1_LIdamqw" frameborder="0" allowfullscreen></iframe>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[BlackBerry Z10 is Killing My WiFi Router]]></title>
    <link href="http://atodorov.org/blog/2014/12/22/blackberry-z10-is-killing-my-wifi-router/"/>
    <updated>2014-12-22T15:46:00+02:00</updated>
    <id>http://atodorov.org/blog/2014/12/22/blackberry-z10-is-killing-my-wifi-router</id>
    <content type="html"><![CDATA[<p>Few days ago I've resurrected my BlackBerry Z10 only to find out that it kills
my WiFi router shortly after connecting to the network.
It looks like many people are having the same problem with BlackBerry but most forum
threads don't offer a meaningful solution so I did some tests.</p>

<p>Everything works fine when WiFi mode is set to either 11bgn mixed or 11n only and
WiFi security is disabled.</p>

<p>When using WPA2/Personal security mode and AES encryption the problem occurs
regardless of which WiFi mode is used. There is another type of encryption called TKIP
but the device itself warns that this is not supported by the 802.11n specification
(all my devices use it anyway).</p>

<p>So to recap:
<strong>BlackBerry Z10 causes my TP-Link router to die if using WPA2/Personal security with
AES Encryption. Switching to open network with MAC address filtering works fine!</strong></p>

<p>I haven't had the time to upgrade the firmware of this router and see if the problem persists.
Most likely I'll just go ahead and flash it with OpenWRT.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Can I Use Android Phone as Smart Card Reader]]></title>
    <link href="http://atodorov.org/blog/2013/12/18/can-i-use-android-phone-as-smart-card-reader/"/>
    <updated>2013-12-18T23:09:00+02:00</updated>
    <id>http://atodorov.org/blog/2013/12/18/can-i-use-android-phone-as-smart-card-reader</id>
    <content type="html"><![CDATA[<p>Today I had troubles with my Omnikey CardMan 6121 smart card reader.
For some reason it will not detect the card inside and was unusable.
<code>/var/log/messages</code> was filled with  <em>Card Not Powered</em> messages:</p>

<pre><code>Dec 18 11:17:55 localhost pcscd: eventhandler.c:292:EHStatusHandlerThread() Error powering up card: -2146435050 0x80100016
Dec 18 11:18:01 localhost pcscd: winscard.c:368:SCardConnect() Card Not Powered
Dec 18 11:18:02 localhost pcscd: winscard.c:368:SCardConnect() Card Not Powered
</code></pre>

<p><img src="http://atodorov.org/images/omnikey_cardman_6121.gif" style="float:right;margin-left:20px;" /></p>

<p>I've found the solution in
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=531998">RHBZ #531998</a>.</p>

<p><blockquote><p></p></p><p><p>I've found the problem, and it's purely mechanical.<br/>Omnikey has simply screwed up when they designed this reader.<br/>When the reader is inserted into the ExpressCard slot, it gets slightly<br/>compressed. This is enough to trigger the mechanical switch that detects<br/>insertions. If I jam something in there and force it apart, then pcscd<br/>starts reporting that the slot is empty.</p><footer><strong>Pierre Ossman</strong> <cite><a href='https://bugzilla.redhat.com/show_bug.cgi?id=531998#c12'>Comment #12</a></cite></footer></blockquote></p>

<p>So I tried moving the smart card a millimeter back and forth inside the reader and
that fixed it for me.</p>

<p>This smart card is standard SIM size and I wonder if it is possible to use
<a href="http://amzn.to/1dnl2gN">dual SIM</a> smart phones and <a href="http://amzn.to/18XpWlp">tablets</a>
as a reader? I will be happy to work on the software side if there is an open source
project already (e.g. OpenSC + drivers for Android). If not, why not?</p>

<p>If you happen to have information on the subject please share it in the comments.
Thanks!</p>
]]></content>
  </entry>
  
</feed>
