<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

            <meta name="google-site-verification" content="XynqZtldWNBbmsynVQZremIxaaO8Wgs6AGR8UZ7KIkM">

        <title>atodorov.org - Articles in the _posts category</title>

        <link href="http://feeds.feedburner.com/atodorov" type="application/atom+xml" rel="alternate" title="atodorov.org Full Atom Feed" />
        <!-- Bootstrap Core CSS -->
        <link href="http://atodorov.org/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="http://atodorov.org/theme/css/clean-blog.min.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="http://atodorov.org/theme/css/code_blocks/github.css" rel="stylesheet">

            <!-- CSS specified by the user -->
            <link href="http://atodorov.org/override.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

            <meta property="fb:admins" content="1616937247" />
                <meta property="og:locale" content="en_US">
		<meta property="og:site_name" content="atodorov.org">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://atodorov.org/">atodorov.org</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('/images/header_02.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Articles in the _posts category</h1>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/12/22/django-template-tag-inheritance-howto/" rel="bookmark" title="Permalink to Django Template Tag Inheritance How-to">
                <h2 class="post-title">
                    Django Template Tag Inheritance How-to
                </h2>
            </a>
                <p>While working on open-sourcing <a href="http://www.dif.io">Difio</a> I needed to remove
all hard-coded URL references from the templates. My solution was to essentially
inherit from the standard <code>{% url %}</code> template tag. Here is how to do it.</p>
<h2>Background History</h2>
<p>Difio is not hosted on a single server. Parts of the website are static HTML,
hosted on Amazon S3. Other parts are dynamic - hosted on OpenShift. It's also
possible but not required at the moment to host at various PaaS providers for
redundancy and simple load balancing. </p>
<p>As an easy fix I had hard-coded some URLs to link to the static S3 pages and others
go link to my PaaS provider.</p>
<p>I needed a simple solution which can be extended to allow for multiple domain hosting.</p>
<h2>The Solution</h2>
<p>The solution I came up with is to override the standard <code>{% url %}</code>
tag and use it everywhere in my templates. The new tag will produce absolute URLs containing
the specified protocol plus domain name and view path. For this to work you have to
inherit the standard <code>URLNode</code> class and override the <code>render()</code> method to include the new
values.</p>
<p>You also need to register a tag method to utilize the new class. My approach was to use
the existing <code>url()</code> method to do all background processing and simply casting the result
object to the new class. </p>
<p>All code is available at <a href="https://djangosnippets.org/snippets/3013/">https://djangosnippets.org/snippets/3013/</a>. </p>
<p>To use in your templates simply add</p>
<div class="highlight"><pre>{% load fqdn_url from fqdn_url %}
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{% fqdn_url &#39;dashboard&#39; %}&quot;</span><span class="nt">&gt;</span>Dashboard<span class="nt">&lt;/a&gt;</span>
</pre></div>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Sun 22 December 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/12/22/django-template-tag-inheritance-howto/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/12/18/can-i-use-android-phone-as-smart-card-reader/" rel="bookmark" title="Permalink to Can I Use Android Phone as Smart Card Reader">
                <h2 class="post-title">
                    Can I Use Android Phone as Smart Card Reader
                </h2>
            </a>
                <p>Today I had troubles with my Omnikey CardMan 6121 smart card reader.
For some reason it will not detect the card inside and was unusable.
<code>/var/log/messages</code> was filled with  <em>Card Not Powered</em> messages:</p>
<div class="highlight"><pre>Dec 18 11:17:55 localhost pcscd: eventhandler.c:292:EHStatusHandlerThread() Error powering up card: -2146435050 0x80100016
Dec 18 11:18:01 localhost pcscd: winscard.c:368:SCardConnect() Card Not Powered
Dec 18 11:18:02 localhost pcscd: winscard.c:368:SCardConnect() Card Not Powered
</pre></div>


<p><img src="/images/omnikey_cardman_6121.gif" style="float:right;margin-left:20px;" /></p>
<p>I've found the solution in 
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=531998">RHBZ #531998</a>. </p>
<blockquote>
<p>I've found the problem, and it's purely mechanical.
Omnikey has simply screwed up when they designed this reader.
When the reader is inserted into the ExpressCard slot, it gets slightly
compressed. This is enough to trigger the mechanical switch that detects
insertions. If I jam something in there and force it apart, then pcscd
starts reporting that the slot is empty.</p>
<p>Pierre Ossman, https://bugzilla.redhat.com/show_bug.cgi?id=531998#c12</p>
</blockquote>
<p>So I tried moving the smart card a millimeter back and forth inside the reader and
that fixed it for me.</p>
<p>This smart card is standard SIM size and I wonder if it is possible to use
<a href="http://amzn.to/1dnl2gN">dual SIM</a> smart phones and <a href="http://amzn.to/18XpWlp">tablets</a>
as a reader? I will be happy to work on the software side if there is an open source
project already (e.g. OpenSC + drivers for Android). If not, why not? </p>
<p>If you happen to have information on the subject please share it in the comments.
Thanks!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Wed 18 December 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/12/18/can-i-use-android-phone-as-smart-card-reader/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/12/11/idempotent-django-email-sender-with-amazon-sqs-and-memcache/" rel="bookmark" title="Permalink to Idempotent Django Email Sender with Amazon SQS and Memcache">
                <h2 class="post-title">
                    Idempotent Django Email Sender with Amazon SQS and Memcache
                </h2>
            </a>
                <p>Recently I wrote about my problem with
<a href="/blog/2013/12/06/duplicate-amazon-sqs-messages-cause-multiple-emails/">duplicate Amazon SQS messages causing multiple emails</a>
for <a href="http://www.dif.io">Difio</a>. After considering several options and
feedback from 
<a href="https://twitter.com/atodorov_/status/409429840820199424">@Answers4AWS</a>
I wrote a small decorator to fix this.</p>
<p>It uses the cache backend to prevent the task from executing twice
during the specified time frame. The code is available at
<a href="https://djangosnippets.org/snippets/3010/">https://djangosnippets.org/snippets/3010/</a>.</p>
<p>As stated on Twitter you should use Memcache (or ElastiCache) for this.
If using Amazon S3 with my
<a href="https://github.com/atodorov/django-s3-cache">django-s3-cache</a> don't use the
<code>us-east-1</code> region because it is eventually consistent.</p>
<p>The solution is fast and simple on the development side and uses my existing
cache infrastructure so it doesn't cost anything more!</p>
<p>There is still a race condition between marking the message as processed
and the second check but nevertheless this should minimize the possibility of
receiving duplicate emails to an accepted level. Only time will tell though!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Wed 11 December 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/12/11/idempotent-django-email-sender-with-amazon-sqs-and-memcache/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/12/09/book-review-ux-for-lean-startups/" rel="bookmark" title="Permalink to Book Review: UX for Lean Startups">
                <h2 class="post-title">
                    Book Review: UX for Lean Startups
                </h2>
            </a>
                <p>Recently I've finished reading <a href="http://amzn.to/1fi1KeE">UX for Lean Startups</a>
and strongly recommend this book to anyone who is <strong>OR</strong> wants to be an
entrepreneur. Here is a short review of the book.</p>
<p>This book is for anyone who is creating a product/service or is considering the
idea of doing so. It talks about validation, interaction design and subsequent
product measurement and iteration. The book demonstrates some techniques and tools
to validate, design and measure your business ideas and products.
Its goal is to teach you how to design products that deliver fantastic user
experience, e.g. ones that are intuitive and easy to use.
It has nothing to do with visual design. </p>
<p>The author Laura Klein summarizes the book as follows:</p>
<blockquote>
<p>User research</p>
<p>Listen to your users. All the time. I mean it.</p>
<p>Validation</p>
<p>When you make assumptions or create hypotheses,
  test them before spending lots of time building products around them.</p>
<p>Design</p>
<p>Iterate. Iterate. Iterate.</p>
</blockquote>
<h2>Early Validation</h2>
<p>This chapter helped me a lot to understand what exactly is validation and how
to go about it. The flow is validating the problem you are trying to solve,
then the market and then the product. </p>
<p>I will also add that by using some of these research techniques around a
vague idea/area of interest you may come around a particular trend/pattern or problem 
and develop your business from there.</p>
<blockquote>
<p>You’ll know that you’ve validated a problem when you start to hear
particular groups of people complaining about something specific.</p>
<p>...</p>
<p>Your goal in validating your market is to begin to narrow down the
group of people who will want their problems solved badly enough to buy
your product. Your secondary goal is to understand exactly why they’re
interested so you can find other markets that might be similarly motivated.</p>
<p>...</p>
<p>You’ll know that you’ve successfully validated your market when you can
accurately predict that a particular type of person will have a specific
problem and that the problem will be severe enough that that person is
interested in purchasing a solution.</p>
<p>...</p>
<p>Just because you have discovered a real problem and have a group of people
willing to pay you to solve their problem, that doesn’t necessarily mean that
your product is the right solution. </p>
<p>...</p>
<p>You’ll know that you’ve validated your product when a large percentage of
your target market offers to pay you money to solve their problem.</p>
</blockquote>
<h2>User Research</h2>
<p>Next few chapters talk about user research, the various kinds of it and when/how
to perform it. It talks how to properly run surveys, how to ask good questions,
etc. </p>
<h2>Qualitative vs. Quantitative Research</h2>
<blockquote>
<p>Quantitative research is about measuring what real people are actually
doing with your product. It doesn’t involve speaking with specific humans.
It’s about the data in aggregate. It should always be statistically significant.</p>
<p>...</p>
<p>Quantitative research tells you <strong>what</strong> your problem is. Qualitative
research tells you <strong>why</strong> you have that problem.</p>
<p>...</p>
<p>If you want to measure something that exists, like traffic or revenue or how
many people click on a particular button, then you want quantitative data.
If you want to know why you lose people out of your purchase funnel or
why people all leave once they hit a specific page, or why people seem not
to click that button, then you need qualitative.</p>
</blockquote>
<h2>Part Two: Design</h2>
<p>The second part of this book talks about design - everything from building a
prototype to figuring out when you don’t want one. It assumes you have validated
the initial idea and now move on to designing the product and validating that
design before you start building it. It talks about diagrams, sketches, wireframes,
prototypes and of course MVPs.</p>
<p>I think you can safely skip some of these steps when it comes to small applications
because it may be easier/faster to build the application instead of a prototype.
Definitely not to be skipped if you're building a more complex product!</p>
<h2>Part Three: Product</h2>
<p>This section talks about metrics and measuring the product once it is out of the door.
Supposedly based on these metrics you will refine your design and update the product
accordingly.  Most of the time it focuses on A/B testing and which metrics are
important and which are so called "vanity metrics".</p>
<p>I particularly liked the examples of A/B testing and explanations what it is good for
and what it does poorly. Definitely a mistake I've happened to made myself. I'm sure you too.</p>
<p>Let me know if you have read this book and what your thoughts are. Thanks!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Mon 09 December 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/12/09/book-review-ux-for-lean-startups/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/12/06/duplicate-amazon-sqs-messages-cause-multiple-emails/" rel="bookmark" title="Permalink to Duplicate Amazon SQS Messages Cause Multiple Emails">
                <h2 class="post-title">
                    Duplicate Amazon SQS Messages Cause Multiple Emails
                </h2>
            </a>
                <p>Beware if using Amazon Simple Queue Service to send email messages!
Sometime SQS messages are duplicated which results in multiple copies of
the messages being sent. This happened today at <a href="http://www.dif.io">Difio</a>
and is really annoying to users. In this post I will explain why there is no easy
way of fixing it.</p>
<blockquote>
<p>Q: Can a deleted message be received again?</p>
<p>Yes, under rare circumstances you might receive a previously deleted message again.
This can occur in the rare situation in which a DeleteMessage operation doesn't
delete all copies of a message because one of the servers in the distributed
Amazon SQS system isn't available at the time of the deletion. That message copy
can then be delivered again. You should design your application so that no errors
or inconsistencies occur if you receive a deleted message again.</p>
<p>Amazon FAQ</p>
</blockquote>
<p>In my case the cron scheduler logs say:</p>
<div class="highlight"><pre>&gt;&gt;&gt; &lt;AsyncResult: a9e5a73a-4d4a-4995-a91c-90295e27100a&gt;
</pre></div>


<p>While on the worker nodes the logs say:</p>
<div class="highlight"><pre><span class="k">[2013-12-06 10:13:06,229: INFO/MainProcess] Got task from broker: tasks.cron_monthly_email_reminder[a9e5a73a-4d4a-4995-a91c-90295e27100a]</span>
<span class="k">[2013-12-06 10:18:09,456: INFO/MainProcess] Got task from broker: tasks.cron_monthly_email_reminder[a9e5a73a-4d4a-4995-a91c-90295e27100a]</span>
</pre></div>


<p>This clearly shows the same message (see the UUID) has been processed twice!
This resulted in hundreds of duplicate emails :(.</p>
<h2>Why This Is Hard To Fix</h2>
<p>There are two basic approaches to solve this issue:</p>
<ul>
<li>Check some log files or database for previous record of the message having
been processed;</li>
<li>Use idempotent operations that if you process the message again, you
get the same results, and that those results don't create duplicate files/records.</li>
</ul>
<p>The problem with checking for duplicate messages is: </p>
<ul>
<li>There is a race condition between marking the message as processed and the
second check;</li>
<li>You need to use some sort of locking mechanism to safe-guard against the race condition;</li>
<li>In the event of an eventual consistency of the log/DB you can't guarantee that
the previous attempt will show up and so can't guarantee that you won't process
the message twice.</li>
</ul>
<p>All of the above don't seem to work well for distributed applications not to mention
Difio processes millions of messages per month, per node and the logs are quite big.</p>
<p>The second option is to have control of the Message-Id or some other email header
so that the second message will be discarded either at the server (Amazon SES in my case)
or at the receiving MUA. I like this better but I don't think it is technically possible
with the current environment. Need to check though. </p>
<p>I've asked AWS support to look into
<a href="https://forums.aws.amazon.com/thread.jspa?threadID=140782">this thread</a> and hopefully
they will have some more hints. If you have any other ideas please post in the comments!
Thanks!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 06 December 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/12/06/duplicate-amazon-sqs-messages-cause-multiple-emails/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/11/29/bug-python-urlgrabber-curl-fedora-amazon-linux/" rel="bookmark" title="Permalink to Bug in Python URLGrabber/cURL on Fedora and Amazon Linux">
                <h2 class="post-title">
                    Bug in Python URLGrabber/cURL on Fedora and Amazon Linux
                </h2>
            </a>
                <p>Accidentally I have discovered a bug for Python's
URLGrabber module which has to do with change in behavior in libcurl.</p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">urlgrabber.grabber</span> <span class="kn">import</span> <span class="n">URLGrabber</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">URLGrabber</span><span class="p">(</span><span class="n">reget</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">urlgrab</span><span class="p">(</span><span class="s">&#39;https://s3.amazonaws.com/production.s3.rubygems.org/gems/columnize-0.3.6.gem&#39;</span><span class="p">,</span> <span class="s">&#39;/tmp/columnize.gem&#39;</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">&quot;&lt;console&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
  <span class="n">File</span> <span class="s">&quot;/home/celeryd/.virtualenvs/difio/lib/python2.6/site-packages/urlgrabber/grabber.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">976</span><span class="p">,</span> <span class="ow">in</span> <span class="n">urlgrab</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retry</span><span class="p">(</span><span class="n">opts</span><span class="p">,</span> <span class="n">retryfunc</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">&quot;/home/celeryd/.virtualenvs/difio/lib/python2.6/site-packages/urlgrabber/grabber.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">880</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_retry</span>
    <span class="n">r</span> <span class="o">=</span> <span class="nb">apply</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="p">(</span><span class="n">opts</span><span class="p">,)</span> <span class="o">+</span> <span class="n">args</span><span class="p">,</span> <span class="p">{})</span>
  <span class="n">File</span> <span class="s">&quot;/home/celeryd/.virtualenvs/difio/lib/python2.6/site-packages/urlgrabber/grabber.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">962</span><span class="p">,</span> <span class="ow">in</span> <span class="n">retryfunc</span>
    <span class="n">fo</span> <span class="o">=</span> <span class="n">PyCurlFileObject</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">&quot;/home/celeryd/.virtualenvs/difio/lib/python2.6/site-packages/urlgrabber/grabber.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1056</span><span class="p">,</span> <span class="ow">in</span> <span class="n">__init__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_do_open</span><span class="p">()</span>
  <span class="n">File</span> <span class="s">&quot;/home/celeryd/.virtualenvs/difio/lib/python2.6/site-packages/urlgrabber/grabber.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1307</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_do_open</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_opts</span><span class="p">()</span>
  <span class="n">File</span> <span class="s">&quot;/home/celeryd/.virtualenvs/difio/lib/python2.6/site-packages/urlgrabber/grabber.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1161</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_set_opts</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">curl_obj</span><span class="o">.</span><span class="n">setopt</span><span class="p">(</span><span class="n">pycurl</span><span class="o">.</span><span class="n">SSL_VERIFYHOST</span><span class="p">,</span> <span class="n">opts</span><span class="o">.</span><span class="n">ssl_verify_host</span><span class="p">)</span>
<span class="n">error</span><span class="p">:</span> <span class="p">(</span><span class="mi">43</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>


<p>The code above works fine with curl-7.27 or older while it breaks with curl-7.29 and
newer. As explained by 
<a href="http://lists.baseurl.org/pipermail/yum-devel/2013-November/010428.html">Zdenek Pavlas</a>
the reason is an internal change in libcurl which doesn't accept a value of 1 anymore!</p>
<p>The bug is reproducible with a newer libcurl version and a vanilla urlgrabber==3.9.1
from PyPI (e.g. inside a virtualenv). The latest python-urlgrabber RPM packages in both
Fedora and Amazon Linux already have the fix.</p>
<p>I have tested the patch proposed by Zdenek and it works for me. I still have no idea why
there aren't any updates released on PyPI though!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 29 November 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/11/29/bug-python-urlgrabber-curl-fedora-amazon-linux/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/11/19/open-source-quality-assurance-infrastructure-for-fedora-qa/" rel="bookmark" title="Permalink to Open Source Quality Assurance Infrastructure for Fedora QA">
                <h2 class="post-title">
                    Open Source Quality Assurance Infrastructure for Fedora QA
                </h2>
            </a>
                <p><img alt="&quot;Beaker test lab&quot;" src="/images/fedora/beaker.png" title="Beaker test lab" /></p>
<p>In the last few weeks I've been working together with 
<a href="https://fedoraproject.org/wiki/User:Tflink">Tim Flink</a> and
<a href="https://fedoraproject.org/wiki/User:Kparal">Kamil Paral</a> from the Fedora QA
team on bringing some installation testing expertise to Fedora and establishing
an <a href="http://beaker.fedoraproject.org/bkr/">open source test lab</a>
to perform automated testing in. The infrastructure is
already in relatively usable condition so I've decided to share this information
with the community. </p>
<h2>Beaker is Running Our Test Lab</h2>
<p><a href="http://beaker-project.org/">Beaker</a> is the software suite that powers the test
lab infrastructure. It is quite complex, with many components and sometimes not
very straight-forward to set up. Tim has been working on that with me giving it
a try and reporting issues as they have been discovered and fixed. </p>
<p>In the process of working on this I've managed to create
<a href="http://gerrit.beaker-project.org/#/q/owner:%22Alexander+Todorov%22,n,z">couple of patches</a>
against Beaker and friends. They are still pending release in a future version
because of more urgent bug fixes which need to released first.</p>
<h2>SNAKE is The Kickstart Template Server</h2>
<p><a href="https://fedorahosted.org/snake/">SNAKE</a> is a client/server Python framework used
to support Anaconda installations. It supports plain text ks.cfg files, IIRC those
were static templates, no variable substitution.</p>
<p>The other possibility is Python templates based on Pykickstart:</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">pykickstart.constants</span> <span class="kn">import</span> <span class="n">KS_SCRIPT_POST</span>
<span class="kn">from</span> <span class="nn">pykickstart.parser</span> <span class="kn">import</span> <span class="n">Script</span>
<span class="kn">from</span> <span class="nn">installdefaults</span> <span class="kn">import</span> <span class="n">InstallKs</span>

<span class="k">def</span> <span class="nf">ks</span><span class="p">(</span><span class="o">**</span><span class="n">context</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Anaconda autopart&#39;&#39;&#39;</span>

    <span class="n">ks</span><span class="o">=</span><span class="n">InstallKs</span><span class="p">()</span>
    <span class="n">ks</span><span class="o">.</span><span class="n">packages</span><span class="o">.</span><span class="n">add</span><span class="p">([</span><span class="s">&#39;@base&#39;</span><span class="p">])</span>

    <span class="n">ks</span><span class="o">.</span><span class="n">clearpart</span><span class="p">(</span><span class="n">initAll</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">ks</span><span class="o">.</span><span class="n">autopart</span><span class="p">(</span><span class="n">autopart</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="n">script</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span>
<span class="s">cp /tmp/ks.cfg /mnt/sysimage/root/ks.cfg || </span><span class="se">\</span>
<span class="s">cp /run/install/ks.cfg /mnt/sysimage/root/ks.cfg</span>
<span class="s">&#39;&#39;&#39;</span>
    <span class="n">post</span> <span class="o">=</span> <span class="n">Script</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">KS_SCRIPT_POST</span><span class="p">,</span> <span class="n">inChroot</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">ks</span><span class="o">.</span><span class="n">scripts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">post</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ks</span>
</pre></div>


<p>At the moment SNAKE is essentially abandoned but feature complete.
I'm thinking about adopting the project just in case we need to make some fixes.
Will let you know more about this when it happens. </p>
<h2>Open Source Test Suite</h2>
<p>I have been working on opening up several test cases for what we (QE) call
a tier #1 installation test suite. They can be found in
<a href="http://taskbot.cloud.fedoraproject.org/cgit/fedora-beaker-tests/">git</a>.
The tests are base on <a href="https://fedorahosted.org/beakerlib/">beakerlib</a> and
the legacy RHTS framework which is now part of Beaker.</p>
<p>This effort has been coordinated with Kamil as part of a pilot
project he's responsible for. I've been executing the same test suite against
earlier Fedora 20 snapshots but using an internal environment. Now everything
is going out in the open.</p>
<h2>Executing The Tests</h2>
<p>Well you can't do that - YET! There are command line client tools for Fedora
but Beaker and SNAKE are not well suited for use outside a restricted network
like LAN or VPN. There are issues with authentication most notably for SNAKE.</p>
<p>At the moment I have to ssh through two different systems to get proper access.
However this is been worked on. I've read about a rewrite which will allow Beaker
to utilize a custom authentication framework like FAS for example. Hopefully that
will be implemented soon enough.</p>
<p>I will also like to see the test systems have direct access to the Internet for
various reasons but this is not without its risks either. This is still to be
decided.</p>
<p>If you are interested anyway see the <code>kick-tests.sh</code> file in the test suite for
examples and command line options.</p>
<h2>Test Results</h2>
<p>The first successfully completed
<a href="http://beaker.fedoraproject.org/bkr/jobs/">test jobs</a> are jobs 50 to 58.
There's a failure in one of the test cases, namely SELinux related 
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1027148">RHBZ #1027148</a>.</p>
<p>From what I can tell the lab is now working as expected and we can start doing
some testing against Fedora development snapshots.</p>
<p>Ping me or join #fedora-qa on irc.freenode.net if you'd like to join Fedora QA!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Tue 19 November 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/11/19/open-source-quality-assurance-infrastructure-for-fedora-qa/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/11/19/tip-cut-leading-or-trailing-fields-from-strings-in-bash/" rel="bookmark" title="Permalink to Tip: Cut Leading or Trailing Fields From Strings in Bash">
                <h2 class="post-title">
                    Tip: Cut Leading or Trailing Fields From Strings in Bash
                </h2>
            </a>
                <p>Today I was looking for a command sequence to cut a string in two by predefined
delimiter (e.g. like <code>cut</code> does). I wanted to get the last field only and all
fields but the last as separate variables.</p>
<p>The proposed solutions I've found suggested using <code>awk</code> but I don't like it.
Here's a simple solution using <code>cut</code> and <code>rev</code> which can extract arbitrary
field counts from the end of the string. </p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;buildvm-08.phx2.fedoraproject.org&#39;</span> <span class="p">|</span> rev <span class="p">|</span> cut -f1 -d. <span class="p">|</span> rev
org
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;buildvm-08.phx2.fedoraproject.org&#39;</span> <span class="p">|</span> rev <span class="p">|</span> cut -f-2 -d. <span class="p">|</span> rev
fedoraproject.org
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;buildvm-08.phx2.fedoraproject.org&#39;</span> <span class="p">|</span> rev <span class="p">|</span> cut -f-3 -d. <span class="p">|</span> rev
phx2.fedoraproject.org
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;buildvm-08.phx2.fedoraproject.org&#39;</span> <span class="p">|</span> rev <span class="p">|</span> cut -f2- -d. <span class="p">|</span> rev
buildvm-08.phx2.fedoraproject
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;buildvm-08.phx2.fedoraproject.org&#39;</span> <span class="p">|</span> rev <span class="p">|</span> cut -f3- -d. <span class="p">|</span> rev
buildvm-08.phx2
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;buildvm-08.phx2.fedoraproject.org&#39;</span> <span class="p">|</span> rev <span class="p">|</span> cut -f4- -d. <span class="p">|</span> rev
buildvm-08
</pre></div>


<p>The magic here is done by <code>rev</code> which reverses the order of characters in every
line. It comes with the <em>util-linux-ng</em> package.</p>
<p><strong>Note to Self:</strong> <em>util-linux-ng</em> appears to contain more useful commands which
I wasn't aware of. Need to RTFM a little bit.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Tue 19 November 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/11/19/tip-cut-leading-or-trailing-fields-from-strings-in-bash/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/11/13/keeping-backwards-compatibility-for-pykickstart/" rel="bookmark" title="Permalink to Keeping Backwards Compatibility for pykickstart">
                <h2 class="post-title">
                    Keeping Backwards Compatibility for pykickstart
                </h2>
            </a>
                <p>Consider the following scenario:</p>
<ul>
<li>I'm using <a href="https://fedorahosted.org/snake/">SNAKE</a> templates as part of my
installation testing work;</li>
<li>SNAKE has a dependency on pykickstart;</li>
<li>To test the latest and greatest kickstart features in Fedora we need the
latest version of pykickstart;</li>
<li>Latest pykickstart needs Python 2.7</li>
<li>Python 2.7 is not available on RHEL 6 which is used to host the test
infrastructure.</li>
</ul>
<p>Just yesterday I hit an issue with the above setup and figured Fedora QA is
in a kind of strange situation - we always need the latest but need it
conservative enough to run on RHEL 6. See the original thread at
<a href="https://www.redhat.com/archives/kickstart-list/2013-November/msg00001.html">kickstart-list</a>.</p>
<p>In this particular case the solution will be to remove the offending code
and implement the same functionality in backward-compatible manner. Also add
more tests. I will be working on this tomorrow (there's an older patch already).</p>
<p>The BIG question remains though - how do you manage software evolution and still
keep it compatible with older execution stacks? Please share your experience in
the comments section.</p>
<hr />
<p>PP: Spoiler - this is part of an ongoing effort to bring open source installation
testing expertise (my domain) into Fedora world, plus establish a community supported
test infrastructure. More info TBA soon.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Wed 13 November 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/11/13/keeping-backwards-compatibility-for-pykickstart/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/11/01/my-first-article-for-opensource-dot-com/" rel="bookmark" title="Permalink to My First Article for OpenSource.com">
                <h2 class="post-title">
                    My First Article for OpenSource.com
                </h2>
            </a>
                <p><img alt="&quot;Annoying bugs&quot;" src="/images/annoyingbugs.png" title="Annoying bugs" />
<em>image by opensource.com</em></p>
<p>Recently OpenSource.com published my first article
<a href="http://opensource.com/business/13/10/user-guide-bugs-open-source-projects">User guide for open source project bug submissions</a>
which was inspired by real events. </p>
<p>The comments at the bottom are very interesting. It looks like Fedora needs to
make some changes in the bug reporting process and tools. </p>
<p>I've started a
<a href="https://lists.fedoraproject.org/pipermail/test/2013-November/118607.html">discussion</a>
on Fedora QA mailing list about this. Follow the thread if you are interested in the
topic.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 01 November 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/11/01/my-first-article-for-opensource-dot-com/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/10/25/hackfmi-2013-hacker-gifts/" rel="bookmark" title="Permalink to HackFMI 2013 Hacker Gifts">
                <h2 class="post-title">
                    HackFMI 2013 Hacker Gifts
                </h2>
            </a>
                <p><a href="http://hackfmi.com">HackFMI</a> starts tonight!
<a href="/blog/2013/04/15/hackfmi-post-mortem/">During the previous edition</a> of the hackathon
I gave one team a special personal gift based on my estimation of their hacker level!
Thanks to <a href="http://blog.ganev.bg">Vihren Ganev</a> (one of the gift winners) for reminding
me about that!</p>
<p>This year I have even bigger items to give to those who think out of the box, who hack
their way around and are brave enough to try and change the world through software!
I have one 
<a href="http://www.amazon.com/gp/product/B001AWCS52/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B001AWCS52&linkCode=as2&tag=atodorovorg-20">Lenovo Thinkpad Business Backpack</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B001AWCS52" width="1" height="1" border="0"  style="border:none !important; margin:0px !important;" />
and one 
<a href="http://www.amazon.com/gp/product/B00004TX7H/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B00004TX7H&linkCode=as2&tag=atodorovorg-20">Lowepro D-Res 20 AW Digital Camera Bag</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B00004TX7H" width="1" height="1" border="0"  style="border:none !important; margin:0px !important;" />
(a bit bigger than the one on Amazon, easily fits a BlackBerry Z10) as seen on the pictures below.
Plus some small Red Hat branded items.</p>
<p><img alt="Lenovo bagpack" src="/images/hackfmi/lenovo_bagpack.jpg" title="Lenovo bagpack" />
<img alt="Lowepro case" src="/images/hackfmi/lowepro_case.jpg" title="Lowepro case" /></p>
<h2>How To Get The Gifts</h2>
<p>There are no rules, I will make a decision as I go along.
I can give away all items or none. It's up to you! Surprise me! </p>
<p>Tomorrow I will be mentoring the teams who decided to work with Django but
I'm happy to talk to anyone who needs help or just wants to grab the
cool stuff! See you there!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 25 October 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/10/25/hackfmi-2013-hacker-gifts/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/10/13/tip-extending-btrfs-filesystem-for-fedora-virtual-machine/" rel="bookmark" title="Permalink to Tip: Extending Btrfs Filesystem for Fedora Virtual Machine">
                <h2 class="post-title">
                    Tip: Extending Btrfs Filesystem for Fedora Virtual Machine
                </h2>
            </a>
                <p>I was testing Fedora 20 inside a KVM guest this week when the disk
space run out. The system was configured to use Btrfs filesystem and this is how
to extend it.</p>
<p>First you have to extend the underlying guest storage. On the host I'm using LVM
so this is a no brainer:</p>
<div class="highlight"><pre># pvs
  PV                                                    VG              Fmt  Attr PSize   PFree  
  /dev/mapper/luks-f3f6cea1-baba-4aaf-bca8-33a0ec540369 vg_redbull_mini lvm2 a--  289,11g 134,11g

# lvs
  LV            VG              Attr      LSize   Pool Origin Data%  Move Log Cpy%Sync Convert
  vm_fedora     vg_redbull_mini -wi-ao---  15,00g                                             

# lvextend -L +5G /dev/mapper/vg_redbull_mini-vm_fedora 
  Extending logical volume vm_fedora to 20,00 GiB
  Logical volume vm_fedora successfully resized

# lvs
  LV            VG              Attr      LSize   Pool Origin Data%  Move Log Cpy%Sync Convert
  vm_fedora     vg_redbull_mini -wi-ao---  20,00g                                             

# pvs
  PV                                                    VG              Fmt  Attr PSize   PFree  
  /dev/mapper/luks-f3f6cea1-baba-4aaf-bca8-33a0ec540369 vg_redbull_mini lvm2 a--  289,11g 129,11g
</pre></div>


<p>On the VM we have a default Btrfs layout:</p>
<div class="highlight"><pre># blkid
/dev/vda1: UUID=&quot;410ee563-e701-42ff-9d5f-5805dd103e35&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;0000330f-01&quot; 
/dev/vda2: UUID=&quot;f4addad4-a0fc-482e-ad5a-240864b76f09&quot; TYPE=&quot;swap&quot; PARTUUID=&quot;0000330f-02&quot; 
/dev/vda3: LABEL=&quot;fedora&quot; UUID=&quot;f0b589ce-061c-4ac3-826e-7f3f8c8a6d30&quot; UUID_SUB=&quot;11aa8414-3ce1-4fe7-a506-9a4f91ba5c30&quot; TYPE=&quot;btrfs&quot; PARTUUID=&quot;0000330f-03&quot; 

# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda3        13G   11G  1.4G  89% /
devtmpfs        996M     0  996M   0% /dev
tmpfs          1002M   80K 1002M   1% /dev/shm
tmpfs          1002M  668K 1002M   1% /run
tmpfs          1002M     0 1002M   0% /sys/fs/cgroup
tmpfs          1002M   16K 1002M   1% /tmp
/dev/vda3        13G   11G  1.4G  89% /home
/dev/vda1       477M   72M  376M  17% /boot
</pre></div>


<p>Now power-off (not reboot) and power-on the VM guest so that it sees the new size
of the underlying storage. See the fdisk header (line 9 below), vda is now 20GiB!</p>
<p>Before extending the filesystem you have to extend the underlying disk partition! This is the
trickiest part. Using fdisk or parted you have to delete the partition and add it again.
Make sure to use the <strong>SAME</strong> starting sector for the new partition (line 33)!</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># fdisk /dev/vda</span>

Welcome to fdisk <span class="o">(</span>util-linux 2.24-rc1<span class="o">)</span>.
Changes will remain in memory only, <span class="k">until</span> you decide to write them.
Be careful before using the write command.


Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
Disk /dev/vda: <span class="m">20</span> GiB, <span class="m">21474836480</span> bytes, <span class="m">41943040</span> sectors
Units: sectors of <span class="m">1</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">512</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk label <span class="nb">type</span>: dos
Disk identifier: 0x0000330f

Device    Boot     Start       End   Blocks  Id System
/dev/vda1 *         <span class="m">2048</span>   <span class="m">1026047</span>   <span class="m">512000</span>  <span class="m">83</span> Linux
/dev/vda2        <span class="m">1026048</span>   <span class="m">5253119</span>  <span class="m">2113536</span>  <span class="m">82</span> Linux swap / Solaris
/dev/vda3        <span class="m">5253120</span>  <span class="m">31457279</span> <span class="m">13102080</span>  <span class="m">83</span> Linux

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: d
Partition number <span class="o">(</span>1-3, default 3<span class="o">)</span>: 3

Partition <span class="m">3</span> is deleted

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n

Partition <span class="nb">type</span>:
   p   primary <span class="o">(</span><span class="m">2</span> primary, <span class="m">0</span> extended, <span class="m">2</span> free<span class="o">)</span>
   e   extended
Select <span class="o">(</span>default p<span class="o">)</span>: p
Partition number <span class="o">(</span>3,4, default 3<span class="o">)</span>: 3
First sector <span class="o">(</span>5253120-41943039, default 5253120<span class="o">)</span>: 
Last sector, +sectors or +size<span class="o">{</span>K,M,G,T,P<span class="o">}</span> <span class="o">(</span>5253120-41943039, default 41943039<span class="o">)</span>: 

Created a new partition <span class="m">3</span> of <span class="nb">type</span> <span class="s1">&#39;Linux&#39;</span> and of size 17,5 GiB.

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
Disk /dev/vda: <span class="m">20</span> GiB, <span class="m">21474836480</span> bytes, <span class="m">41943040</span> sectors
Units: sectors of <span class="m">1</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">512</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk label <span class="nb">type</span>: dos
Disk identifier: 0x0000330f

Device    Boot     Start       End   Blocks  Id System
/dev/vda1 *         <span class="m">2048</span>   <span class="m">1026047</span>   <span class="m">512000</span>  <span class="m">83</span> Linux
/dev/vda2        <span class="m">1026048</span>   <span class="m">5253119</span>  <span class="m">2113536</span>  <span class="m">82</span> Linux swap / Solaris
/dev/vda3        <span class="m">5253120</span>  <span class="m">41943039</span> <span class="m">18344960</span>  <span class="m">83</span> Linux

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: w

The partition table has been altered.
Calling ioctl<span class="o">()</span> to re-read partition table.
Re-reading the partition table failed.: Device or resource busy

The kernel still uses the old table. The new table will be used at the next reboot or after you run partprobe<span class="o">(</span>8<span class="o">)</span> or kpartx<span class="o">(</span>8<span class="o">)</span>.

<span class="c"># partprobe</span>
Error: Partition<span class="o">(</span>s<span class="o">)</span> <span class="m">3</span> on /dev/vda have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition<span class="o">(</span>s<span class="o">)</span> will remain in use.  You should reboot now before making further changes.

<span class="c"># reboot</span>
</pre></div>
</td></tr></table>

<p>See lines 36 and 49 above. The new partition has a greater size.
After reboot just resize the filesystem and verify the new space has been added</p>
<div class="highlight"><pre># btrfs filesystem resize max /
Resize &#39;/&#39; of &#39;max&#39;

# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda3        18G   11G  6.4G  63% /
devtmpfs        996M     0  996M   0% /dev
tmpfs          1002M   80K 1002M   1% /dev/shm
tmpfs          1002M  660K 1002M   1% /run
tmpfs          1002M     0 1002M   0% /sys/fs/cgroup
tmpfs          1002M   16K 1002M   1% /tmp
/dev/vda3        18G   11G  6.4G  63% /home
/dev/vda1       477M   72M  376M  17% /boot
</pre></div>


<p>This is it, more disk space available for the virtual machine. Let me know how it works
for you.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Sun 13 October 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/10/13/tip-extending-btrfs-filesystem-for-fedora-virtual-machine/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/10/12/tip-installing-missing-debuginfo-packages-for-abrt/" rel="bookmark" title="Permalink to Tip: Installing Missing debuginfo Packages for ABRT">
                <h2 class="post-title">
                    Tip: Installing Missing debuginfo Packages for ABRT
                </h2>
            </a>
                <p><img alt="&quot;Reporting disabled&quot;" src="/images/reporting_disabled.png" title="Reporting disabled" /></p>
<p>Every once in a while ABRT will tell you that reporting is disabled because
backtrace is unusable. What it means is that it can't read some of the debugging
symbols and the most likely reason for that is debuginfo packages are missing.</p>
<p>To install them first locate the directory containing the files for that particular
crash. Use the <code>executable</code> file to find out if you are looking into the correct
directory. Then use this one liner to install the missing debuginfo packages.</p>
<div class="highlight"><pre># pwd
/var/tmp/abrt/ccpp-2013-10-10-15:55:18-15533
# cat backtrace | grep lib | tr -s &#39; &#39; | cut -f4 -d&#39; &#39; | sort | uniq | grep &quot;/&quot; | xargs rpm -qf --qf &quot;%{name}\n&quot; | xargs debuginfo-install -y
</pre></div>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Sat 12 October 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/10/12/tip-installing-missing-debuginfo-packages-for-abrt/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/10/11/fedora-20-gnome-3-dot-10-test-day-post-mortem/" rel="bookmark" title="Permalink to Fedora 20 GNOME 3.10 Test Day Post-mortem">
                <h2 class="post-title">
                    Fedora 20 GNOME 3.10 Test Day Post-mortem
                </h2>
            </a>
                <p><img alt="&quot;Fedora sausage banner&quot;" src="/images/fedora/sausage-banner.png" title="Fedora sausage banner" /></p>
<p>Here is my summary of the second Fedora Test Day hosted at
<a href="http://initlab.org">init Lab</a> yesterday.</p>
<p>Local attendance was a total disaster, in fact I was testing once again by my own.
This time
there were more people in the lab, all busy with their daily routines and tasks.
There were no people who came for the testing :(. I will have to try different
venues in the future and see if the situation improves.</p>
<p>On the testing front I managed to score 5 bugs against
<a href="https://bugzilla.gnome.org/buglist.cgi?bug_id=709797,709799,709806,709810">GNOME</a>
and <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1017807">Fedora</a>.
You can see the other test results and bugs on the
<a href="https://fedoraproject.org/wiki/Test_Day:2013-10-10_Gnome_3.10">wiki</a>.</p>
<p>There are two things I didn't like in particular</p>
<ul>
<li>GNOME 3 as well as its classic mode - simply not the environment I'm used to;</li>
<li>Having to record test results in the wiki! I'm
<a href="https://lists.fedoraproject.org/pipermail/test/2013-October/118284.html">writing</a>
to the Fedora QA mailing list about that as we speak.</li>
</ul>
<p>At one time I was engaged in a discussion about which Bulgarian keyboard layout
should be the default in GNOME simply because of
<a href="https://bugzilla.gnome.org/show_bug.cgi?id=709799">GNOME #709799</a>. The default
keyboard layout will be Bulgarian (traditional phonetic) aka bg+phonetic.</p>
<div class="highlight"><pre>(16,13,26) rtcm: atodorov: are you bulgarian and/or live in bulgaria?
(16,14,20) rtcm: atodorov: if yes, I wanted to know which keyboard layout most people expect there to be the default
(16,16,34) atodorov: rtcm: I&#39;m a Bulgarian, however I can&#39;t tell which one. Both Phonetic and standard (BDS) are common
(16,16,54) atodorov: a safe bet is to go with phonetic I guess. 
(16,19,46) rtcm: atodorov: can you tell me which one is it in XKB terms? is it &quot;bg&quot;, &quot;bg+bas_phonetic&quot; or &quot;bg+phonetic&quot; ?
(16,20,51) rtcm: they&#39;re labeled as &quot;Bulgarian&quot;, &quot;Bulgarian (new phonetic)&quot; and &quot;Bulgarian (traditional phonetic)&quot;
(16,21,30) atodorov: bg+phonetic is the traditional phonetic
(16,22,04) atodorov: bg labeled as &quot;Bulgarian&quot; is the standard one I guess. Here we call it BDS after the standardization institute
(16,22,34) atodorov: bg+bas_phonetic is created from the Bulgarian Academy of Science and is not very popular as far as I know. I&#39;ve never seen it in use
(16,23,15) rtcm: atodorov: all I want to know is what most people would expect? like what does windows do by default? that&#39;s a good bet
(16,27,46) atodorov: rtcm: I&#39;m just being told that new Windows releases use yet another layout by default, which is like phonetic but with some characters in new places and people don&#39;t like that
(16,27,53) atodorov: my safe bet goes to bg+phonetic
(16,29,05) rtcm: ok, thanks
</pre></div>


<p>It is a rare occasion when you get to make a decision that affects a large group
of people and I hope you don't hate me for that! </p>
<p>Do you want to see more Fedora Test Days happening in Sofia? Join me and I will
organize some more!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 11 October 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/10/11/fedora-20-gnome-3-dot-10-test-day-post-mortem/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/10/11/this-week-python-chris-dibona-openshift/" rel="bookmark" title="Permalink to This Week: Python Testing, Chris DiBona on Open Source and OpenShift ENV Variables">
                <h2 class="post-title">
                    This Week: Python Testing, Chris DiBona on Open Source and OpenShift ENV Variables
                </h2>
            </a>
                <p>Here is a random collection of links I came across this week which
appear interesting to me but I don't have time to blog about in details.</p>
<h2>Making a Multi-branch Test Server for Python Apps</h2>
<p>If you are wondering how to test different feature branches of your Python
application but don't have the resources to create separate test servers this
is for you: 
<a href="http://depressedoptimism.com/blog/2013/10/8/making-a-multi-branch-test-server">http://depressedoptimism.com/blog/2013/10/8/making-a-multi-branch-test-server</a>!</p>
<p><em>Kudos to the python-django-bulgaria Google group for finding this link!</em></p>
<h2>OpenSource.com Interview with Chris DiBona</h2>
<p>Just read it at
<a href="http://opensource.com/business/13/10/interview-chris-dibona">http://opensource.com/business/13/10/interview-chris-dibona</a>.</p>
<p>I particularly like the part where he called open source "brutal".</p>
<blockquote>
<p>You once called open source “brutal”. What did you mean by that?</p>
<p>...</p>
<p>I think that it is because open source projects are able to only work with the
productive people and ignore everyone else. That behavior can come across as
very harsh or exclusionary, and that's because it is that: brutally harsh and
exclusionary of anyone who isn't contributing.</p>
<p>...</p>
<p>So, I guess what I'm saying is that survival of the fittest as practiced in the
open source world is a pretty brutal mechanism, but it works very very well for
producing quality software. Boy is it hard on newcomers though...</p>
</blockquote>
<h2>OpenShift Finally Introduces Environment Variables</h2>
<p>Yes! Finally! </p>
<div class="highlight"><pre>    rhc set-env VARIABLE1=VALUE1 -a myapp
</pre></div>


<p>No need for 
<a href="/blog/2013/07/08/tip-setting-secure-env-variables-on-red-hat-openshift/">my work around</a>
anymore! I will give the new feature a go very soon. </p>
<p>Read more about it at the OpenShift blog:
<a href="https://www.openshift.com/blogs/taking-advantage-of-environment-variables-in-openshift-php-apps">https://www.openshift.com/blogs/taking-advantage-of-environment-variables-in-openshift-php-apps</a>.</p>
<p>Have you found anything interesting this week? Please share in the comments below! Thanks!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 11 October 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/10/11/this-week-python-chris-dibona-openshift/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/10/08/fedora-20-virtualization-test-day-post-mortem/" rel="bookmark" title="Permalink to Fedora 20 Virtualization Test Day Post-mortem">
                <h2 class="post-title">
                    Fedora 20 Virtualization Test Day Post-mortem
                </h2>
            </a>
                <p><img alt="&quot;Fedora 20 banner&quot;" src="/images/fedora/fedora20-banner.png" title="Fedora 20 banner" /></p>
<p>Here is a quick summary of the first Fedora Test Day in Sofia I hosted at
<a href="http://initlab.org">init Lab</a> today.</p>
<p>Attendance was quite poor, actually nobody else except me participated but
almost nobody else visited the hackespace as well. I get that it is a
working day and Test Days conflict with regular business hours but this
is not going to change anyway. On the other hand where were all the freelancers
and non-office job workers who usually hang around in the Lab? I have no idea!</p>
<p>On IRC there was much better activity, 5 or 6 people were testing across
Asia, Europe and USA time zones. You can see the test results
<a href="http://209.132.184.192/testdays/show_event?event_id=7">here</a>.
I've started filing quite a few bugs in the morning and continued well into the
afternoon. I've managed to file a total of
<a href="https://bugzilla.redhat.com/buglist.cgi?bug_id=1016435,1016449,1016488,1016530,1016604,1016613,1016648,1016663,1016704,1016715">10 bugs</a>.
Some of them were not related to virtualization and some of them turned out to be
duplicates or not a bug. I even managed to file 2 duplicate bugs which likely have the
same root cause myself :). </p>
<p>I've also experienced two bugs filed by other people:
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=967371">RHBZ #967371</a> for MATE desktop
and <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1015636">RHBZ #1015636</a> for
virt-manager's Save/Restore functionality.</p>
<p>I've tried ARM on x86_64 but that didn't get anywhere near a running system.
I will make another post about ARM and what I've discovered there.</p>
<p>The one thing I liked is the 
<a href="http://209.132.184.192/testdays/show_event?event_id=7">test results application</a>.
It is not what I'm used to when dealing with RHEL, has far less features but is
very fast and easy to use and suits the Test Days participants just fine.
And is definitely much easier to use compared to filing results in the wiki.</p>
<p>Overall Fedora 20 virtualization status according to me is pretty good.</p>
<p>I hope to see more attendance <a href="http://initlab.org/event/gnome-test-day">on Thursday</a>
when we're going to test GNOME 3.10.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Tue 08 October 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/10/08/fedora-20-virtualization-test-day-post-mortem/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/10/07/fedora-20-virtualization-and-gnome-test-days-at-init-lab-this-week/" rel="bookmark" title="Permalink to Fedora 20 Virtualization & GNOME Test Days at init Lab this week">
                <h2 class="post-title">
                    Fedora 20 Virtualization &amp; GNOME Test Days at init Lab this week
                </h2>
            </a>
                <p>Fedora 20 Virtualization and GNOME test days will be tomorrow (8th Oct) and on
Thursday (10th Oct)! Local community in Sofia will gather at
<a href="http://initlab.org">init Lab</a>! We start at 10:00 and everybody is welcome.</p>
<p>If you have no idea what I'm talking about check my
<a href="/blog/categories/fedora/">previous posts</a> and the announcement at init Lab's website:</p>
<ul>
<li><a href="http://initlab.org/event/testing-fedora-20-virtualization-test-day">http://initlab.org/event/testing-fedora-20-virtualization-test-day</a></li>
<li><a href="http://initlab.org/event/gnome-test-day">http://initlab.org/event/gnome-test-day</a></li>
</ul>
<p>See you there!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Mon 07 October 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/10/07/fedora-20-virtualization-and-gnome-test-days-at-init-lab-this-week/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/09/23/facebook-ui-bug-strikes-again-at-hackfmi/" rel="bookmark" title="Permalink to Facebook UI Bug Strikes Again at HackFMI">
                <h2 class="post-title">
                    Facebook UI Bug Strikes Again at HackFMI
                </h2>
            </a>
                <p>Does this look familiar to you ? </p>
<p><img alt="&quot;HackFMI UI bug&quot;" src="/images/hackfmi_facebook_bug.png" title="HackFMI UI bug" /></p>
<p>No? See 
<a href="/blog/2013/06/02/sofiavalley-ui-bug/">SofiaValley</a> and 
<a href="/blog/2013/07/31/ui-bug-for-opensource-dot-com/">opensource.com</a>.</p>
<p>Either this is a very common front-end mistake (I would blame CSS) or
Facebook have screwed up their buttons.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Mon 23 September 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/09/23/facebook-ui-bug-strikes-again-at-hackfmi/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/09/23/fedora-test-days-are-coming-to-sofia/" rel="bookmark" title="Permalink to Fedora Test Days are Coming to Sofia">
                <h2 class="post-title">
                    Fedora Test Days are Coming to Sofia
                </h2>
            </a>
                <p>As I <a href="/blog/2013/09/14/upcoming-talk-fedora-test-days-in-sofia/">mentioned earlier</a>
I will organize some Fedora testing in Sofia. Here's an outline of my talk this
Saturday and a general guide for anyone who wants to participate.</p>
<h2>What are Fedora Test Days</h2>
<p>Fedora Test Days are day long events focused on testing a particular feature
in the upcoming Fedora release. At the time of writing they are focused on
Fedora 20.</p>
<h2>What You Need Before Joining Fedora</h2>
<ul>
<li>A <a href="https://bugzilla.redhat.com/createaccount.cgi">bugzilla.redhat.com</a> account;</li>
<li>A <a href="https://admin.fedoraproject.org/accounts/user/new">Fedora account</a>. Please
complete the <a href="https://fedoraproject.org/wiki/Join">onboarding process</a> in advance
as it takes time;</li>
<li>Create a wiki page for your profile. Mine is 
<a href="https://fedoraproject.org/wiki/User:Atodorov">here</a>. This will verify you can
edit the wiki;</li>
<li>Know how to use IRC. There is a web chat client at <a href="https://webchat.freenode.net/">https://webchat.freenode.net/</a>.</li>
</ul>
<h2>What You Need Before The Test Day</h2>
<ul>
<li>Know how to properly
<a href="https://fedoraproject.org/wiki/Bugs_and_feature_requests">report a bug</a>;</li>
<li>Installation ISO (DVD) or Live CD depending on what you want to test;</li>
<li>Nightly LiveCD ISOs can be found
<a href="http://alt.fedoraproject.org/pub/alt/nightly-composes/">here</a>;</li>
<li>Another alternative is official
<a href="http://dl.fedoraproject.org/pub/alt/stage/">test compose</a> (TC) images or
yum update to the latest release;</li>
<li>Extra hardware or a virtual machine for testing.</li>
</ul>
<h2>What You Need On The Test Day</h2>
<ul>
<li>Join the #fedora-test-day IRC channel on freenode.net;</li>
<li>Have the <a href="https://fedoraproject.org/wiki/Test_Day:Current">current test day</a>
wiki page handy;</li>
<li>Execute some test cases and file bugs;</li>
<li>Report your test results on the wiki;</li>
</ul>
<p>Time and place for two test days will be announced at the end of the week
and earlier next week so stay tuned!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Mon 23 September 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/09/23/fedora-test-days-are-coming-to-sofia/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/09/15/lenovo-rants-battery-and-dock-flaws/" rel="bookmark" title="Permalink to Lenovo Rants: Battery and Dock Flaws">
                <h2 class="post-title">
                    Lenovo Rants: Battery and Dock Flaws
                </h2>
            </a>
                <p>To all my readers - sorry for not being able to blog more frequently lately.
Here's an easy read about my favourite laptop brand Lenovo and some of their
design flaws I've found.</p>
<h2>X220 and T60 Batterries are ALMOST Identical</h2>
<p><img alt="&quot;X220 and T60 batteries&quot;" src="/images/lenovo_x220_t60_battery.jpg" title="X220 and T60 batteries" /></p>
<p>As you can see the <a href="http://amzn.to/12y5hwp">X220</a> and 
<a href="http://amzn.to/183SgiR">T60</a> batteries are nearly identical with the notable
exception of the connector placement. The end result - I have to purchase yet another
battery as a backup for long travel/work on the go. Not what I want.</p>
<p>I wish all Lenovo models had the same batteries so people can swap them around
as they wish. Is this too much to ask for? Have you seen another brand which
got this right? </p>
<h2>ThinkPad Mini Dock Design Flaw</h2>
<p>I'm using a <a href="http://amzn.to/15tjUYi">ThinkPad Mini Dock Series 3</a> docking station
with my X220 laptop. Being a QA engineer for so long I immediately
noticed something that wasn't quite right. The buttons on the left and the mechanism
next to them are blocking the hot air exhaust from the CPU fan. This model of docking
station is made to fit several models of laptops and those which dock in position 2 are
less affected from those which dock in possition 1. Mine was not a lucky one.</p>
<p><img alt="docking station in position 2" src="/images/dock/alone.jpg" title="docking station in position 2" /></p>
<p>On the pictures below it is clearly visible that most of the hot air coming out of the CPU
fan is blocked.</p>
<p><img alt="top view" src="/images/dock/top.jpg" title="top view" />
<img alt="back view" src="/images/dock/back.jpg" title="back view" />
<img alt="side view" src="/images/dock/side.jpg" title="side view" /></p>
<p>In order to reduce laptop heating and provide better cooling I decided to remove the
1/2 position switch mechanism. To do that you have to unscrew all screws from the docking
station and carefully split the top and bottom halves. The offending piece of plastic is
screwed with two tiny screws at the bottom. Once they are removed everything comes off.</p>
<p><img alt="blocking part removed" src="/images/dock/removed.jpg" title="blocking part removed" /></p>
<p>Even with this piece removed my laptop still hets up too much! I guess 80 C is just
normal for the Core i7 processors :(.</p>
<p>Have you found something not quite right in your hardware design? Please share in the
comments.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Sun 15 September 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/09/15/lenovo-rants-battery-and-dock-flaws/#disqus_thread">comments</a>.</p>        </div>

    <hr>
    <!-- Pager -->
    <ul class="pager">
        <li class="next">
                <a href="http://atodorov.org/category/_posts6.html">Newest Posts &rarr;</a>
                <a href="http://atodorov.org/category/_posts8.html">Older Posts &rarr;</a>
        </li>
    </ul>
    Page 7 / 12
    <hr>
            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="https://twitter.com/atodorov_">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/atodorov">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://bg.linkedin.com/in/alextodorov">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="http://feeds.feedburner.com/atodorov">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<section>
    <p>
        I am a QA contractor at Red Hat responsible for finding over
        <a href="/blog/2014/02/19/7-years-1400-bugs-red-hat-qa/">1600 bugs</a>,
        a general purpose open source developer, Red Hat Certified professional,
        cloud hacker and an entrepreneur! My latest start-up is
        <a href="http://mrsenko.com/?utm_source=atodorov.org&utm_medium=blog&utm_campaign=footer">Mr. Senko</a>!
    </p>
    <p>
        I am living in the <a href="http://planet.sofiavalley.com">Sofia Valley</a>
        which is emerging as a busy place for start-up founders and tech enthusiasts
        in Eastern Europe! You can find more about me <a href="/blog/2013/01/25/about-me/">here</a>.
    </p>
    <p>
        <small>
            <em>
                Some of the links contained within this site have my referral id (e.g.,
                <a target="_blank" href="http://www.amazon.com/ref=as_li_ss_tl?_encoding=UTF8&camp=1789&creative=390957&linkCode=ur2&tag=atodorovorg-20&linkId=L6Q34XAXQS5RDMOY">Amazon</a><img src="https://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />),
                which provides me with a small commission for each sale. Thank you for your support.
            </em>
        </small>
    </p>
</section>

<form action="http://google.com/search" method="get" style="width:300px;margin:0 auto;">
    <fieldset role="search">
        <input type="hidden" name="sitesearch" value="http://atodorov.org" />
        <input class="search" type="text" name="q" placeholder="Search" style="width:100%"/>
    </fieldset>
</form>

<p class="copyright text-muted">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">CC-BY-SA</a> &amp;
    <a rel="license" href="http://opensource.org/licenses/MIT">MIT</a>
    2011-2016 &diams; Alexander Todorov &diams;
    <a href="http://planet.sofiavalley.com">SofiaValley Blog</a>
</p>                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="http://atodorov.org/theme/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="http://atodorov.org/theme/js/bootstrap.min.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37979549-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'atodorov';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>

</html>