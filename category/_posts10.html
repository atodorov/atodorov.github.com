<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

            <meta name="google-site-verification" content="XynqZtldWNBbmsynVQZremIxaaO8Wgs6AGR8UZ7KIkM">

        <title>atodorov.org - Articles in the _posts category</title>

        <link href="http://feeds.feedburner.com/atodorov" type="application/atom+xml" rel="alternate" title="atodorov.org Full Atom Feed" />
        <!-- Bootstrap Core CSS -->
        <link href="http://atodorov.org/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="http://atodorov.org/theme/css/clean-blog.min.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="http://atodorov.org/theme/css/code_blocks/github.css" rel="stylesheet">

            <!-- CSS specified by the user -->
            <link href="http://atodorov.org/override.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

                <meta property="fb:admins" content="1616937247" >
                <meta property="og:locale" content="en_US">
		<meta property="og:site_name" content="atodorov.org">
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:site" content="@atodorov_">
            <meta name="twitter:title" content="atodorov.org">
            <meta name="twitter:description" content="you can logoff, but you can never leave">
                <meta name="twitter:image" content="http://atodorov.org//images/header_02.jpg">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://atodorov.org/">atodorov.org</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                        <li><a href="http://mrsenko.com/?utm_source=atodorov.org&utm_medium=blog&utm_campaign=menu">Mr. Senko</a></li>

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('/images/header_02.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Articles in the _posts category</h1>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/06/19/tip-caching-large-objects-for-celery-and-amazon-sqs/" rel="bookmark" title="Permalink to Tip: Caching Large Objects for Celery and Amazon SQS">
                <h2 class="post-title">
                    Tip: Caching Large Objects for Celery and Amazon SQS
                </h2>
            </a>
                <p>Some time ago a guy called Matt
<a href="https://groups.google.com/forum/?fromgroups=#!topic/celery-users/RFAuGjZwtmg">asked</a>
about passing large objects through their messaging queue. They were switching from
RabbitMQ to Amazon SQS which has a limit of 64K total message size.</p>
<p>Recently I've made some changes in <a href="http://www.dif.io">Difio</a> which require passing
larger objects as parameters to a Celery task. Since Difio is also using SQS I faced the
same problem. Here is the solution using a cache back-end: </p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">celery.task</span> <span class="kn">import</span> <span class="n">task</span>
<span class="kn">from</span> <span class="nn">django.core</span> <span class="kn">import</span> <span class="n">cache</span> <span class="k">as</span> <span class="n">cache_module</span>

<span class="k">def</span> <span class="nf">some_method</span><span class="p">():</span>
    <span class="o">...</span> <span class="n">skip</span> <span class="o">...</span>

    <span class="n">task_cache</span> <span class="o">=</span> <span class="n">cache_module</span><span class="o">.</span><span class="n">get_cache</span><span class="p">(</span><span class="s">&#39;taskq&#39;</span><span class="p">)</span>
    <span class="n">task_cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">uuid</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="mi">3600</span><span class="p">)</span>

    <span class="n">handle_data</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span>

    <span class="o">...</span> <span class="n">skip</span> <span class="o">...</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">handle_data</span><span class="p">(</span><span class="n">uuid</span><span class="p">):</span>
    <span class="n">task_cache</span> <span class="o">=</span> <span class="n">cache_module</span><span class="o">.</span><span class="n">get_cache</span><span class="p">(</span><span class="s">&#39;taskq&#39;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">task_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="o">...</span> <span class="n">do</span> <span class="n">stuff</span> <span class="o">...</span>
</pre></div>


<p>Objects are persisted in a secondary cache back-end, not the default one, to avoid
accidental destruction. <code>uuid</code> parameter is a string.</p>
<p>Although the objects passed are smaller than 64K I haven't seen any issues
with this solution so far. Let me know if you are using something similar in your code
and how it works for you. </p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Wed 19 June 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/06/19/tip-caching-large-objects-for-celery-and-amazon-sqs/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/06/19/django-tips-using-cache-for-stateful-http/" rel="bookmark" title="Permalink to Django Tips: Using Cache for Stateful HTTP">
                <h2 class="post-title">
                    Django Tips: Using Cache for Stateful HTTP
                </h2>
            </a>
                <p>How do you keep state when working with a stateless protocol like HTTP? 
One possible answer is to use a cache back-end. </p>
<p>I'm working on an IVR application demo with Django and Twilio. The caller
will make multiple choices using the phone keyboard. All of this needs to be
put together and sent back to another server for processing. In my views
I've added a simple cache get/set lines to preserve the selection.</p>
<p>Here's how it looks with actual application logic omitted</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">incoming_call</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">call_sid</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;CallSid&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
    <span class="n">caller_id</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;From&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

    <span class="n">state</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;from&#39;</span> <span class="p">:</span> <span class="n">caller_id</span><span class="p">}</span>
    <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">call_sid</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">&#39;step2.xml&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">step2</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">call_sid</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;CallSid&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
    <span class="n">selection</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Digits&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

    <span class="n">state</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">call_sid</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">state</span><span class="p">[</span><span class="s">&#39;step2_selection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">selection</span>
    <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">call_sid</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">&#39;final_step.xml&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">final_step</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">call_sid</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;CallSid&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
    <span class="n">selection</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Digits&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

    <span class="n">state</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">call_sid</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">state</span><span class="p">[</span><span class="s">&#39;final_step_selection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">selection</span>

    <span class="n">Backend</span><span class="o">.</span><span class="n">process_user_selections</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">&#39;thank_you.xml&#39;</span><span class="p">)</span>
</pre></div>


<p>At each step Django will update the current state associated with this call and return
a <a href="https://www.twilio.com/docs/api/twiml">TwiML</a> XML response. <code>CallSid</code> is a handy unique
identifier provided by Twilio.</p>
<p>I am using the latest <a href="http://github.com/atodorov/django-s3-cache">django-s3-cache</a> version
which properly works with directories. When going to production that will likely switch to
Amazon ElastiCache.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Wed 19 June 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/06/19/django-tips-using-cache-for-stateful-http/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/06/18/nibbler-w3c-validator-on-steroids/" rel="bookmark" title="Permalink to Nibbler - W3C Validator on Steroids">
                <h2 class="post-title">
                    Nibbler - W3C Validator on Steroids
                </h2>
            </a>
                <p>I've recently found Nibbler which gives you a report scoring the website out of
10 for various important criteria including accessibility, SEO, social media
and technology.</p>
<p>The produced report is very interesting. Here is the
<a href="http://nibbler.silktide.com/reports/atodorov.org">report for this blog</a>. 
There are things I definitely need to work on!</p>
<p>For comparison <a href="http://nibbler.silktide.com/reports/sofiavalley.com">SofiaValley</a>
scores far beyond this blog. It is stronger in marketing and popularity but
apparently weaker on the technology section. This is interesting!</p>
<p>PS: sorry for not producing technical content lately. I've been very busy
with some current projects however I've got lots of ideas and topics to blog about. 
I hope to make it up to speed in the next few weeks. -- Alex</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Tue 18 June 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/06/18/nibbler-w3c-validator-on-steroids/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/06/14/personal-experience-with-credit-card-fraud-pt2/" rel="bookmark" title="Permalink to Personal Experience With Credit Card Fraud, Part 2">
                <h2 class="post-title">
                    Personal Experience With Credit Card Fraud, Part 2
                </h2>
            </a>
                <p>Earlier I wrote about my
<a href="/blog/2013/04/26/personal-experience-with-credit-card-fraud/">personal experience with credit card fraud</a>.
Now this issue is back again! Bad luck!</p>
<p><img src="/images/creditcard.jpg" alt="Credit Card Of The Future" style="display:block;clear:both;"/>
Image CC-BY, <a href="http://www.flickr.com/photos/scobleizer/5451075743/in/photostream/">Robert Scoble</a></p>
<p>Since my last card was re-issued I've used it <strong>only</strong> at Amazon Web Services, Google Apps and Globul. Nowhere else.
According to the bank representative, who woke me up this morning,
VISA has sent them a list of card numbers which need to be blocked immediately. The bank was vague about
it but briefly mentioned some kind of a leak of VISA's card database.</p>
<p>Knowing how negligent payment operators can be I can easily accept this version. I'm wondering if there
will be an official press release from VISA. Let me know if you hear about this!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 14 June 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/06/14/personal-experience-with-credit-card-fraud-pt2/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/06/09/another-day-at-the-office/" rel="bookmark" title="Permalink to Another Day At The Office">
                <h2 class="post-title">
                    Another Day At The Office
                </h2>
            </a>
                <p>I just found <a href="http://officesnapshots.com/">Office Snapshots</a> and they don't have
any submissions from Bulgarian companies. No coincidence given the fact that many Bulgarian
offices are years behind contemporary work space design and architecture.</p>
<p><img src="/images/troopers_skyscraper.jpg" alt="Troopers atop a Skyscraper" />
Image by <a href="http://www.flickr.com/photos/egerbver/6196391731/lightbox/">egerbver</a></p>
<p>So I got an idea - 
start my own blog section on this topic. It would be interesting to see the spaces
Bulgarian IT operates in. If the place is good - embrace it, if it sucks - despise it!
What do you think?  </p>
<p>Selection rules are as follow: </p>
<ul>
<li>Needs to be local Bulgarian company or a local branch of a foreign company;</li>
<li>Can also be a start-up, an NGO or other organization;</li>
<li>Business is in the field of IT and technology; Co-working spaces are exception;</li>
</ul>
<p>Let me know which companies you want to see featured here! Can you arrange a visit for me - let me know!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Sun 09 June 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/06/09/another-day-at-the-office/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/06/07/software-developer-employee-vs-contractor-part-1/" rel="bookmark" title="Permalink to Software Developer - Employee vs. Contractor, Part 1">
                <h2 class="post-title">
                    Software Developer - Employee vs. Contractor, Part 1
                </h2>
            </a>
                <p><img src="/images/goldrush.jpg" alt="Gold prospectors" style="clear:both;display:block;"/>
Image from <a href="http://www.flickr.com/photos/powerhouse_museum/2376051109/sizes/o/in/photostream/">Flickr</a>.</p>
<p>People tend to think I have a dream job, when I tell them I don't go to the office. 
I will tell you a story about working from home, being a remotee and not having a
regular job. Welcome to the world of contracting and freelancing!</p>
<h2>Terminology</h2>
<p>Definitions taken from Wikipedia:</p>
<p>An <strong>employee</strong> contributes labor and expertise to an endeavor of an employer and is usually hired 
to perform specific duties which are packaged into a job. In most modern economies, the term 
"employee" refers to a specific defined relationship between an individual and a corporation, 
which differs from those of customer or client.</p>
<p>An <strong>independent contractor</strong> is a natural person, business, or corporation that provides goods
or services to another entity under terms specified in a contract or within a verbal agreement.</p>
<p>A <strong>freelancer</strong> is somebody who is self-employed and is not committed to a particular employer long term.
For the purpose of this article this is more or less the same as independent contractor but for
a short-term project.</p>
<p>Most important of all is that a contractor or freelancer is a separate entity from the organization they work for.</p>
<h2>How I became a contractor</h2>
<p>5+ years ago I was an employee for Red Hat in Czech Republic, but didn't want to
permanently live there for many reasons. During my time abroad I was a frequent
traveler. I became comfortable working on the go and quite often my bosses didn't
know where I was. Most importantly I made sure that location didn't matter!</p>
<p>After 1.5 years I left the company with an option to continue working for
Red Hat Switzerland as a contractor. This is how I started working from home.</p>
<h2>The dark side</h2>
<p>Many people think working from home is easy. Many think being a contractor
is better than being an employee. Many think being away from the office means
you will work less. Many think you will make more money. <strong>Most people are wrong!</strong> </p>
<p>I will highlight the bad side of
being a contractor before exposing you to the goodies. Read the next parts before
even thinking to quit your job.</p>
<h2>Payment</h2>
<p>Contracting or freelancing is much more different than having a regular job.
If you are lucky you will have a long-term project and have a somewhat regular
income. On the other hand freelancing is usually the term used when working on
smaller short-term projects. They are irregular, so is your income. </p>
<p>You need to plan in advance your expenses and make sure your income will cover them.
This is a lot easier with long-term projects. </p>
<p>Also have in mind that contracts and projects can be delayed, terminated and postponed
relatively easy on behalf of the customer and there isn't much you can do. At best they have
already paid you for the job done until now and you are out looking for the next customer.</p>
<p>Longer-term contracts I've been working on had the option to terminate without any explanation
given in two to four weeks. This is a risk you have to accept and have a contingency plan
if your income depends on a single long-term project.</p>
<p>You either get paid by the hour or a lump sum on predefined milestone (e.g. half before, half after delivery).
Either way you trade time for money which isn't optimal (same thing do employees btw).
The best thing you can do is become an expert in your field and begin consulting.
This is trading less time plus expertise for more money - much better.</p>
<p>I've been doing QA consulting for other smaller clients as odd jobs since forever.
Some of the companies include <a href="http://obecto.com">Obecto</a> and
<a href="http://opencode.com">Opencode Systems</a>. I also consult start-ups in the
field of software testing and quality assurance.</p>
<p><strong>UPDATE:</strong> at the end of 2015 I've been engaged more frequently with the
engineering team at <a href="http://tradeo.com">Tradeo</a>, bringing them my QA expertise.</p>
<h2>Employee benefits</h2>
<p>Employees do get a lot of benefits:</p>
<ul>
<li>Christmas bonus</li>
<li>Quarterly bonus if the company is doing well</li>
<li>Performance oriented bonuses</li>
<li>25 days of paid vacation which increase the longer you work</li>
<li>Extra health care</li>
<li>Unemployment insurance, social securities, etc.</li>
<li>Gym or other sport activities in the office</li>
<li>Lunch or some snacks at the office</li>
<li>Free car/cell phone/laptop, whatever</li>
</ul>
<p>The bigger and more people oriented the company the more the benefits.</p>
<p><strong>Contractors get nothing!</strong> Your contract payment is the only thing you get.</p>
<ul>
<li>If you want a vacation - you don't get paid!</li>
<li>If you are sick - you don't get paid!</li>
<li>If you need equipment - you have to buy it!</li>
</ul>
<p>Get used to it and plan accordingly! That said I do use company sponsored
<a class="wikilink" href="http://amzn.to/1RdviyD">MacBook Air</a> and have a small budget for visiting some conferences
abroad. In addition I attend lot more <a href="/blog/category/events/">events</a>
on my own either by helping as volunteer or being a speaker at the event.
I also have a personal unemployment and extra health care insurance, in fact
several of them, just in case!</p>
<h2>Taxes</h2>
<p>In every country dealing with tax authorities is a hell. If you are a sole proprietor in
Bulgaria chances are you will pay more taxes and social securities compared to being a
company for the same revenue. If you can, always incorporate a company and contract through it.
As of late <strong>all</strong> of my income goes through the company entity, I don't receive
a single cent on my personal account. At the end of the year I pay myself a divident
and use the money during the next year.</p>
<p>Find a good accountant (as much as you can afford though) and make sure they know everything
about your income and activities. It's always better to hire an accounting company which
can grant you some protection and liability against prosecution from tax authorities - for example
if they get their calculation wrong. The extent of this should be written in a contract. </p>
<p>If necessary also hire a lawyer. If you deal with lots of paperwork and contracts (or NDAs)
this is definitely a wise thing to do. Don't spare your money, spare yourself going to jail.</p>
<h2>Work environment</h2>
<p>Working from your bedroom sounds cool but it isn't. You need a quiet and comfortable
place to work. Every-day house distractions are your worst enemy. You need much greater
discipline compared to working in an office. </p>
<p>My own work environment has evolved to having the best 
<a target="_blank" href="http://www.amazon.com/s/?_encoding=UTF8&camp=1789&creative=390957&field-keywords=computer%20chairs&linkCode=ur2&sprefix=computer%20chairs%2Caps%2C318&tag=atodorovorg-20&url=search-alias%3Doffice-products">office chair</a><img src="https://www.assoc-amazon.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0"  style="border:none !important; margin:0px !important;" />
from Sweden, custom designed furniture to make my life easier
and access stuff more quickly, maximum usage of storage space at home,
SOHO network designed by myself so that every device has its place and plug,
backup Internet connections, etc. <strong>You need to invest in your work space to reap the benefits later</strong>.</p>
<p>I also follow a strict regime and have some fixed hours for work and no-work related activities.
I split them between regular 9-5 business hours and evening/early morning to have more
flexibility. Whatever the case you have to plan your activities and stick to your plan.</p>
<p>In the office there's always time for a coffee or some chit-chat.
At home there is not. Every hour counts to your bonus so it is in your interest to log
as many hours as possible and perform actual work during them. There are some freelance websites
such as oDesk (which sucks btw) that require you to install software to monitor your screen,
camera and keyboard in order the customer to see you were actually working. </p>
<p>Beware that there are physical limits which you can't break without putting your health
at risk. I've tried working 200+ hours a month. It is doable once or twice a year when you
have lot of things to do. But you can't do it all the time. I've tried, trust me.</p>
<p>Another important thing is the social element. Being out of the office minimizes the opportunities
to socialize with co-workers or simply ask for help. A contractor needs some other way to
compensate for this - being part of special interest groups, attending events and the like. </p>
<h2>No customers risk</h2>
<p>As with every business there is a risk of not having the right customers or not having them
at all. There are several things you can do to minimize this risk:</p>
<ul>
<li>Be an expert in at least one field - this is your primary focus; For example: 
I'm an expert in Quality Engineering and Red Hat Enterprise Linux;</li>
<li>Become very good professional in few more fields - mine are cloud computing,
Python and Django and general open source programming;</li>
<li>Grow your network of friends, co-workers, IT professionals and possible customers -
you never know where the next customer will come from;</li>
<li>Stay current with popular technologies (no need to be expert) so you can learn quickly if
the need arises;</li>
<li>Have some backup skills where there isn't much competition and customers will have a hard time
finding the right guy. Also make sure you know where to find these customers. My skill is
Pascal - its an old language but there are lots of legacy software which still needs to be
maintained. Did you know you can even run COBOL in the cloud these days? </li>
</ul>
<p>Diversify and be flexible - you have the opportunity to generate income from
various sources - use it. I will tell you about mine in the next part of this article.</p>
<p><strong>UPDATE:</strong>
I also strongly recommend the
<a rel="nofollow" href="http://www.amazon.com/gp/product/0307465357/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=0307465357&linkCode=as2&tag=atodorovorg-20&linkId=KOFI4CUL5C4ZM5Y2">The 4-Hour Workweek: Escape 9-5, Live Anywhere, and Join the New Rich</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=0307465357" width="1" height="1" border="0" style="border:none !important; margin:0px !important;" />
book by Tim Ferris. It is one of my all time favorite books and I try
to live by its rules as much as I can. I've also done a
<a href="/blog/2014/08/03/book-review-4-hour-workweek/">book review here</a>.</p>
<p><strong>TO BE CONTINUED ...</strong> meanwhile use the comments below to ask me things you are curious about.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 07 June 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/06/07/software-developer-employee-vs-contractor-part-1/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/06/02/sofiavalley-ui-bug/" rel="bookmark" title="Permalink to SofiaValley UI bug">
                <h2 class="post-title">
                    SofiaValley UI bug
                </h2>
            </a>
                <p><img src="/images/bugs/sv-bug.png" alt="SV bug" style="clear:both;display:block;"/></p>
<p><a href="http://sofiavalley.com">SofiaValley</a> recently had a bug in their UI.
As seen above when clicking the Like button the widget would overlap with
other visual elements. At first this doesn't look like a big deal but it blocks
the user from sharing the page via Facebook which is important for a blog.</p>
<p><img src="/images/bugs/sv-bug-fixed.png" alt="SV bug fixed" style="clear:both;display:block;"/></p>
<p>I have reported the error and it was fixed very quickly. +1 for SofiaValley.</p>
<p>Have you spotted any other interesting bugs? Let me know and they will be published
here.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Sun 02 June 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/06/02/sofiavalley-ui-bug/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/05/31/call-of-the-open-source-guru/" rel="bookmark" title="Permalink to Call of the Open Source Guru">
                <h2 class="post-title">
                    Call of the Open Source Guru
                </h2>
            </a>
                <p>This week (28.05.2013) I've attended an interesting
<a href="https://www.facebook.com/events/244624942345762/248165165325073/">event</a>, called 
“Call of the Guru”, that was held at the Faculty of Mathematics and Informatics at
Sofia University. The idea was to get a group of IT professionals (gurus) to talk to
young students on topics related to work, academia, start-up and open source.</p>
<p><img src="/images/students_listening_to_gurus.jpg" alt="Students" style="float:left; display:block;margin-right:50px"/>
<img src="/images/gurus_talking.jpg" alt="Gurus" style="float:left;display:block;clear:right;"/>
Images from <a href="http://radorado.me/call-of-the-guru-materials/">RadoRado's Place</a> and
<a href="http://sofiavalley.com/students-professionals-meetup/">SofiaValley</a>.
Check their event reviews as well.</p>
<p>In <a href="/blog/2013/05/27/it-jobs-prediction-quality-engineering-devops-augmented-reality/">another post</a>
I've already shared my thoughts on future IT jobs. Here I will talk about what open source
means for students.</p>
<h2>Why hack open source</h2>
<p>That's the number one question students will ask. The answer is simple</p>
<blockquote>
<p>It gives you experience and you become a hacker!</p>
</blockquote>
<p>There is absolutely no way one could graduate in their early 20s, not work
during study and have 3-5 years of experience as required by many job offers.
Unless one hacks open source. </p>
<ul>
<li>Open source is real world, not a play project. There are many interesting problems
to be solved; There's always work to be done;</li>
<li>Complex software teaches you software design/architecture patterns;</li>
<li>Larger projects like Linux distributions can also teach you about software release
cycle and release processes;</li>
<li>You work with a team, which drives you forward and you gain experience;</li>
<li>You learn to be patient as your work is reviewed by others and mistakes pointed out;</li>
<li>Larger projects use several different languages so you learn them; or alternatively
hack on different projects;</li>
<li>You communicate - via email and IRC mostly but that teaches you communication
skills. To see the difference between how educated people talk and how politicians
talk listen to <a href="http://www.youtube.com/watch?v=VVJldn_MmMY">this video</a>;</li>
<li>You make friends and connections which may benefit you later in your career;</li>
<li>Many open source companies recruit right from the community. I know lots of
people who landed their dream job by hacking for fun.</li>
</ul>
<p>As a student, if you can afford not getting a job it's better to use your time on
open source projects. This is what I did as a young student and a junior developer.
The rest is history!</p>
<h2>What to do</h2>
<p>There are many things one can do in open source - write code, test software and
find bugs, write automated test cases, translate to local languages,
design user interfaces and project websites,
maintain wiki articles, provide help to users on forums or IRC channels, help organize
events, etc. All of this is respected in the community and gives credibility. </p>
<h2>Where to start</h2>
<p>If you haven't already read <a href="http://www.catb.org/~esr/faqs/hacker-howto.html">How To Become A Hacker</a> by
Eric Raymond you should do so right away. Then come back and finish this article.</p>
<p>For those who'd like to start coding but have no idea where to start take a look at
<a href="http://openhatch.org/">OpenHatch</a>. </p>
<blockquote>
<p>OpenHatch is a non-profit dedicated to matching prospective free software contributors with communities, tools, and education. </p>
</blockquote>
<p>If you still like to be a developer but don't feel confident enough to hack on the core of
the project I'd recommend you start by writing automated test cases. Writing test cases doesn't
require much previous experience in programming and lets you explore and learn the internals
of the software you're testing. With that knowledge you will become more confident and start
writing on the core features if you like. I am myself a QA but regularly contribute patches to
software I test because I know how it works or why it doesn't and it's easy for me to fix it.</p>
<p>If you'd better start as a translator check <a href="https://www.transifex.com">Transifex</a>.
It's used by both commercial and open source entities and has become the de-facto standard in
open source translation tools. Btw the entire Transifex company was build after trying to
solve a particular problem in the Fedora Project and they are an open source company.</p>
<p>For general news about open source check <a href="http://opensource.com/">OpenSource.com</a>.</p>
<h2>Have questions? I have answers</h2>
<p>Don't hesitate to ask me anything about open source and/or how to get involved with it.
I will gladly share my experience (learned the hard-way in the old days) or point you
to other folks who may know more on the topic.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 31 May 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/05/31/call-of-the-open-source-guru/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/05/30/why-vmware-multi-hypervisor-manager-architecture-is-wrong/" rel="bookmark" title="Permalink to Why VMware Multi-Hypervisor Manager Architecture Is Wrong">
                <h2 class="post-title">
                    Why VMware Multi-Hypervisor Manager Architecture Is Wrong
                </h2>
            </a>
                <p>Today I've visited the annual 
<a href="http://www.openhouse.vmware-bulgaria.com/">VMware Open House Event</a> in Sofia.
One of the sessions discussed their product 
<a href="http://www.vmware.com/support/mhm/doc/vcenter-multi-hypervisor-manager-10-release-notes.html">vCenter Multi-Hypervisor Manager</a>
and the developers explained their architecture and technology behind it. 
I think they are wrong.</p>
<p><img src="/images/vmware_mhm_architecture.png" alt="MHM Architecture" style="clear:both;display:block;"/>
Image taken from product release notes.</p>
<p>As shown above the purple-orange components are the MHM ones. They are designed as
plug-ins to the vCenter product and can not function as stand alone products.
vCenter MHM Server is responsible for communicating with 3rd party hypervisors
and then talks back to the MHM Extension in vCenter which feeds the MHM Plug-In (the UI).
I see three bad design decisions here: </p>
<p>1) The plugin architecture makes both the management layer and the UI a separate module.
As was shown in a demo session the user can not manage/visualize ESX and Hyper-V hosts/VMs
at the same time. They are managed and visualized in separate views. 
This leads to non uniform user experience. Not to mention both UIs are different because the
supported hypervisor capabilities are different. -1 for user experience. </p>
<p>2) From what I understand both vCenter and MHM Extension provide API access. MHM one is not public yet.
Customers are using this API to build their own scripts around the infrastructure. For a customer
this means duplicating effort and maintaining scripts that talk to two separate APIs, although they
will be very similar to one another. -1 for making it easy on the customer.</p>
<p>3) From development point of view the top two components are not necessary. They introduce
extra development and management costs to the product. -1 for product maintainability.</p>
<h2>The Alternative</h2>
<p>One could design the same product in the fashion that <a href="http://libvirt.org">libvirt</a> does - 
abstract all hypervisor details and provide a common API to build applications against.
In this case vCenter Server will be the application on top.
This interface will also report hypervisor capabilities so that the UI will be disabled
where appropriate. </p>
<p><img src="/images/libvirt-driver-arch.png" alt="Libvirt Driver Architecture" style="clear:both;display:block;"/>
Image taken from <a href="http://libvirt.org/api.html">http://libvirt.org/api.html</a></p>
<p>I think libvirt's approach is much cleaner and easier to maintain in the long term.</p>
<p>Indeed I've asked the question why not use libvirt - 
it already supports ESX and Hyper-V as well as bunch of other hypervisors. I didn't get a clear
answer on that, just that the team was looking at it, evaluated libvirt but opted to go
another way. </p>
<p>I still feel VMware has not learned how to do the open source dance as well as others do.
What do you think? </p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Thu 30 May 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/05/30/why-vmware-multi-hypervisor-manager-architecture-is-wrong/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/05/30/configuring-anonymous-ftp-uploads-on-red-hat-enterprise-linux-6/" rel="bookmark" title="Permalink to Configuring Anonymous FTP Uploads On Red Hat Enterprise Linux 6">
                <h2 class="post-title">
                    Configuring Anonymous FTP Uploads On Red Hat Enterprise Linux 6
                </h2>
            </a>
                <p>Install related packages and make configuration changes:</p>
<div class="highlight"><pre>yum -y install vsftp policycoreutils-python
sed -i &quot;s/#anon_upload_enable=YES/anon_upload_enable=YES/&quot; /etc/vsftpd/vsftpd.conf
</pre></div>


<p>Configure writable directory for uploads:</p>
<div class="highlight"><pre>mkdir /var/ftp/pub/upload
chgrp ftp /var/ftp/pub/upload
chmod 730 /var/ftp/pub/upload
</pre></div>


<p>Configure SELinux - this is <strong><a href="https://bugzilla.redhat.com/show_bug.cgi?id=968935">MISSING</a></strong>
from Red Hat's official docs:</p>
<div class="highlight"><pre>setsebool -P allow_ftpd_anon_write=1
semanage fcontext -a -t public_content_rw_t &#39;/var/ftp/pub/upload(/.*)&#39;
chcon -t public_content_rw_t /var/ftp/pub/upload
</pre></div>


<p>Start the service:</p>
<div class="highlight"><pre>chkconfig vsftpd on
service vsftpd start
</pre></div>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Thu 30 May 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/05/30/configuring-anonymous-ftp-uploads-on-red-hat-enterprise-linux-6/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/05/27/it-jobs-prediction-quality-engineering-devops-augmented-reality/" rel="bookmark" title="Permalink to IT Jobs Prediction: Quality Engineering, DevOps, Augmented Reality">
                <h2 class="post-title">
                    IT Jobs Prediction: Quality Engineering, DevOps, Augmented Reality
                </h2>
            </a>
                <p>Tomorrow I'm taking part in a discussion at Sofia University targeted towards
young students. Speakers are well-known IT professionals and I'm honored to be invited.</p>
<p>One of the preliminary questions posted from students is</p>
<blockquote>
<p>In which field to expect saturation of junior specialists in the next 5 years?
Which technologies will see higher demand and which will not?</p>
</blockquote>
<p>While I don't have a clear answer here are my favorites and comments. If I was a 20 year old
student I would definitely be paying attention to these. </p>
<h2>Quality Engineering, Quality Assurance, Test Automation</h2>
<p>The more software gets written, the more critical the need to test it.
In the past 6+ years I've been working in the field of QA and saw 5x rise in
the workload and number of team members I've been working with. Traditionally
Bulgaria is strong on the development side but lacks trained QA engineers.
In the past I have also been approached by several foreign companies to train
their QA staff and organize their QA processes. The situation here is not very
different even today. </p>
<p>If you want a secure job become a top-notch QA with experience ranging from
test automation, QA management, bug finding and all between. Strongly recommended
is to get some industry recognized certificates (I don't have such for QA). </p>
<h2>DevOps</h2>
<p>Looks like <a href="http://en.wikipedia.org/wiki/DevOps">DevOps</a> is the new mantra.
With advancement of cloud technologies and everything becoming as-a-service
my gut is telling me that more and more organization will be switching to DevOps
types of operations in an attempt to be faster, more cost effective and more agile.
I myself am looking into this field. </p>
<p>While I haven't done a formal research to back-up my words I think DevOps will be
a hot topic in the next 5 years until it becomes the norm. Acquire DevOps skills
if you are particularly interested in working for start-ups or small engineering
organizations serving large customer bases (e.g Disqus, GitHub, The Guardian).</p>
<h2>Augmented Reality</h2>
<p><a href="http://en.wikipedia.org/wiki/Augmented_reality">AR</a> is not a fiction anymore. 
We have everything we need to make use of it in everyday life and it's slowly 
<a href="http://en.wikipedia.org/wiki/Google_Glass">becoming mainstream</a>.
If you are into maths, algorithms and research then this is your field. Couple
with mobile devices, social networks, big data and cloud and you have a job
for a life time. </p>
<h2>What else?</h2>
<p>I don't have a crystal ball to predict the future. It could be that my IT jobs
predictions are totally wrong. Let me know what do you think. If you were in the
beginning of your career which fields will you bet on? </p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Mon 27 May 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/05/27/it-jobs-prediction-quality-engineering-devops-augmented-reality/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/05/23/balkan-venture-forum-sofia-post-mortem/" rel="bookmark" title="Permalink to Balkan Venture Forum Sofia Post-mortem">
                <h2 class="post-title">
                    Balkan Venture Forum Sofia Post-mortem
                </h2>
            </a>
                <p><img src="/images/bkvf_sofia.png" alt="BkVF Sofia" style="float:left;margin-right:10px;"/></p>
<p><a href="http://www.balkanventureforum.org/">Balkan Venture Forum</a> in Sofia is over. It's been two
very exciting days, full of many interesting talks both on stage and off stage.</p>
<p>There were so many things that happened and so many new people I met that it will be hard
to mention all of that in a single blog post. I just want to highlight the things I enjoyed
the most.</p>
<p><br /><br /></p>
<h2>Networking &amp; pitching at the bar</h2>
<p>I've been invited to BkVF long ago. However my initial intention was not to attend because
this month proved to be very busy. I've changed my mind after Boyan Benev, one of the organizers
invited me 10 days ago with an interesting proposal - distribute <a href="http://www.dif.io">Difio</a>'s beer mats at the bar!</p>
<p><img src="/images/difio_beermats.jpg" alt="Difio beer mats" style="float:left;clear:both;display:inline-block;"/></p>
<p>So I was there for the networking. As I used to say when people asked me if I was pitching</p>
<blockquote>
<p>I am pitching at the bar!</p>
</blockquote>
<p>Networking was very intensive both during the coffee breaks and cocktail and during the sessions.
I've now got close to 50 new business cards in my pocket. I've met very cool guys and gals both
developers and non-tech. </p>
<p>From the companies that were pitching in the main hall I particularly liked
<a href="http://imagga.com/">Imagga</a>, <a href="http://transmetrics.eu/">Transmetrics</a> and <a href="http://kimola.com/">Kimola</a>.
Imagga was probably the most deep-tech/science oriented company at BkVF while Transmetrics
and Kimola focus on cloud and big data solutions.</p>
<h2>BlackBerry development session</h2>
<p>OK, I'm not into mobile technology nor smart phones but that may change soon. 
BlackBerry had a strong presence and I was able to talk to some of their developer
support folks.
The OS of BlackBerry 10 is based on QNX kernel with multiple SDKs available to write apps.
Most of all I like the fact that it is POSIX compliant with C/C++ native SDK available.
Qt/QML is also available. </p>
<p>I'm particularly interested in how hard it will be to port
some existing open source tools to BlackBerry. I'm talking Bash, Python and the
command line tools I currently use on Linux. I'll be contacting them in the near future
to get a device for testing and hacking and will keep you posted.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Thu 23 May 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/05/23/balkan-venture-forum-sofia-post-mortem/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/05/17/linux-and-python-tools-to-compare-images/" rel="bookmark" title="Permalink to Linux and Python Tools To Compare Images">
                <h2 class="post-title">
                    Linux and Python Tools To Compare Images
                </h2>
            </a>
                <p>How to compare two images in Python? A tricky question with quite a few answers.
Since my needs are simple, my solution is simpler!</p>
<p><img src="/images/difio_compare.png" alt="Difio Google +1 changes" style="clear:both;display:block"/>
<a href="http://www.dif.io">dif.io</a> homepage before and after it got a G+1.</p>
<h2>ImageMagic is magic</h2>
<p>If you haven't heard of <a href="http://www.imagemagick.org/">ImageMagic</a> then you've been
living in a cave on a deserted island! The suite contains the <code>compare</code> command
which mathematically and visually annotates the difference between two images.</p>
<p>The third image above was produced with:</p>
<div class="highlight"><pre><span class="nv">$ </span>compare difio_10.png difio_11.png difio_diff.png
</pre></div>


<p>Differences are displayed in red (default) and the original image is seen in the
background. As shown, the Google +1 button and count has changed between the two
images. <code>compare</code> is a nice tool for manual inspection and debugging.
It works well in this case because the images are lossless PNGs and are regions of
screen shots where most objects are the same.</p>
<p><img src="/images/chestnut_compare.jpg" alt="JPEG quality reduction" style="clear:both;display:block"/>
Chestnuts I had in Rome. 100% to 99% quality reduction.</p>
<p>As seen on the second image set only 1% of JPEG quality change leads to many small
differences in the image, which are invisible to the naked eye.</p>
<h2>Python Imaging Library aka PIL</h2>
<p><a href="http://www.pythonware.com/products/pil/">PIL</a> is another powerful tool for
image manipulation. I googled around and found some answers to my original
questions
<a href="http://stackoverflow.com/questions/1927660/compare-two-images-the-python-linux-way">here</a>.
The proposed solution is to calculate
<a href="https://en.wikipedia.org/wiki/Root_mean_square">RMS</a> of the two images
and compare that with some threshold to establish the level of certainty that
two images are identical.</p>
<h2>Simple solution</h2>
<p>I've been working on a script lately which needs to know what is displayed on
the screen and recognize some of the objects. Calculating image similarity is
quite complex but comparing if two images are <strong>exactly</strong> identical is not.
Given my environment and the fact
that I'm comparing screen shots where only few areas changed
(see first image above for example) led to the following solution: </p>
<ul>
<li>Take a screen shot;</li>
<li>Crop a particular area of the image which needs to be examined;</li>
<li>Compare to a baseline image of the same area created manually;</li>
<li>Don't use RMS, use the image histogram only to speed up calculation.</li>
</ul>
<p>I've prepared the baseline images with GIMP and tested couple of scenarios
using <code>compare</code>. Here's how it looks in code:</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">dogtail.utils</span> <span class="kn">import</span> <span class="n">screenshot</span>

<span class="n">baseline_histogram</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;/home/atodorov/baseline.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">histogram</span><span class="p">()</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">screenshot</span><span class="p">())</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="mi">860</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">950</span><span class="p">,</span> <span class="mi">320</span><span class="p">))</span>
<span class="k">print</span> <span class="n">region</span><span class="o">.</span><span class="n">histogram</span><span class="p">()</span> <span class="o">==</span> <span class="n">baseline_histogram</span>
</pre></div>


<h2>Results</h2>
<p>The presented solution was easy to program, works fast and reliably for my use case.
In fact after several iterations I've added a second baseline image to account for some
unidentified noise which appears randomly in the first region. As far as I can tell
the two checks combined are 100% accurate. </p>
<h2>Field of application</h2>
<p>I'm working on QA automation where this comes handy. However you may try some
lame CAPTCHA recognition by comparing regions to a pre-defined baseline. Let me know
if you come up with a cool idea or actually used this in code. </p>
<p>I'd love to hear
about interesting projects which didn't get too complicated because of image
recognition.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 17 May 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/05/17/linux-and-python-tools-to-compare-images/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/05/14/dual-password-encryption-with-encfs-on-red-hat-enterprise-linux-6/" rel="bookmark" title="Permalink to Dual Password Encryption With EncFS On Red Hat Enterprise Linux 6">
                <h2 class="post-title">
                    Dual Password Encryption With EncFS On Red Hat Enterprise Linux 6
                </h2>
            </a>
                <p>This article is a step-by-step guide to using two passwords with <a href="http://www.arg0.net/encfs">EncFS</a>.
The primary password is required and may be used to secure all data;
the secondary password is optional and may be stored on USB stick or
other removable media and used to secure more sensitive data. </p>
<p><img src="/images/encfs_raleigh.jpg" alt="Article in Raleigh" style="clear:both;display:block;"/>
The original article in Red Hat's Raleigh HQ!</p>
<p>This article has been originally written for and published by
<a href="http://magazine.redhat.com/2007/06/13/dual-password-encryption-with-encfs/">Red Hat Magazine</a>.
Here is a shortened version with updated commands for Red Hat Enterprise Linux 6.</p>
<h2>Technical Information</h2>
<p>EncFS provides an encrypted filesystem in user-space. EncFS provides security
against offline attacks like a stolen notebook.
EncFS works on files and directories, not an entire block device.
It modifies file names and contents.
The data is stored on the underlying filesystem and meta-data is preserved.
File attributes such as ownership, modification date and permission bits are not encrypted
and are visible to anybody. EncFS is acting like a translator between the user and
the filesystem, encrypting and decrypting on the fly.</p>
<p>EncFS is easy to use and requires no special setup. A local user has to be in the ‘fuse’
group to use EncFS. It does not require ‘root’ privileges.
EncFS can be used with secondary passwords. This could be used to store a separate set of files on the same encrypted filesystem. 
EncFS ignores files which do not decode properly, so files created with separate passwords will 
only be visible when the filesystem is mounted with the associated password.
There is the option to read passwords from an external program or stdin (standard input). 
This option combined with custom scripting makes EncFS very flexible.
By default, all FUSE based filesystems are visible only to the user who mounted them. 
No other users (including root) can view the filesystem contents.</p>
<h2>Installing EncFS</h2>
<p>Install fuse-encfs from <a href="https://fedoraproject.org/wiki/EPEL">EPEL</a>:</p>
<div class="highlight"><pre># yum install fuse-encfs
</pre></div>


<p>Load the FUSE module:</p>
<div class="highlight"><pre># /sbin/modprobe fuse
</pre></div>


<p>And, finally, add any users that will use EncFS to group ‘fuse’:</p>
<div class="highlight"><pre># usermod -Gfuse jdoe
</pre></div>


<h2>Using EncFS</h2>
<p>Using EncFS does not differ from using any other filesystem.
The only thing you need to do is to mount it somewhere and start creating 
files and directories under the mount point.</p>
<p><strong>Warning:</strong> Use only absolute path names with EncFS!</p>
<p>Create working directories:</p>
<div class="highlight"><pre><span class="nv">$ </span>mkdir -p ~/encrypted ~/plain
</pre></div>


<ul>
<li><code>plain/</code> – looks like a normal directory. All files stored here look like normal
files for the user who mounted this directory with EncFS. This acts like a virtual
directory performing encryption and decryption.</li>
<li><code>encrypted/</code> – looks garbled. The actual data is stored here and is encrypted.</li>
</ul>
<p>Now you can mount the new EncFS volume for the first time. This assumes a default configuration:</p>
<div class="highlight"><pre><span class="nv">$ </span>encfs /home/jdoe/encrypted /home/jdoe/plain
Creating new encrypted volume.
Please choose from one of the following options:
 enter <span class="s2">&quot;x&quot;</span> <span class="k">for</span> expert configuration mode,
 enter <span class="s2">&quot;p&quot;</span> <span class="k">for</span> pre-configured paranoia mode,
 anything <span class="k">else</span>, or an empty line will <span class="k">select</span> standard mode.
?&gt; 

Standard configuration selected.

Configuration finished.  The filesystem to be created has
the following properties:
Filesystem cipher: <span class="s2">&quot;ssl/aes&quot;</span>, version 3:0:2
Filename encoding: <span class="s2">&quot;nameio/block&quot;</span>, version 3:0:1
Key Size: <span class="m">192</span> bits
Block Size: <span class="m">1024</span> bytes
Each file contains <span class="m">8</span> byte header with unique IV data.
Filenames encoded using IV chaining mode.
File holes passed through to ciphertext.

Now you will need to enter a password <span class="k">for</span> your filesystem.
You will need to remember this password, as there is absolutely
no recovery mechanism.  However, the password can be changed
later using encfsctl.

New Encfs Password: **********
Verify Encfs Password: **********
</pre></div>


<p>Create a file:</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;some content&quot;</span> &gt; ~/plain/file.one
</pre></div>


<p>Check contents in <code>plain/</code>:</p>
<div class="highlight"><pre><span class="nv">$ </span>ls -la ~/plain/
total 12
drwxrwxr-x. <span class="m">2</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:31 .
drwx------. <span class="m">6</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:29 ..
-rw-rw-r--. <span class="m">1</span> jdoe jdoe   <span class="m">13</span> May <span class="m">14</span> 21:31 file.one

<span class="nv">$ </span>cat ~/plain/file.one 
some content
</pre></div>


<p>Check what’s in <code>encrypted/</code>:</p>
<div class="highlight"><pre><span class="nv">$ </span>ls -la ~/encrypted/
total 16
drwxrwxr-x. <span class="m">2</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:31 .
drwx------. <span class="m">6</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:29 ..
-rw-rw-r--. <span class="m">1</span> jdoe jdoe <span class="m">1083</span> May <span class="m">14</span> 21:30 .encfs6.xml
-rw-rw-r--. <span class="m">1</span> jdoe jdoe   <span class="m">21</span> May <span class="m">14</span> 21:31 Wq5NZ6q-yP-fYNWYsjzFhHf9
</pre></div>


<p><strong>Warning:</strong> <code>.encfs6.xml</code> is a special file. When performing backups or restoring data,
make sure to keep this file!</p>
<p>Inspect the contents of encrypted file:</p>
<div class="highlight"><pre><span class="nv">$ </span>cat ~/encrypted/Wq5NZ6q-yP-fYNWYsjzFhHf9 
���r�N�M���<span class="s2">&quot;p��</span>
</pre></div>


<p>Unmount the filesystem and mount it again with another password:</p>
<div class="highlight"><pre><span class="nv">$ </span>fusermount -u ~/plain/
<span class="nv">$ </span>encfs --anykey /home/jdoe/encrypted /home/jdoe/plain
EncFS Password: *****
</pre></div>


<p><strong>Caution:</strong> We are using the --anykey option to allow secondary passwords.</p>
<p>Check <code>plain/</code> again. The directory is empty. Previous files were not decoded with the new password.</p>
<div class="highlight"><pre><span class="nv">$ </span>ls -la ~/plain/
total 8
drwxrwxr-x. <span class="m">2</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:31 .
drwx------. <span class="m">6</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:29 ..
</pre></div>


<p>Now create another file that will be in “hidden” mode:</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;hidden contents&quot;</span> &gt; ~/plain/file.two
</pre></div>


<p>Check again what’s in <code>encrypted/</code>. Both files are stored in the same directory:</p>
<div class="highlight"><pre><span class="nv">$ </span>ls -la ~/encrypted/
total 20
drwxrwxr-x. <span class="m">2</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:35 .
drwx------. <span class="m">6</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:29 ..
-rw-rw-r--. <span class="m">1</span> jdoe jdoe <span class="m">1083</span> May <span class="m">14</span> 21:30 .encfs6.xml
-rw-rw-r--. <span class="m">1</span> jdoe jdoe   <span class="m">24</span> May <span class="m">14</span> 21:35 PfkZHs16YsKkznnTujaVsOuS
-rw-rw-r--. <span class="m">1</span> jdoe jdoe   <span class="m">21</span> May <span class="m">14</span> 21:31 Wq5NZ6q-yP-fYNWYsjzFhHf9
</pre></div>


<p>Unmount and mount again using the first password:</p>
<div class="highlight"><pre><span class="nv">$ </span>fusermount -u ~/plain/
<span class="nv">$ </span>encfs --anykey /home/jdoe/encrypted /home/jdoe/plain
EncFS Password: **********
</pre></div>


<p>Inspect the contents of <code>plain/</code> again. The second file was not decoded properly and is not shown:</p>
<div class="highlight"><pre><span class="nv">$ </span>ls -la ~/plain/
total 12
drwxrwxr-x. <span class="m">2</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:35 .
drwx------. <span class="m">6</span> jdoe jdoe <span class="m">4096</span> May <span class="m">14</span> 21:29 ..
-rw-rw-r--. <span class="m">1</span> jdoe jdoe   <span class="m">13</span> May <span class="m">14</span> 21:31 file.one
</pre></div>


<h2>Summary</h2>
<p>You have learned how to use encryption to protect your data.
There is also a nice graphical application 
for using EncFS with KDE called <a href="http://kde-apps.org/content/show.php?content=54078">K-EncFS</a>.
I'll be happy to answer any questions or comments.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Tue 14 May 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/05/14/dual-password-encryption-with-encfs-on-red-hat-enterprise-linux-6/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/05/02/why-instagram-could-not-be-founded-in-europe/" rel="bookmark" title="Permalink to Why Instagram Could Not Be Founded In Europe">
                <h2 class="post-title">
                    Why Instagram Could Not Be Founded In Europe
                </h2>
            </a>
                <p><em>Can a company like Instagram be founded in Europe and successfully exit for
$ 1 billion?</em> What do you think ?</p>
<p>This is precisely the question <a href="http://speedupgroup.com/about-us/">Bartłomiej Gola</a>
asked at WebIT BG last week. Here are his answers.</p>
<h2>Theory says yes</h2>
<p>In theory Europe is well suited for successful companies:</p>
<ul>
<li>We have talented software engineers and hackers;</li>
<li>Great ideas are available everywhere;</li>
<li>Funding is available - both early stage seed funding as well
as VCs.</li>
</ul>
<h2>Forget about it</h2>
<p>The short answer though is "forget about it"! There are several
major differences between Europe and Silicon Valley which
could break your start-up easily.</p>
<p>1) Europe doesn't have a strong branding with respect to technology.
We are not perceived as a strong tech community which produces great things.
Not to mention individual countries like Bulgaria.
This means foreign investors are
less likely to invest in European companies because they haven't heard
about other successful companies coming from the region.</p>
<p>We as a community should work together and popularize the region
(especially South Eastern Europe). I've seen this already in action.
German cloud provider <a href="http://cloudcontrol.de">cloudControl</a> has
branded their website as "Proudly Made In Berlin".</p>
<p>2) The lack of reputation leads to the second issue - less followers
on social media. Think about it! How many people in the US or Silicon Valley
do you follow on Twitter? How many follow you back? How many of those who
do, actually engage with what you share? </p>
<p>With some exceptions like my friend <a href="http://batsov.com">Bozhidar Batsov</a> your
social reach is quite limited when it comes to hi-tech users.</p>
<p>3) Less reputation plus less social reach means less buzz and less early
adopters. Silicon Valley is a great place to generate buzz and find
early adopters. Because of the software industry and many start-ups
located in the area people generally have more open mindset and
will try out new ideas, share valuable feedback, engage in social media
and spread the word.</p>
<p>Early adopters are crucial for every start-up. And we don't have this 
mindset in Europe. I have seen it myself. From 400 friends and co-workers
whom I've contacted via LinkedIn, half or more of them in Europe,
only a few, not even a dozen have tried <a href="http://www.dif.io">Difio</a>.
And we are talking about service from developers about developers. Nada.</p>
<p>I've tried another experiment as well. This time about non IT business.
From around 100 female friends on Facebook around 10 followed a 
<a href="http://facebook.com/obuvki41plus">Facebook page</a>
which I've invited them to. The page is 
<a href="http://obuvki41plus.com">online ladies shoes shop</a>.</p>
<h2>What to do about it?</h2>
<p>I don't have a clear answer here. We need to work hard and
make Europe and Bulgaria well known in the software industry
and start-up community. I encourage everyone to try, fail, try, fail
and try until they succeed. And brag about what you do all the time.</p>
<p>This also prompted me another question. "How do companies in the Bulgarian
start-up eco-system find their early adopters?" I think I'm gonna start
a new blog category  dedicated to this topic.</p>
<p>Is your company the next Instagram? Please use the comments and tell me.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Thu 02 May 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/05/02/why-instagram-could-not-be-founded-in-europe/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/04/27/the-best-it-school-in-bulgaria/" rel="bookmark" title="Permalink to The Best IT School in Bulgaria">
                <h2 class="post-title">
                    The Best IT School in Bulgaria
                </h2>
            </a>
                <p><img src="/images/tues/9gag_test_robots.jpg" alt="How TUES tests robots" style="clear:both;display:block;"/></p>
<p><img alt="&quot;Quadcopter&quot;" src="/images/tues/quadcopter.jpg" title="Quadcopter" /></p>
<h2>What is Elsys?</h2>
<p><strong><a href="http://www.elsys-bg.org/">Elsys</a></strong> (in Bulgarian TUES) is a technology school in Sofia.
It is a subsidiary of Technical University of Sofia and this week they've celebrated their 25th anniversary.
Elsys is not an ordinary school, they teach computer science to these young kids. 
And they do it pretty damn well. At the moment it's the best
school to study IT (software, hardware, networks) in the country, contrary to what TU Sofia has
become :(. </p>
<p>As one of the school <a href="http://www.youtube.com/watch?v=7GYbCDGTz-4">sponsors</a> I met lots of the students
and want to show everyone else what they are doing. I have no doubts we will be hearing more about
them in the future. </p>
<h2>Robots first</h2>
<p>So these boys and girls make robots. I was there when the first image was taken.
It was this week in Thursday, April 25th at an educational fair. All visitors were
fascinated by the robots and stopped by to watch and play with them. I personally
wanted to see and play with the quadcopter shown above but it was not available that
day. </p>
<p>While I was there, a guy approached the kids and said his
company wants to fund development of another quadcopter. He wanted a bigger one, which
is able to carry equipment for aerial photographs. </p>
<p>What shook me was that
this is a rare occasion where a local business wants to fund R&amp;D activities.
Not to mentions these are school boys, not university students or research fellows
where this is more
common. And this happened days after the news about the quadcopter has been released 
in the social media. </p>
<p><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="450" height="403"><param name="movie" value="http://i47.vbox7.com/player/ext.swf?vid=cecb1d1ca4"/><param name="quality" value="high"/><embed src="http://i48.vbox7.com/player/ext.swf?vid=cecb1d1ca4" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="450" height="403"/></object></p>
<p>Elsys also teaches Arduino classes where students play with home made robots. I personally
have attended a robots competition held in the school where these small robots compete
and sometimes fight with one another. </p>
<p>Did I mention they take part in First Lego League too? Just see the
<a href="http://www.elsys-bg.org/blog/article/fll-2012-new-teams-better-robots-lots-of-emotions/">photos</a>.</p>
<h2>Open source</h2>
<p>When not making robots students from Elsys hack open source and as it happened,
one of them won the grand prize in Google Code-In 2012
(<a href="http://www.elsys-bg.org/blog/article/elsys-student-won-the-grand-prize-in-the-google-code-in-2012/">article in Bulgarian</a>).
For the last few years kids from Elsys are taking part in Google Code-In and according
to the <a href="http://www.elsys-bg.org/blog/article/7300-from-google/">school website</a>
they've made $7300 from Google :). <a href="http://www.elsys-bg.org/blog/article/google-code-in-2011/">Over 40</a>
boys and girls took part in the first
edition of Google Code-In. That's 10% of all participants.</p>
<p>I'm sure Google and others were impressed by the fact so many good developers
are coming from a single school. Aren't you?</p>
<h2>Cisco Networking Academy</h2>
<p>Yup, they have this too! Elsys teams have won top honors at 6 of the last 8
BANA-sponsored
<a href="http://www.elsys-bg.org/blog/article/national-networking-competition-2012/">National Networking Competitions</a>.
Cisco themselves wrote an <a href="http://csr.cisco.com/pages/impact-bulgaria">article about Elsys</a>.</p>
<h2>Want to help</h2>
<p>As I said I'm a school sponsor. Probably the smallest one. If you want to help
these kids and their school just let me know. I will put you in touch with the
principal.</p>
<p>Alternatively you can donate your time and knowledge and start teaching an interesting
class at school! </p>
<p>Or you can donate high quality IT books if you have such. Anything helps.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Sat 27 April 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/04/27/the-best-it-school-in-bulgaria/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/04/26/personal-experience-with-credit-card-fraud/" rel="bookmark" title="Permalink to Personal Experience With Credit Card Fraud">
                <h2 class="post-title">
                    Personal Experience With Credit Card Fraud
                </h2>
            </a>
                <p><img src="/images/creditcard.jpg" alt="Credit Card Of The Future" style="display:block;clear:both;"/>
Image CC-BY, <a href="http://www.flickr.com/photos/scobleizer/5451075743/in/photostream/">Robert Scoble</a></p>
<p>Have you ever been a victim of
<a href="http://en.wikipedia.org/wiki/Credit_card_fraud">credit card fraud</a>? Meet yours truly!
Achievement unlocked! As a hacker I'm more careful when shopping online compared to ordinary
people and still my card was misused. </p>
<h2>What happened?</h2>
<p>Right after opening business hours I was awaken by a phone call from my bank. They alerted
me about a 6$ payment for a hotel reservation, which obviously I didn't make. 
The payment in question was made yesterday, April 25th.
Ten minutes later I got another call telling me about more transactions, some successful ones.
One in particular - a train ticket for nearly 250 EUR. My card was blocked
immediately! The nice thing is that the bank clerk agreed to
express issue a new card. Not without some help from my internal connections at the central office
I got my fresh card before closing hours this evening. The ink on the paper slip was still wet,
literary. </p>
<p>What will happen next is that they will charge me the successful transactions (not big amount) and later I have to
file a claim for refund. That will take around a week I suppose. I've filed such claims before and
things usually work well for the customer (the case was incorrect merchant though).</p>
<h2>How did this happen?</h2>
<p>Honestly I have no idea and will probably never find out.
But as I said I take precautions:</p>
<ul>
<li>I have additional account with small amount in it just for online shopping
to minimize risk;</li>
<li>I use strong passwords with above average length of symbols (no I'm not going to tell you how much);</li>
<li>I enter my card number <strong>ONLY</strong> over trusted SSL connections;</li>
<li>I avoid smaller merchants and tend to shop from one or two places only;</li>
<li>If I remember correctly I've never purchased anything online where the card verification
code and additional information like expiration date and billing address is not required.
If I did, I've been drunk then.</li>
<li>I monitor all my accounts activity as well.</li>
</ul>
<p>In addition the card in question was mostly used for cloud service subscriptions like
Amazon Web Services and Google Apps. I have used it a few times for other things
like plane tickets or travel reservations but nothing fishy.</p>
<p>The same card I've used rarely at physical ATM or POS terminal (once a year probably).</p>
<h2>What's your story?</h2>
<p>I'd like to use this unfortunate event to raise the topic and awareness among
my readers. I wish you never experience this. Forget the money side of things,
it's a pain in the ass to deal with this.</p>
<p>If you happen to on the victim side please share your story. Have things
worked in your favor or not? </p>
<p>The picture above shows a new credit card concept. Per the author:</p>
<blockquote>
<p>Kudelski and Mastercard are showing me the credit card of the future.
This model can generate a new passcode on the fly, so if your card's number
gets copied it won't be able to generate the right passcode.</p>
</blockquote>
<p>If you have more insight on the credit card industry please share with us!</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 26 April 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/04/26/personal-experience-with-credit-card-fraud/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/04/24/how-to-deploy-python-hotfix-on-redhat-openshift-cloud/" rel="bookmark" title="Permalink to How to Deploy Python Hotfix on RedHat OpenShift Cloud">
                <h2 class="post-title">
                    How to Deploy Python Hotfix on RedHat OpenShift Cloud
                </h2>
            </a>
                <p>In this article I will show you how to deploy hotfix versions for
Python packages on the RedHat <a href="http://openshift.com">OpenShift</a> PaaS cloud.</p>
<h2>Background</h2>
<p>You are already running a Python application on your OpenShift instance.
You are using some 3rd party dependencies when you find a bug in one of them.
You go forward, fix the bug and submit a
<a href="https://github.com/ahupp/python-magic/pull/31">pull request</a>.
You don't want to wait for upstream to release a new version but rather
build a hotfix package yourself and deploy to production immediately.</p>
<h2>Solution</h2>
<p>There are two basic approaches to solving this problem: </p>
<ol>
<li>Include the hotfix package source code in your application, i.e.
add it to your git tree or;</li>
<li>Build the hotfix separately and deploy as a dependency. Don't
include it in your git tree, just add a requirement on the hotfix version. </li>
</ol>
<p>I will talk about the later. The tricky part here is to instruct the cloud environment
to use your package (including the proper location) and not upstream or their local
mirror.</p>
<p>Python applications hosted at <a href="http://openshift.com">OpenShift</a> don't support
<code>requirements.txt</code> which can point to various package sources and even install
packages directly from GitHub. They support <code>setup.py</code> which fetches packages
from <a href="http://pypi.python.org">http://pypi.python.org</a> but it is flexible enough to support other locations.</p>
<h2>Building the hotfix</h2>
<p>First of all we'd like to build a hotfix package. This will be the upstream
version that we are currently using plus the patch for our critical issue:</p>
<div class="highlight"><pre><span class="nv">$ </span>wget https://pypi.python.org/packages/source/p/python-magic/python-magic-0.4.3.tar.gz
<span class="nv">$ </span>tar -xzvf python-magic-0.4.3.tar.gz 
<span class="nv">$ </span><span class="nb">cd </span>python-magic-0.4.3
<span class="nv">$ </span>curl https://github.com/ahupp/python-magic/pull/31.patch <span class="p">|</span> patch
</pre></div>


<p>Verify the patch has been applied correctly and then modify <code>setup.py</code> to
increase the version string. In this case I will set it to <code>version='0.4.3.1'</code>.</p>
<p>Then build the new package using <code>python setup.py sdist</code> and upload it to a web server.</p>
<h2>Deploying to OpenShift</h2>
<p>Modify <code>setup.py</code> and specify the hotfix version. Because this version is not on PyPI
and will not be on OpenShift's local mirror you need to provide the location where it can
be found. This is done with the <code>dependency_links</code> parameter to <code>setup()</code>. Here's how it looks:</p>
<div class="highlight"><pre><span class="gh">diff --git a/setup.py b/setup.py</span>
<span class="gh">index c6e837c..2daa2a9 100644</span>
<span class="gd">--- a/setup.py</span>
<span class="gi">+++ b/setup.py</span>
<span class="gu">@@ -6,5 +6,6 @@ setup(name=&#39;YourAppName&#39;,</span>
       author=&#39;Your Name&#39;,
       author_email=&#39;example@example.com&#39;,
       url=&#39;http://www.python.org/sigs/distutils-sig/&#39;,
<span class="gd">-      install_requires=[&#39;python-magic==0.4.3&#39;],</span>
<span class="gi">+      dependency_links=[&#39;https://s3.amazonaws.com/atodorov/blog/python-magic-0.4.3.1.tar.gz&#39;],</span>
<span class="gi">+      install_requires=[&#39;python-magic==0.4.3.1&#39;],</span>
      )
</pre></div>


<p>Now just git push to OpenShift and observe the console output:</p>
<div class="highlight"><pre><span class="n">remote</span><span class="o">:</span> <span class="n">Processing</span> <span class="n">dependencies</span> <span class="k">for</span> <span class="n">YourAppName</span><span class="o">==</span><span class="mf">1.0</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Searching</span> <span class="k">for</span> <span class="n">python</span><span class="o">-</span><span class="n">magic</span><span class="o">==</span><span class="mf">0.4</span><span class="o">.</span><span class="mf">3.1</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Best</span> <span class="n">match</span><span class="o">:</span> <span class="n">python</span><span class="o">-</span><span class="n">magic</span> <span class="mf">0.4</span><span class="o">.</span><span class="mf">3.1</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Downloading</span> <span class="n">https</span><span class="o">://</span><span class="n">s3</span><span class="o">.</span><span class="na">amazonaws</span><span class="o">.</span><span class="na">com</span><span class="sr">/atodorov/blog/</span><span class="n">python</span><span class="o">-</span><span class="n">magic</span><span class="o">-</span><span class="mf">0.4</span><span class="o">.</span><span class="mf">3.1</span><span class="o">.</span><span class="na">tar</span><span class="o">.</span><span class="na">gz</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Processing</span> <span class="n">python</span><span class="o">-</span><span class="n">magic</span><span class="o">-</span><span class="mf">0.4</span><span class="o">.</span><span class="mf">3.1</span><span class="o">.</span><span class="na">tar</span><span class="o">.</span><span class="na">gz</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Running</span> <span class="n">python</span><span class="o">-</span><span class="n">magic</span><span class="o">-</span><span class="mf">0.4</span><span class="o">.</span><span class="mf">3.1</span><span class="sr">/setup.py -q bdist_egg --dist-dir /tmp/easy_install-ZRVMBg/python-magic-0.4.3.1/</span><span class="n">egg</span><span class="o">-</span><span class="n">dist</span><span class="o">-</span><span class="n">tmp</span><span class="o">-</span><span class="n">R_Nxie</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">zip_safe</span> <span class="n">flag</span> <span class="n">not</span> <span class="kd">set</span><span class="o">;</span> <span class="n">analyzing</span> <span class="n">archive</span> <span class="n">contents</span><span class="o">...</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Removing</span> <span class="n">python</span><span class="o">-</span><span class="n">magic</span> <span class="mf">0.4</span><span class="o">.</span><span class="mi">3</span> <span class="n">from</span> <span class="n">easy</span><span class="o">-</span><span class="n">install</span><span class="o">.</span><span class="na">pth</span> <span class="n">file</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Adding</span> <span class="n">python</span><span class="o">-</span><span class="n">magic</span> <span class="mf">0.4</span><span class="o">.</span><span class="mf">3.1</span> <span class="n">to</span> <span class="n">easy</span><span class="o">-</span><span class="n">install</span><span class="o">.</span><span class="na">pth</span> <span class="n">file</span>
</pre></div>


<p>Congratulations! Your hotfix package has just been deployed.</p>
<p>This approach should work for other cloud providers and other programming languages
as well. Let me know if you have any experience with that.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Wed 24 April 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/04/24/how-to-deploy-python-hotfix-on-redhat-openshift-cloud/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/04/23/what-runs-your-startup-deed/" rel="bookmark" title="Permalink to What Runs Your Start-up - Deed">
                <h2 class="post-title">
                    What Runs Your Start-up - Deed
                </h2>
            </a>
                <p><img src="/images/startup/deed.jpg" alt="Deed" style="float:left; margin-right: 15px;" /></p>
<p><a href="http://www.ideedit.com/">Deed</a> is an action-provoking platform for challenging
yourself and others and also a business solution for improved engagement by the
corresponding communities. It solves the problem of passivity by converting people
who “Like” to people who “Act. The challenge format gives businesses an effective,
fresh and low-cost solution to maintain active connection with their communities
and measure engagement.</p>
<p>Emil Stoychev explains their technical background.</p>
<h2>Main Technologies</h2>
<p>Deed is built around Microsoft technologies plus some open source libraries.</p>
<p>Their web application and API is built with ASP.NET MVC 3 using MS SQL 2008 database engine.
Deed is hosted on a single cloud server at Rackspace and uses Akamai CDN for static files
distribution. At the moment the team is testing Windows Azure cloud platform and plans
migrating there.</p>
<p>A native Windows Phone application also exists.</p>
<p>Lots of JavaScript and CSS frameworks come to play at the  web interface layer like
jQuery, <a href="http://handlebarsjs.com/">Handlebars</a> for templates and <a href="http://lesscss.org/">Less CSS</a>.</p>
<p>IDE of choice is Microsoft Visual Studio 2012 for C# and Vim for everything else.
Source code revision control is managed with Mercurial and build scripts are written in Python.</p>
<h2>Why Not Something Else?</h2>
<blockquote>
<p>The Deed team had experience with Microsoft technologies initially so it was natural
for us to choose this stack. While not perfect and costly in terms of hosting fees,
it serves its purpose for the moment. When you start a new project and you want to get
up and running fast your best choice is to use what you already mastered.
That in our case was the Microsoft stack.</p>
<p>Emil Stoychev</p>
</blockquote>
<p>Indeed I strongly support this! Always use technologies you are a master at and change and
adapt along the way if necessary.</p>
<h2>Want More Info?</h2>
<p>If you’d like to hear more from <em>Deed</em> please comment below.
I will ask them to follow this thread and reply to your questions.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Tue 23 April 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/04/23/what-runs-your-startup-deed/#disqus_thread">comments</a>.</p>        </div>
        <div class="post-preview">
            <a href="http://atodorov.org/blog/2013/04/19/hackfmi-code-stats/" rel="bookmark" title="Permalink to HackFMI Code Stats">
                <h2 class="post-title">
                    HackFMI Code Stats
                </h2>
            </a>
                <p>It's Friday - five days after the first <a href="http://hackfmi.com">HackFMI</a>
event was held. I have some interesting statistics derived from the
source code of all projects. Read on!</p>
<p><img alt="&quot;HackFMI stats&quot;" src="/images/hackfmi/hackfmi2013_cocomo.png" title="HackFMI stats" /></p>
<h2>How The Stats Were Calculated</h2>
<p>I've used <a href="http://ohloh.net">Ohloh</a> to analyze the source code of all projects.
A simple Ohloh project called <a href="https://www.ohloh.net/p/hackfmi2013">HackFMI 2013</a>
enlists and tracks <a href="https://www.ohloh.net/p/hackfmi2013/enlistments">18</a>
different repositories as if they were one big project.
Not all teams had repositories and some didn't sent information back to me although
I asked them. Two projects sent me tarballs with their code, which I've pushed to GitHub
for the purpose of tracking stats.</p>
<p>Be aware however that Ohloh is known to produce inaccurate statistics for projects
with lots of code and short development history. Furthermore its
<a href="https://www.ohloh.net/p/hackfmi2013/estimated_cost">COCOMO</a> calculations
are wrong as well due to duplicate code,
not written during the hackathon such as jQuery or PHP libraries.</p>
<h2>The Stats</h2>
<p>During the weekend sprint <strong>759,453 lines of code</strong> were written by
<strong>56 contributors</strong> spread across <strong>768 commits</strong>.</p>
<p><img alt="&quot;HackFMI top contributors&quot;" src="/images/hackfmi/hackfmi2013_top_contributors.png" title="HackFMI top contributors" /></p>
<p>From the top 10 contributors 5 had Python as their primary language.
Which is to say Python developers have good development practices with Git.</p>
<p>None of the contributors (excluding myself) were recognized by Ohloh,
meaning either they have not contributed to any other open source project
or their contributors were not under their name or
they've used a different name/email combination. Whatever the case go
claim your contributions and track your kudos rank across the open source community. </p>
<p><strong>19 different</strong> programming languages 
<a href="https://www.ohloh.net/p/hackfmi2013/analyses/latest/languages_summary#dingus-row">were used</a>.</p>
<p><img alt="&quot;HackFMI top languages&quot;" src="/images/hackfmi/hackfmi2013_languages.png" title="HackFMI top languages" /></p>
<p>The most popular ones are XML, JavaScript, HTML, PHP, CSS and ActionScript. This is nearly 97%
of the source code. All the rest languages have been used under 1% per language.
The languages used are pretty standard and expected.</p>
<h2>Estimated Cost</h2>
<p>The <a href="https://www.ohloh.net/p/hackfmi2013/estimated_cost">estimated development cost</a>
is 205 person-years valued at $ 11,251,680. This is too high because of all duplicated
libraries and extra files tracked.</p>
<p>Ohloh allows files and directories to be excluded on per-repository basis.
I'd appreciate your help if you preview the projects and create the exclusion rules. Thanks!</p>
<p>The stats and repositories are public. If you manage to extract other interesting details
don't hesitate to share them in the comments.</p>
            <p class="post-meta">Posted by
                    <a href="http://atodorov.org/author/alexander-todorov.html">Alexander Todorov</a>
                 on Fri 19 April 2013
            </p>
<p>There are <a href="http://atodorov.org/blog/2013/04/19/hackfmi-code-stats/#disqus_thread">comments</a>.</p>        </div>

    <hr>
    <!-- Pager -->
    <ul class="pager">
        <li class="next">
                <a href="http://atodorov.org/category/_posts11.html">Older Posts &rarr;</a>
                <a href="http://atodorov.org/category/_posts9.html"> &larr; Newest Posts</a>
        </li>
    </ul>
    Page 10 / 13
    <hr>
            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="https://twitter.com/atodorov_">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/atodorov">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://bg.linkedin.com/in/alextodorov">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="http://feeds.feedburner.com/atodorov">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.youtube.com/playlist?list=PLFjlI7p-h1hxBP3cIjEqePSeoBDHud5Db">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-youtube fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="http://amzn.to/1ivu2q4">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-amazon fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="http://mrsenko.com/?utm_source=atodorov.org&utm_medium=blog&utm_campaign=social_icon">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-user-secret fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<section>
    <p>
        I am a QA contractor at Red Hat responsible for finding over
        <a href="/blog/2014/02/19/7-years-1400-bugs-red-hat-qa/">1600 bugs</a>,
        a general purpose open source developer, Red Hat Certified professional,
        cloud hacker and an entrepreneur! My latest start-up is
        <a href="http://mrsenko.com/?utm_source=atodorov.org&utm_medium=blog&utm_campaign=footer">Mr. Senko</a>!
    </p>
    <p>
        I am living in the <a href="http://planet.sofiavalley.com">Sofia Valley</a>
        which is emerging as a busy place for start-up founders and tech enthusiasts
        in Eastern Europe! You can find more about me <a href="/blog/2013/01/25/about-me/">here</a>.
    </p>
    <p>
        <small>
            <em>
                Some of the links contained within this site have my referral id (e.g.,
                <a target="_blank" href="http://www.amazon.com/ref=as_li_ss_tl?_encoding=UTF8&camp=1789&creative=390957&linkCode=ur2&tag=atodorovorg-20&linkId=L6Q34XAXQS5RDMOY">Amazon</a><img src="https://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=ur2&o=1" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />),
                which provides me with a small commission for each sale. Thank you for your support.
            </em>
        </small>
    </p>
</section>

<form action="http://google.com/search" method="get" style="width:300px;margin:0 auto;">
    <fieldset role="search">
        <input type="hidden" name="sitesearch" value="http://atodorov.org" />
        <input class="search" type="text" name="q" placeholder="Search" style="width:100%"/>
    </fieldset>
</form>

<p class="copyright text-muted">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">CC-BY-SA</a> &amp;
    <a rel="license" href="http://opensource.org/licenses/MIT">MIT</a>
    2011-2016 &diams; Alexander Todorov &diams;
    <a href="http://planet.sofiavalley.com">SofiaValley Blog</a>
</p>

<script type='text/javascript'>
window.__lo_site_id = 55936;
    (function() {
        var wa = document.createElement('script'); wa.type = 'text/javascript'; wa.async = true;
        wa.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://cdn') + '.luckyorange.com/w.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(wa, s);
      })();
</script>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="http://atodorov.org/theme/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="http://atodorov.org/theme/js/bootstrap.min.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37979549-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'atodorov';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>

</html>