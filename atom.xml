<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[atodorov.org - you can logoff, but you can never leave]]></title>
  <link href="http://atodorov.org/atom.xml" rel="self"/>
  <link href="http://atodorov.org/"/>
  <updated>2015-06-10T16:35:05+03:00</updated>
  <id>http://atodorov.org/</id>
  <author>
    <name><![CDATA[Alexander Todorov]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[DEVit Conf 2015 Impressions]]></title>
    <link href="http://atodorov.org/blog/2015/05/22/devit-conf-2015-impressions/"/>
    <updated>2015-05-22T12:01:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/05/22/devit-conf-2015-impressions</id>
    <content type="html"><![CDATA[<p>It&#8217;s been a busy week after <a href="http://devitconf.org/">DEVit conf</a> took place in
Thessaloniki. Here are my impressions.</p>

<p><img src="http://atodorov.org/images/devit2015.jpg" title="Crack, Train, Fix, Release" alt="Crack, Train, Fix, Release" /></p>

<h2>Sessions</h2>

<p>I&#8217;ve started the day with the session called &#8220;Crack, Train, Fix, Release&#8221; by
Chris Heilmann. While it was very interesting for some unknown reason I
was expecting a talk more closely related to software testing. Unfortunately at the
same time in the other room was a talk called &#8220;Integration Testing from the Trenches&#8221;
by Nicolas Frankel which I missed.</p>

<p>At the end Chris answered the question &#8220;What to do about old versions of IE ?&#8221;.
And the answer pretty much was &#8220;Don&#8217;t try to support everything, leave them with
basic functionality so that users can achieve what they came for on your website.
Don&#8217;t put nice buttons b/c IE 6 users are not used to nice things and they get confused.&#8221;</p>

<p>If you remember I had a similar question to Jeremy Keith at
<a href="http://atodorov.org/blog/2015/04/20/videos-from-bulgaria-web-summit-2015/">Bulgaria Web Summit</a> last month
and the answer was similar:</p>

<blockquote><p>Q: Which one is Jeremy&#8217;s favorite device/browser to develop for. <br/>A: Your approach is wrong and instead we should be thinking in terms of what features are <br/>essential or non-essential for our websites and develop around features<br/>(if supported, if not supported) not around browsers!</p></blockquote>


<p>Btw I did ask Chris if he knows Jeremy and he does.</p>

<p>After the coffee break there was &#8220;JavaScript â™¥ Unicode&#8221; by Mathias Bynens which
I saw last year at <a href="http://how.camp/">How Camp</a> in Veliko Tarnovo so I just stopped by
to say hi and went to listen to
&#8220;The future of responsive web design: web component queries&#8221; by Nikos Zinas.
As far as I understood Nikos is a local rock-star developer. I&#8217;m not much into web
development but the opportunity to create your own HTML components (tags) looks
very promising. I guess there will be more business coming for
<a href="http://telerik.com">Telerik</a> :).</p>

<p>I wanted to listen to &#8220;Live Productive Coder&#8221; by Heinz Kabutz but that one started
in Greek so I switched the room for
&#8220;iOS real time content modifications using websockets&#8221; by  Benny Weingarten-Gabbay.</p>

<p>After lunch I went straight for
&#8220;Introduction to Docker: What is it and why should I care?&#8221; by Ian Miell
which IMO was the most interesting talk of the day. It wasn&#8217;t very technical but
managed to clear some of the mysticism around Docker and what it actually is.
I tried to grab a few minutes of Ian&#8217;s time and we found topics of common interest
to talk about (<a href="http://www.projectatomic.io/">Project Atomic</a> anyone?) but later
failed to find him and continue the talk. I guess I&#8217;ll have to follow online.</p>

<p>Tim Perry with &#8220;Your Web Stack Would Betray You In An Instant&#8221; made a great show.
The room was packed, I myself was actually standing the whole time. He described a series
of failures across the entire web development stack which gave developers hard times
patching and upgrading their services. The lesson: everything fails, be prepared!</p>

<p>The last talk I visited was &#8220;GitHub Automation&#8221; by Forbes Lindesay. It was more of an
inspirational talk, rather than technical one. GitHub provides cool API so why not use it?</p>

<h2>Organization</h2>

<p><img src="http://atodorov.org/images/devit2015team.jpg" title="DEVit team" alt="DEVit team" /></p>

<p>From what I know this is the first year of DEVit. For a first timer the team did great!
I particularly liked the two coffee breaks before lunch and in the early afternoon and the
sponsors pitches in between the main talks.</p>

<p>All talks were recorded but I have no idea what&#8217;s happening with the videos!</p>

<p>I will definitely make a point of visiting Thessaloniki more often and follow the local
IT and start-up scenes there. And tonight is Silicon Drinkabout which will be the official
after party of <a href="http://digitalk.bg/">DigitalK</a> in Sofia.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Free Software Testing Books]]></title>
    <link href="http://atodorov.org/blog/2015/05/20/free-software-testing-books/"/>
    <updated>2015-05-20T11:35:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/05/20/free-software-testing-books</id>
    <content type="html"><![CDATA[<p>There&#8217;s a huge list of
<a href="https://github.com/ligurio/free-software-testing-books/blob/master/free-software-testing-books.md">free books</a>
on the topic of software testing. This will definitely be my summer reading list.
I hope you find it helpful.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Why does sysctl not write under /sys]]></title>
    <link href="http://atodorov.org/blog/2015/05/13/why-does-sysctl-not-write-under-slash-sys/"/>
    <updated>2015-05-13T12:34:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/05/13/why-does-sysctl-not-write-under-slash-sys</id>
    <content type="html"><![CDATA[<p>Recently I&#8217;ve been looking into
<a href="http://atodorov.org/blog/2015/04/30/fixing-tilde-and-function-keys-mapping-for-macbook-air-on-linux/">fixing tilde and Fn keys mapping for MacBook Air</a>
and thought I could use <code>sysctl</code> to permanently set the desired values. Unfortunately this is not
possible. <code>sysctl</code> can only write under <code>/proc/sys</code> and this is
<a href="https://gitlab.com/procps-ng/procps/blob/master/sysctl.c#L54">hard-coded in the source</a>:</p>

<pre><code>static const char PROC_PATH[] = "/proc/sys/";
</code></pre>

<p>IMO this is relatively easy to patch and allow sysctl to read/write values under /sys.
The only open question I see is backward compatibility - maybe adding new parameter (e.g. &#8211;sysfs)
or adding extended sytax e.g. if variable name starts with / then treat it as absolute path.</p>

<p>I&#8217;ve asked sysctl maintainers on the
<a href="http://www.freelists.org/post/procps/Can-we-make-sysctl-readwrite-sys-values-along-with-procsys">procps mailing list</a>
but so far got no answer.</p>

<p>Is anyone else interested in this? How do you set parameter values under /sys then ?</p>

<p><strong>NOTE:</strong> for my particular purposes I could have used config files under
<em>/etc/modprobe.d/</em> or a startup script (I used that) instead.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using USB to VGA Adapter on MacBook Air with Linux]]></title>
    <link href="http://atodorov.org/blog/2015/05/05/using-usb-to-vga-adapter-on-macbook-air-with-linux/"/>
    <updated>2015-05-05T14:02:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/05/05/using-usb-to-vga-adapter-on-macbook-air-with-linux</id>
    <content type="html"><![CDATA[<p>A quick solution for MacBook Air users running Linux who want to
use external projector is to use a USB to VGA adapter. Mine is
<a href="http://www.amazon.com/gp/product/B004AIJE9G/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B004AIJE9G&linkCode=as2&tag=atodorovorg-20&linkId=74W7KWXBGC7SZ5QH">Plugable UGA-165</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B004AIJE9G" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
and it works great with Red Hat Enterprise Linux 7.1.</p>

<p>After the device is plugged in the <em>udl</em> kernel module is loaded
and a new framebuffer device is created (/dev/fb1 in my case). Using
<em>mate-display-properties</em> I&#8217;m able to configure the 2nd monitor attached
to the USB video card. I was able to succeffully display an OpenOffice
presentation on the 2nd monitor and play YouTube video.</p>

<p>All USB 2.0 devices from Plugable should be well supported on Linux.
For USB 3.0 David Airlie from Red Hat is doing some reverse engineering
but I have no idea what the status is. For more info see:</p>

<ul>
<li><a href="http://plugable.com/2012/06/21/displaylink-usb-devices-on-linux-kernel-3-4-0">http://plugable.com/2012/06/21/displaylink-usb-devices-on-linux-kernel-3-4-0</a></li>
<li><a href="http://airlied.livejournal.com/80307.html">http://airlied.livejournal.com/80307.html</a></li>
<li><a href="http://airlied.livejournal.com/80516.html">http://airlied.livejournal.com/80516.html</a></li>
<li><a href="http://airlied.livejournal.com/80797.html">http://airlied.livejournal.com/80797.html</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Thunderbolt to Ethernet Adapter on Linux]]></title>
    <link href="http://atodorov.org/blog/2015/05/04/thunderbolt-to-ethernet-adapter-on-linux/"/>
    <updated>2015-05-04T22:27:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/05/04/thunderbolt-to-ethernet-adapter-on-linux</id>
    <content type="html"><![CDATA[<p>As it seems my
<a href="http://www.amazon.com/gp/product/B008ALA6DW/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B008ALA6DW&linkCode=as2&tag=atodorovorg-20&linkId=T2J6D7GIDMKNWLYV">Thunderbolt to gigabit Ethernet adapter</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B008ALA6DW" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
works with
<a href="http://atodorov.org/blog/2015/04/26/installing-red-hat-enterprise-linux-7-on-macbook-air-2015/">RHEL 7 on a MacBook Air</a>
despite some reports it may not.</p>

<p>After plugging the device is automatically recognized and the <em>tg3</em> driver is loaded.
Detailed <em>lspci</em> below:</p>

<pre><code>0a:00.0 Ethernet controller: Broadcom Corporation NetXtreme BCM57762 Gigabit Ethernet PCIe
    Subsystem: Apple Inc. Device 00f6
    Physical Slot: 9
    Flags: bus master, fast devsel, latency 0, IRQ 19
    Memory at cd800000 (64-bit, prefetchable) [size=64K]
    Memory at cd810000 (64-bit, prefetchable) [size=64K]
    [virtual] Expansion ROM at cd820000 [disabled] [size=64K]
    Capabilities: [48] Power Management version 3
    Capabilities: [50] Vital Product Data
    Capabilities: [58] MSI: Enable- Count=1/8 Maskable- 64bit+
    Capabilities: [a0] MSI-X: Enable+ Count=6 Masked-
    Capabilities: [ac] Express Endpoint, MSI 00
    Capabilities: [100] Advanced Error Reporting
    Capabilities: [13c] Device Serial Number 00-00-ac-87-a3-25-20-33
    Capabilities: [150] Power Budgeting &lt;?&gt;
    Capabilities: [160] Virtual Channel
    Capabilities: [1b0] Latency Tolerance Reporting
    Kernel driver in use: tg3
</code></pre>

<p>Unplugging and pluggin back in the network cable works as expected.
I did see my computer freeze 2 out of 10 times when I&#8217;ve unplugged the Thunderbolt
adapter but couldn&#8217;t reproduce it repliably or grab more info.</p>

<p>For the record this is with kernel 3.10.0-229.1.2.el7.x86_64 which is missing
this
<a href="https://git.kernel.org/cgit/linux/kernel/git/gregkh/char-misc.git/commit/?h=char-misc-next&amp;id=16603153666d22df544ae9f9b3764fd18da28eeb">upstream commit</a>.
I&#8217;m not sure why it works though.</p>

<p>If I remember correctly <em>tg3</em> is available during installation so you should
be able to use the Thunderbolt adapter instead of WiFi as well.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Compiling Twinkle SIP Phone on RHEL 7]]></title>
    <link href="http://atodorov.org/blog/2015/05/01/compiling-twinkle-sip-phone-on-rhel-7/"/>
    <updated>2015-05-01T15:04:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/05/01/compiling-twinkle-sip-phone-on-rhel-7</id>
    <content type="html"><![CDATA[<p>One of the best SIP clients for Linux is <a href="http://twinklephone.com/">Twinkle</a>.
However upstream is not active (or even maybe dead) and the package is missing from
latest Fedora releases and fails to build on RHEL 7.</p>

<p>First you need to build and install a few dependencies in the following order:
<a href="http://koji.fedoraproject.org/koji/packageinfo?packageID=8437">ucommon</a>,
<a href="http://koji.fedoraproject.org/koji/packageinfo?packageID=1443">ccrtp</a>,
<a href="http://koji.fedoraproject.org/koji/packageinfo?packageID=6408">libzrtpcpp</a>.
You will also need <a href="https://fedoraproject.org/wiki/EPEL">EPEL 7</a> enabled
to satisfy build dependencies.</p>

<p>Then apply the following patch to the original
<a href="http://koji.fedoraproject.org/koji/buildinfo?buildID=397914">twinkle.spec</a></p>

<pre><code>--- twinkle.spec.orig   2015-05-01 14:07:01.870710147 +0300
+++ twinkle.spec    2015-05-01 15:07:28.734734573 +0300
@@ -47,6 +47,8 @@

 %build
 export LDFLAGS=-lkio 
+export CPPFLAGS="$CPPFLAGS -I/usr/include/libzrtpcpp/" 
+%__autoconf
 %configure
 make %{?_smp_mflags}
</code></pre>

<p>The package now builds, installs and runs successfully on RHEL 7.
The compiled packages and dependencies are available in my
<a href="http://atodorov.org/blog/2015/04/29/rhel-7-repository-for-macbook-air/">Macbook Air RHEL 7 repository</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fixing Tilde and Function Keys Mapping for MacBook Air on Linux]]></title>
    <link href="http://atodorov.org/blog/2015/04/30/fixing-tilde-and-function-keys-mapping-for-macbook-air-on-linux/"/>
    <updated>2015-04-30T11:33:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/30/fixing-tilde-and-function-keys-mapping-for-macbook-air-on-linux</id>
    <content type="html"><![CDATA[<p>Thera are two problems with the MacBook Air keyboard on Linux:</p>

<p>Function keys and media keys are switched and by default you have to
press Fn+F5 in order to refresh a browser page. The
<a href="https://chaidarun.com/fedora-mbp">solution</a> is</p>

<pre><code>echo 2 &gt; /sys/module/hid_apple/parameters/fnmode
</code></pre>

<p>The tilde key is mapped improperly, see
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1025041#c2">RHBZ #1025041</a>.
To fix it</p>

<pre><code>echo 0 &gt; /sys/module/hid_apple/parameters/iso_layout
</code></pre>

<h2>Permanent fix</h2>

<p>Either you have to add the above commands in a boot script or you can
<code>yum install mba-kbd-fix</code> from my
<a href="http://atodorov.org/blog/2015/04/29/rhel-7-repository-for-macbook-air/">Macbook Air RHEL 7 repository</a>.
The RPM source can be found <a href="https://github.com/atodorov/mba-kbd-fix">here</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RHEL 7 Repository for MacBook Air]]></title>
    <link href="http://atodorov.org/blog/2015/04/29/rhel-7-repository-for-macbook-air/"/>
    <updated>2015-04-29T13:00:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/29/rhel-7-repository-for-macbook-air</id>
    <content type="html"><![CDATA[<p>I&#8217;ve made a repository with binary (x86_64 only) and source RPM packages which
are missing from Red Hat Enterprise Linux 7 and necessary when using a
MacBook Air. To install execute the commands below:</p>

<pre><code>cd /etc/yum.repos.d/
wget https://s3.amazonaws.com/atodorov/rpms/macbook/el7/rhel7-macbook.repo
</code></pre>

<h2>Wireless driver</h2>

<pre><code>yum install kmod-wl
</code></pre>

<h2>Display backlight driver</h2>

<pre><code>yum install kmod-mba6x_bl
</code></pre>

<p>And uncomment <code>/etc/X11/xorg.conf.d/98-mba_bl.conf</code>.</p>

<p><em>Note:</em> the .spec file is available from
<a href="https://github.com/patjak/mba6x_bl/pull/26">RP #26</a>.</p>

<h2>Fixing keyboard mapping</h2>

<pre><code>yum install mba-kbd-fix
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fixing Display Brightness on MacBook Air with RHEL 7]]></title>
    <link href="http://atodorov.org/blog/2015/04/29/fixing-display-brightness-on-macbook-air-with-rhel-7/"/>
    <updated>2015-04-29T12:14:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/29/fixing-display-brightness-on-macbook-air-with-rhel-7</id>
    <content type="html"><![CDATA[<p>One issue with RHEL/CentOS/Fedora on MacBook Air laptops is brightness control
and backlight behavior after suspend/resume. I&#8217;ve found the solution
<a href="http://mattoncloud.org/2014/02/05/fedora-20-on-a-macbook-air/">here</a>
and only tweaked it slightly for my use case.</p>

<h2>mba6x_bl doesn&#8217;t load automatically</h2>

<p>The reason being the driver matches older hardware:</p>

<pre><code>$ modinfo mba6x_bl
filename:       /lib/modules/3.10.0-229.1.2.el7.x86_64/extra/mba6x_bl/mba6x_bl.ko
alias:          dmi:*:pnMacBookAir6*
license:        GPL
description:    MacBook Air 6,1 and 6,2 backlight driver
author:         Patrik Jakobsson &lt;patrik.r.jakobsson@gmail.com&gt;
rhelversion:    7.1
srcversion:     4D069C8EB0E470AF27E7F8D
depends:        video
vermagic:       3.10.0-229.1.2.el7.x86_64 SMP mod_unload modversions 
</code></pre>

<p>My system is <strong>MacBookAir7,2</strong> and doesn&#8217;t match the module alias. So a
<a href="https://github.com/patjak/mba6x_bl/pull/25">quick fix</a> was needed.
For more info about <code>MODULE_ALIAS</code> see
<a href="https://wiki.archlinux.org/index.php/Modalias">ArchWiki</a>.
Alternatively on Red Hat based systems you can place a config file
under <code>/etc/sysconfig/modules</code>, see
<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Persistent_Module_Loading.html">the docs</a>
for more details.</p>

<h2>intel_backlight driver is in the way</h2>

<p>On older systems mba6x_bl doesn&#8217;t get used automatically. The problem is the offending
intel_backlight driver which gets used instead. To workaround it add this xorg.conf snippet:</p>

<pre><code>$ cat /etc/X11/xorg.conf.d/98-mba_bl.conf
Section "Device"
    Identifier      "Intel Graphics"
    Driver          "intel"
    Option          "Backlight"     "mba6x_backlight"
EndSection
</code></pre>

<p>For more info see <a href="https://bugzilla.redhat.com/show_bug.cgi?id=989555#c19">RHBZ 989555</a>.</p>

<h2>Everything in one go</h2>

<p>If you are using RHEL 7 or CentOS 7 (version 7.1 required) instead of Fedora you can take
a look at my <a href="http://atodorov.org/blog/2015/04/29/rhel-7-repository-for-macbook-air/">Macbook Air RHEL 7 repository</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Enable backspace Key to Navigate Back in Firefox]]></title>
    <link href="http://atodorov.org/blog/2015/04/27/how-to-enable-backspace-key-to-navigate-back-in-firefox/"/>
    <updated>2015-04-27T23:53:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/27/how-to-enable-backspace-key-to-navigate-back-in-firefox</id>
    <content type="html"><![CDATA[<p>Open <code>about:config</code> and set <code>browser.backspace_action</code> to 0.
For more information see <a href="http://kb.mozillazine.org/Browser.backspace_action">here</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Disabling MacBook Startup Sound in Linux]]></title>
    <link href="http://atodorov.org/blog/2015/04/27/disabling-macbook-startup-sound-in-linux/"/>
    <updated>2015-04-27T23:23:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/27/disabling-macbook-startup-sound-in-linux</id>
    <content type="html"><![CDATA[<p>There is an easy way to disable the MacBook startup sound
(boot chime) even after wiping out OS X and installing Linux.</p>

<p>This sound can be easily disabled if you mute the volume in OS X
and shutdown the computer. The value is stored in NVRAM.</p>

<ol>
<li>Reboot the computer and hold Cmd+Alt(Option)+R. This will start
OS X Internet recovery mode;</li>
<li><p>Open the terminal and issue the following command</p>

<pre><code> nvram SystemAudioVolume=%00
</code></pre></li>
<li><p>Reboot.</p></li>
</ol>


<p>Voila. In Linux try this:</p>

<pre><code># efivar -l | grep SystemAudioVolume
 7c436110-ab2a-4bbb-a880-fe41995c9f82-SystemAudioVolume
 7c436110-ab2a-4bbb-a880-fe41995c9f82-SystemAudioVolumeDB

# efivar -n 7c436110-ab2a-4bbb-a880-fe41995c9f82-SystemAudioVolume -p
GUID: 7c436110-ab2a-4bbb-a880-fe41995c9f82
Name: "SystemAudioVolume"
Attributes:
    Non-Volatile
    Boot Service Access
    Runtime Service Access
Value:
00000000  00                                                |.               |

# efivar -n 7c436110-ab2a-4bbb-a880-fe41995c9f82-SystemAudioVolumeDB -p
GUID: 7c436110-ab2a-4bbb-a880-fe41995c9f82
Name: "SystemAudioVolumeDB"
Attributes:
    Non-Volatile
    Boot Service Access
    Runtime Service Access
Value:
00000000  00 
#
</code></pre>

<p><strong>Note 1</strong>: Before disabling both variables had non zero values. Also <em>SystemAudioVolumeDB</em>
doesn&#8217;t seem to have any effect.</p>

<p><strong>Note 2:</strong> RHEL or CentOS users need to rebuild <em>efivar</em> from the
<a href="https://kojipkgs.fedoraproject.org//packages/efivar/0.14/1.fc22/src/efivar-0.14-1.fc22.src.rpm">Fedora src.rpm</a>.</p>

<p><strong>Note 3:</strong> several Internet sources suggest that writing EFI variables from Linux
may sometimes corrupt your Apple firmware. I didn&#8217;t research this any further. If you
happen to figure out how to successfully write to these variables under Linux please let
everyone know in the comments (in case OS X recovery mode goes missing, you know).</p>

<p>Thanks to my reader Alexander, who
<a href="http://atodorov.org/blog/2015/04/26/installing-red-hat-enterprise-linux-7-on-macbook-air-2015/#disqus_thread">gave me the hint</a>
in a previous blog post.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Compiling Broadcom wl-kmod WiFi Driver for RHEL 7]]></title>
    <link href="http://atodorov.org/blog/2015/04/27/compiling-broadcom-wl-kmod-wifi-driver-for-rhel-7/"/>
    <updated>2015-04-27T12:17:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/27/compiling-broadcom-wl-kmod-wifi-driver-for-rhel-7</id>
    <content type="html"><![CDATA[<p>After I got my
<a href="http://atodorov.org/blog/2015/04/26/installing-red-hat-enterprise-linux-7-on-macbook-air-2015/">MacBook Air installed with RHEL 7.1</a>
the first priority was getting wireless working.
First check if your device isn&#8217;t already supported
<a href="http://linuxwireless.org/en/users/Drivers/b43/#Supported_devices">upstream</a>. Mine isn&#8217;t</p>

<pre><code>14e4:43a0: Broadcom Corporation BCM4360 802.11ac Wireless Network Adapter (rev 03)
</code></pre>

<p>Next grab the src.rpm files necessary to build the <em>wl</em> driver from RPM Fusion.
For <code>akmods-0.5.2-1.fc21.src.rpm</code>, <code>broadcom-wl-6.30.223.248-2.fc21.src.rpm</code>,
<code>kmodtool-1-23.fc20.src.rpm</code> just execute <em>rpmbuild &#8211;rebuild</em> against each file
and install <code>kmodtool</code> and <code>akmods</code>.</p>

<p>Then you need two more files <code>buildsys-build-rpmfusion</code> and <code>wl-kmod</code>.
The first one is a helper tool containing list of recent kernels to build against,
the later one is the driver source itself. Both needed minor modifications before
building on RHEL 7.</p>

<p>I&#8217;ve created my own
<a href="https://github.com/atodorov/buildsys-build-rpmfusion-for-rhel7">buildsys-build-rpmfusion</a> package listing the current kernels
for RHEL 7.1. For <a href="https://github.com/atodorov/wl-kmod-for-rhel7">wl-kmod</a> I&#8217;ve introduced a
<a href="https://github.com/atodorov/wl-kmod-for-rhel7/blob/master/wl-kmod-100_redhat.patch">patch</a>
which modifies the other patches in the package so it builds correctly on 7.1.</p>

<p><strong>Note:</strong> I don&#8217;t know if there&#8217;s a define which can be used to detect if we&#8217;re building
on RHEL (maybe I can define my own) but direct kernel version number comparison doesn&#8217;t
work here because Red Hat backports chosen functionality from more recent kernels without
changing the version number. This approach may not be the best one but I&#8217;ve tried to keep it clean
for easier maintenance in the future and it got me started very quickly.</p>

<p>Build the modified buildsys-build-rpmfusion and:</p>

<pre><code>yum install buildsys-build-rpmfusion-7-1.x86_64.rpm buildsys-build-rpmfusion-kerneldevpkgs-current-7-1.x86_64.rpm
</code></pre>

<p>Build the wl-kmod package and:</p>

<pre><code>yum install akmod-wl-6.30.223.248-5.el7.x86_64.rpm broadcom-wl-6.30.223.248-2.el7.noarch.rpm kmod-wl-3.10.0-229.el7.x86_64-6.30.223.248-5.el7.x86_64.rpm kmod-wl-6.30.223.248-5.el7.x86_64.rpm
</code></pre>

<p>If necessary re-create your initramfs image to include <em>wl.ko</em>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Installing Red Hat Enterprise Linux 7 on MacBook Air 2015]]></title>
    <link href="http://atodorov.org/blog/2015/04/26/installing-red-hat-enterprise-linux-7-on-macbook-air-2015/"/>
    <updated>2015-04-26T20:33:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/26/installing-red-hat-enterprise-linux-7-on-macbook-air-2015</id>
    <content type="html"><![CDATA[<p>Recently I&#8217;ve upgraded to a new
<a href="http://www.amazon.com/gp/product/B00UGECEUY/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B00UGECEUY&linkCode=as2&tag=atodorovorg-20&linkId=3YENGI5TIYKEC5GM">MacBook Air</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B00UGECEUY" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
(13 inch, early 2015) laptop and luckily enough I&#8217;m running
Red Hat Enterprise Linux 7.1 on it. Here is how to install it.</p>

<h2>Prepare boot media</h2>

<p>The easiest method is to boot from a USB stick which holds
either the entire DVD or just boot.iso. Since I happened to find a 1GB only USB stick I
went for the boot.iso. <code>dd if=boot.iso of=/dev/sdb</code> is the only thing you need to prepare
the boot media.</p>

<h2>Initial boot</h2>

<p><img src="http://atodorov.org/images/mac/boot_menu.jpg" title="Mac boot menu" alt="Mac boot menu" /></p>

<p>While computer is booting hold the (left) Alt (Option) key to enter <em>Startup Manager</em>.
Wait a second or two before it displays your local hard drive and the USB boot media.
Select the option <em>EFI boot</em> to boot the anaconda installer.</p>

<h2>Installation</h2>

<p>Booting from a boot.iso means I need to use the network to grab the rest of the installation.
Because the wireless card needs proprietary drivers
I&#8217;ve tried both USB to Ethernet adapter and USB tethering with my phone.</p>

<p><strong>Note:</strong> initially I have forgotten to plug in my USB networking card which resulted in
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1191286">bug #1191286</a>. After cold-plugging and
rebooting the system everything was fine. Subsequently I don&#8217;t see any problems with the
USB networking card. The bug should be fixed in RHEL 7.2 btw.</p>

<p><strong>Note:</strong> I&#8217;ve been using a
<a href="http://www.amazon.com/gp/product/B002PONXAI/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B002PONXAI&linkCode=as2&tag=atodorovorg-20&linkId=N4KGQKYSBSDWMMM6">USB docking station from Plugable</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B002PONXAI" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
for years because their products are Linux friendly. In particular the networking chip is ASIX and
there is no problems with drivers for Linux.</p>

<p><strong>UPDATE 2015-05-04:</strong>
You should also be able to use a Thunderbolt to Ethernet adapter which is more
common for Apple users. <a href="http://atodorov.org/blog/2015/05/04/thunderbolt-to-ethernet-adapter-on-linux/">See here for more info</a>;</p>

<p>In my case I&#8217;ve wiped out the entire SSD disk b/c I don&#8217;t care about dual boot.
Previously I&#8217;ve heard about anaconda crashing while it tries to detect the Mac OS file system.
I&#8217;ve played around with Rawhide before going for RHEL 7.1 and didn&#8217;t see any problems related to
foreign filesystems.</p>

<p>I&#8217;ve gone with the default partitioning scheme while slightly modifing the partition sizes, etc.</p>

<h2>Post install</h2>

<p>There are several issues which still need attention. I didn&#8217;t have enough time in the last few
days to check these out:</p>

<p><strong>Things which work</strong></p>

<ul>
<li>GNOME 3 sucks big time. Fortunately I was able to install MATE Desktop from EPEL;</li>
<li>Wireless card needs drivers; I&#8217;ve managed to compile them myself,
<a href="http://atodorov.org/blog/2015/04/27/compiling-broadcom-wl-kmod-wifi-driver-for-rhel-7/">see here</a>;</li>
<li>Display brightness doesn&#8217;t seem to work at all. On top of that the display goes full black
after suspend-resume. I could barely see anything on it.
<a href="http://localhost:4000/blog/2015/04/29/fixing-display-brightness-on-macbook-air-with-rhel-7/">Fixed here</a>!</li>
<li>There is a very annoying boot chime <strike>which I have no idea how to disable</strike>
<a href="http://atodorov.org/blog/2015/04/27/disabling-macbook-startup-sound-in-linux/">Fixed here</a>;</li>
<li>The onboard keyboard is quite annoying for previous ThinkPad user like myself. Most
importantly I need to press Fn to activate the F1, F2, etc keys which I use a lot in mcedit.
<a href="http://atodorov.org/blog/2015/04/30/fixing-tilde-and-function-keys-mapping-for-macbook-air-on-linux/">Fixed here</a>;</li>
<li>Output sound works - both speakers and headphones;</li>
<li>Microphone works (tested with a hands free device);</li>
<li>Power manager was reporting my battery life totally wrong but after a full discharge/recharge
it seems to have calibrated itself;</li>
<li>ATrpms and EPEL are still missing some codecs for RHEL 7 which means no movies;
codecs seem to work now with the <a href="http://li.nux.ro/repos.html">NUX Desktop</a>
repos. Not sure what I was missing when testing it initially;</li>
<li><em>UPDATE 2015-05-04:</em> I do have a Thunderbolt to Ethernet adapter and hot-plug seems to work
despite claims that this is not supported in Linux.
<a href="http://atodorov.org/blog/2015/05/04/thunderbolt-to-ethernet-adapter-on-linux/">See here for more info</a>;</li>
<li><em>UPDATE 2015-05-05:</em> Presenting via external projector works with a USB to VGA adapter.
<a href="http://atodorov.org/blog/2015/05/05/using-usb-to-vga-adapter-on-macbook-air-with-linux/">See here</a>;</li>
</ul>


<p><strong>Things that don&#8217;t work yet</strong></p>

<ul>
<li><em>UPDATE 2015-04-30:</em> I&#8217;d like to remap the Cmd key to the Menu key found in PC keyboards;</li>
<li>Camera doesn&#8217;t work, reverse engineering a <a href="https://github.com/patjak/bcwc_pcie">driver</a>
is in progress;</li>
<li>I&#8217;m missing the <a href="http://www.thinkwiki.org/wiki/ThinkLight">ThinkLight</a> from my X220,
however the integrated Broadcom FaceTime HD camera doesn&#8217;t seem to have a LED flash
which can be repurposed for this task;</li>
<li>I need a CPU temperature monitor and maybe CPU fan speed needs adjustments;</li>
</ul>


<p><strong>UPDATE 2015-04-28:</strong>
Check the list above for links to wifi and backlight drivers and how to disable the boot chime.</p>

<p><strong>UPDATE 2015-04-29:</strong>
You can find precompiled RPMS in my
<a href="http://atodorov.org/blog/2015/04/29/rhel-7-repository-for-macbook-air/">Macbook Air RHEL 7 repository</a>.</p>

<p><strong>UPDATE 2015-04-30:</strong>
Added more links and split the list into stuff which already works and stuff that doesn&#8217;t.</p>

<p><strong>UPDATE 2015-05-04:</strong>
Added info about Thunderbolt to Ethernet adapter.</p>

<p><strong>UPDATE 2015-05-05:</strong>
Added info about USB to VGA adapter.</p>

<h2>Fedora 22 on MacBook Air</h2>

<p>I did try Fedora 22 Beta and experienced
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1215458">bug #1215458</a>.
Also for some reason the installation hit an error downloading a package and didn&#8217;t let me retry
but forced me to exit the process.</p>

<p>I&#8217;ll continue posting my updates until the system runs smoothly like it is supposed to.</p>

<h2>Hardware info</h2>

<p><strong>ADDED ON 2015-05-02</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
<span class='line-number'>282</span>
<span class='line-number'>283</span>
<span class='line-number'>284</span>
<span class='line-number'>285</span>
<span class='line-number'>286</span>
<span class='line-number'>287</span>
<span class='line-number'>288</span>
<span class='line-number'>289</span>
<span class='line-number'>290</span>
<span class='line-number'>291</span>
<span class='line-number'>292</span>
<span class='line-number'>293</span>
<span class='line-number'>294</span>
<span class='line-number'>295</span>
<span class='line-number'>296</span>
<span class='line-number'>297</span>
<span class='line-number'>298</span>
<span class='line-number'>299</span>
<span class='line-number'>300</span>
<span class='line-number'>301</span>
<span class='line-number'>302</span>
<span class='line-number'>303</span>
<span class='line-number'>304</span>
<span class='line-number'>305</span>
<span class='line-number'>306</span>
<span class='line-number'>307</span>
<span class='line-number'>308</span>
<span class='line-number'>309</span>
<span class='line-number'>310</span>
<span class='line-number'>311</span>
<span class='line-number'>312</span>
<span class='line-number'>313</span>
<span class='line-number'>314</span>
<span class='line-number'>315</span>
<span class='line-number'>316</span>
<span class='line-number'>317</span>
<span class='line-number'>318</span>
<span class='line-number'>319</span>
<span class='line-number'>320</span>
<span class='line-number'>321</span>
<span class='line-number'>322</span>
<span class='line-number'>323</span>
<span class='line-number'>324</span>
<span class='line-number'>325</span>
<span class='line-number'>326</span>
<span class='line-number'>327</span>
<span class='line-number'>328</span>
<span class='line-number'>329</span>
<span class='line-number'>330</span>
<span class='line-number'>331</span>
<span class='line-number'>332</span>
<span class='line-number'>333</span>
<span class='line-number'>334</span>
<span class='line-number'>335</span>
<span class='line-number'>336</span>
<span class='line-number'>337</span>
<span class='line-number'>338</span>
<span class='line-number'>339</span>
<span class='line-number'>340</span>
<span class='line-number'>341</span>
<span class='line-number'>342</span>
<span class='line-number'>343</span>
<span class='line-number'>344</span>
<span class='line-number'>345</span>
<span class='line-number'>346</span>
<span class='line-number'>347</span>
<span class='line-number'>348</span>
<span class='line-number'>349</span>
<span class='line-number'>350</span>
<span class='line-number'>351</span>
<span class='line-number'>352</span>
<span class='line-number'>353</span>
<span class='line-number'>354</span>
<span class='line-number'>355</span>
<span class='line-number'>356</span>
<span class='line-number'>357</span>
<span class='line-number'>358</span>
<span class='line-number'>359</span>
<span class='line-number'>360</span>
<span class='line-number'>361</span>
<span class='line-number'>362</span>
<span class='line-number'>363</span>
<span class='line-number'>364</span>
<span class='line-number'>365</span>
<span class='line-number'>366</span>
<span class='line-number'>367</span>
<span class='line-number'>368</span>
<span class='line-number'>369</span>
<span class='line-number'>370</span>
<span class='line-number'>371</span>
<span class='line-number'>372</span>
<span class='line-number'>373</span>
<span class='line-number'>374</span>
<span class='line-number'>375</span>
<span class='line-number'>376</span>
<span class='line-number'>377</span>
<span class='line-number'>378</span>
<span class='line-number'>379</span>
<span class='line-number'>380</span>
<span class='line-number'>381</span>
<span class='line-number'>382</span>
<span class='line-number'>383</span>
<span class='line-number'>384</span>
<span class='line-number'>385</span>
<span class='line-number'>386</span>
<span class='line-number'>387</span>
<span class='line-number'>388</span>
<span class='line-number'>389</span>
<span class='line-number'>390</span>
<span class='line-number'>391</span>
<span class='line-number'>392</span>
<span class='line-number'>393</span>
<span class='line-number'>394</span>
<span class='line-number'>395</span>
<span class='line-number'>396</span>
<span class='line-number'>397</span>
<span class='line-number'>398</span>
<span class='line-number'>399</span>
<span class='line-number'>400</span>
<span class='line-number'>401</span>
<span class='line-number'>402</span>
<span class='line-number'>403</span>
<span class='line-number'>404</span>
<span class='line-number'>405</span>
<span class='line-number'>406</span>
<span class='line-number'>407</span>
<span class='line-number'>408</span>
<span class='line-number'>409</span>
<span class='line-number'>410</span>
<span class='line-number'>411</span>
<span class='line-number'>412</span>
<span class='line-number'>413</span>
<span class='line-number'>414</span>
<span class='line-number'>415</span>
<span class='line-number'>416</span>
<span class='line-number'>417</span>
<span class='line-number'>418</span>
<span class='line-number'>419</span>
<span class='line-number'>420</span>
<span class='line-number'>421</span>
<span class='line-number'>422</span>
<span class='line-number'>423</span>
<span class='line-number'>424</span>
<span class='line-number'>425</span>
<span class='line-number'>426</span>
<span class='line-number'>427</span>
<span class='line-number'>428</span>
<span class='line-number'>429</span>
<span class='line-number'>430</span>
<span class='line-number'>431</span>
<span class='line-number'>432</span>
<span class='line-number'>433</span>
<span class='line-number'>434</span>
<span class='line-number'>435</span>
<span class='line-number'>436</span>
<span class='line-number'>437</span>
<span class='line-number'>438</span>
<span class='line-number'>439</span>
<span class='line-number'>440</span>
<span class='line-number'>441</span>
<span class='line-number'>442</span>
<span class='line-number'>443</span>
<span class='line-number'>444</span>
<span class='line-number'>445</span>
<span class='line-number'>446</span>
<span class='line-number'>447</span>
<span class='line-number'>448</span>
<span class='line-number'>449</span>
<span class='line-number'>450</span>
<span class='line-number'>451</span>
<span class='line-number'>452</span>
<span class='line-number'>453</span>
<span class='line-number'>454</span>
<span class='line-number'>455</span>
<span class='line-number'>456</span>
<span class='line-number'>457</span>
<span class='line-number'>458</span>
<span class='line-number'>459</span>
<span class='line-number'>460</span>
<span class='line-number'>461</span>
<span class='line-number'>462</span>
<span class='line-number'>463</span>
<span class='line-number'>464</span>
<span class='line-number'>465</span>
<span class='line-number'>466</span>
<span class='line-number'>467</span>
<span class='line-number'>468</span>
<span class='line-number'>469</span>
<span class='line-number'>470</span>
<span class='line-number'>471</span>
<span class='line-number'>472</span>
<span class='line-number'>473</span>
<span class='line-number'>474</span>
<span class='line-number'>475</span>
<span class='line-number'>476</span>
<span class='line-number'>477</span>
<span class='line-number'>478</span>
<span class='line-number'>479</span>
<span class='line-number'>480</span>
<span class='line-number'>481</span>
<span class='line-number'>482</span>
<span class='line-number'>483</span>
<span class='line-number'>484</span>
<span class='line-number'>485</span>
<span class='line-number'>486</span>
<span class='line-number'>487</span>
<span class='line-number'>488</span>
<span class='line-number'>489</span>
<span class='line-number'>490</span>
<span class='line-number'>491</span>
<span class='line-number'>492</span>
<span class='line-number'>493</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># dmidecode 
</span><span class='line'># dmidecode 2.12
</span><span class='line'># SMBIOS entry point at 0x8afae000
</span><span class='line'>SMBIOS 2.7 present.
</span><span class='line'>32 structures occupying 1663 bytes.
</span><span class='line'>Table at 0x8AFAD000.
</span><span class='line'>
</span><span class='line'>Handle 0x0000, DMI type 7, 19 bytes
</span><span class='line'>Cache Information
</span><span class='line'>    Socket Designation: L1 Cache
</span><span class='line'>    Configuration: Enabled, Not Socketed, Level 1
</span><span class='line'>    Operational Mode: Write Back
</span><span class='line'>    Location: Internal
</span><span class='line'>    Installed Size: 32 kB
</span><span class='line'>    Maximum Size: 32 kB
</span><span class='line'>    Supported SRAM Types:
</span><span class='line'>  Synchronous
</span><span class='line'>    Installed SRAM Type: Synchronous
</span><span class='line'>    Speed: Unknown
</span><span class='line'>    Error Correction Type: Parity
</span><span class='line'>    System Type: Data
</span><span class='line'>    Associativity: 8-way Set-associative
</span><span class='line'>
</span><span class='line'>Handle 0x0001, DMI type 7, 19 bytes
</span><span class='line'>Cache Information
</span><span class='line'>    Socket Designation: L1 Cache
</span><span class='line'>    Configuration: Enabled, Not Socketed, Level 1
</span><span class='line'>    Operational Mode: Write Back
</span><span class='line'>    Location: Internal
</span><span class='line'>    Installed Size: 32 kB
</span><span class='line'>    Maximum Size: 32 kB
</span><span class='line'>    Supported SRAM Types:
</span><span class='line'>  Synchronous
</span><span class='line'>    Installed SRAM Type: Synchronous
</span><span class='line'>    Speed: Unknown
</span><span class='line'>    Error Correction Type: Parity
</span><span class='line'>    System Type: Instruction
</span><span class='line'>    Associativity: 8-way Set-associative
</span><span class='line'>
</span><span class='line'>Handle 0x0002, DMI type 7, 19 bytes
</span><span class='line'>Cache Information
</span><span class='line'>    Socket Designation: L2 Cache
</span><span class='line'>    Configuration: Enabled, Not Socketed, Level 2
</span><span class='line'>    Operational Mode: Write Back
</span><span class='line'>    Location: Internal
</span><span class='line'>    Installed Size: 256 kB
</span><span class='line'>    Maximum Size: 256 kB
</span><span class='line'>    Supported SRAM Types:
</span><span class='line'>  Synchronous
</span><span class='line'>    Installed SRAM Type: Synchronous
</span><span class='line'>    Speed: Unknown
</span><span class='line'>    Error Correction Type: Single-bit ECC
</span><span class='line'>    System Type: Unified
</span><span class='line'>    Associativity: 8-way Set-associative
</span><span class='line'>
</span><span class='line'>Handle 0x0003, DMI type 7, 19 bytes
</span><span class='line'>Cache Information
</span><span class='line'>    Socket Designation: L3 Cache
</span><span class='line'>    Configuration: Enabled, Not Socketed, Level 3
</span><span class='line'>    Operational Mode: Write Back
</span><span class='line'>    Location: Internal
</span><span class='line'>    Installed Size: 4096 kB
</span><span class='line'>    Maximum Size: 4096 kB
</span><span class='line'>    Supported SRAM Types:
</span><span class='line'>  Synchronous
</span><span class='line'>    Installed SRAM Type: Synchronous
</span><span class='line'>    Speed: Unknown
</span><span class='line'>    Error Correction Type: Multi-bit ECC
</span><span class='line'>    System Type: Unified
</span><span class='line'>    Associativity: 16-way Set-associative
</span><span class='line'>
</span><span class='line'>Handle 0x0004, DMI type 4, 42 bytes
</span><span class='line'>Processor Information
</span><span class='line'>    Socket Designation: U3E1
</span><span class='line'>    Type: Central Processor
</span><span class='line'>    Family: Core i7
</span><span class='line'>    Manufacturer: Intel(R) Corporation
</span><span class='line'>    ID: D4 06 03 00 FF FB EB BF
</span><span class='line'>    Signature: Type 0, Family 6, Model 61, Stepping 4
</span><span class='line'>    Flags:
</span><span class='line'>  FPU (Floating-point unit on-chip)
</span><span class='line'>  VME (Virtual mode extension)
</span><span class='line'>  DE (Debugging extension)
</span><span class='line'>  PSE (Page size extension)
</span><span class='line'>  TSC (Time stamp counter)
</span><span class='line'>  MSR (Model specific registers)
</span><span class='line'>  PAE (Physical address extension)
</span><span class='line'>  MCE (Machine check exception)
</span><span class='line'>  CX8 (CMPXCHG8 instruction supported)
</span><span class='line'>  APIC (On-chip APIC hardware supported)
</span><span class='line'>  SEP (Fast system call)
</span><span class='line'>  MTRR (Memory type range registers)
</span><span class='line'>  PGE (Page global enable)
</span><span class='line'>  MCA (Machine check architecture)
</span><span class='line'>  CMOV (Conditional move instruction supported)
</span><span class='line'>  PAT (Page attribute table)
</span><span class='line'>  PSE-36 (36-bit page size extension)
</span><span class='line'>  CLFSH (CLFLUSH instruction supported)
</span><span class='line'>  DS (Debug store)
</span><span class='line'>  ACPI (ACPI supported)
</span><span class='line'>  MMX (MMX technology supported)
</span><span class='line'>  FXSR (FXSAVE and FXSTOR instructions supported)
</span><span class='line'>  SSE (Streaming SIMD extensions)
</span><span class='line'>  SSE2 (Streaming SIMD extensions 2)
</span><span class='line'>  SS (Self-snoop)
</span><span class='line'>  HTT (Multi-threading)
</span><span class='line'>  TM (Thermal monitor supported)
</span><span class='line'>  PBE (Pending break enabled)
</span><span class='line'>    Version: Intel(R) Core(TM) i7-5650U CPU @ 2.20GHz
</span><span class='line'>    Voltage: 1.0 V
</span><span class='line'>    External Clock: 25 MHz
</span><span class='line'>    Max Speed: 2200 MHz
</span><span class='line'>    Current Speed: 3100 MHz
</span><span class='line'>    Status: Populated, Enabled
</span><span class='line'>    Upgrade: &lt;OUT OF SPEC>
</span><span class='line'>    L1 Cache Handle: 0x0001
</span><span class='line'>    L2 Cache Handle: 0x0002
</span><span class='line'>    L3 Cache Handle: 0x0003
</span><span class='line'>    Serial Number:  
</span><span class='line'>    Asset Tag:  
</span><span class='line'>    Part Number:  
</span><span class='line'>    Core Count: 2
</span><span class='line'>    Core Enabled: 2
</span><span class='line'>    Thread Count: 4
</span><span class='line'>    Characteristics:
</span><span class='line'>  64-bit capable
</span><span class='line'>  Multi-Core
</span><span class='line'>  Hardware Thread
</span><span class='line'>  Execute Protection
</span><span class='line'>  Enhanced Virtualization
</span><span class='line'>  Power/Performance Control
</span><span class='line'>
</span><span class='line'>Handle 0x0005, DMI type 0, 24 bytes
</span><span class='line'>BIOS Information
</span><span class='line'>    Vendor: Apple Inc.
</span><span class='line'>    Version: MBA71.88Z.0166.B00.1502131457
</span><span class='line'>    Release Date: 02/13/2015
</span><span class='line'>    ROM Size: 8192 kB
</span><span class='line'>    Characteristics:
</span><span class='line'>  PCI is supported
</span><span class='line'>  BIOS is upgradeable
</span><span class='line'>  BIOS shadowing is allowed
</span><span class='line'>  Boot from CD is supported
</span><span class='line'>  Selectable boot is supported
</span><span class='line'>  ACPI is supported
</span><span class='line'>  Smart battery is supported
</span><span class='line'>  Function key-initiated network boot is supported
</span><span class='line'>  UEFI is supported
</span><span class='line'>    BIOS Revision: 0.1
</span><span class='line'>
</span><span class='line'>Handle 0x0006, DMI type 1, 27 bytes
</span><span class='line'>System Information
</span><span class='line'>    Manufacturer: Apple Inc.
</span><span class='line'>    Product Name: MacBookAir7,2
</span><span class='line'>    Version: 1.0
</span><span class='line'>    Serial Number: C1MPF52YG944
</span><span class='line'>    UUID: 25EF0280-EC82-42B0-8FB6-10ADCCC67C02
</span><span class='line'>    Wake-up Type: Power Switch
</span><span class='line'>    SKU Number: System SKU#
</span><span class='line'>    Family: Mac
</span><span class='line'>
</span><span class='line'>Handle 0x0007, DMI type 2, 17 bytes
</span><span class='line'>Base Board Information
</span><span class='line'>    Manufacturer: Apple Inc.
</span><span class='line'>    Product Name: Mac-937CB26E2E02BB01
</span><span class='line'>    Version: MacBookAir7,2
</span><span class='line'>    Serial Number: C07511704VSG92GA1
</span><span class='line'>    Asset Tag: Base Board Asset Tag#
</span><span class='line'>    Features:
</span><span class='line'>  Board is a hosting board
</span><span class='line'>    Location In Chassis: Part Component
</span><span class='line'>    Chassis Handle: 0x0008
</span><span class='line'>    Type: Motherboard
</span><span class='line'>    Contained Object Handles: 0
</span><span class='line'>
</span><span class='line'>Handle 0x0008, DMI type 3, 24 bytes
</span><span class='line'>Chassis Information
</span><span class='line'>    Manufacturer: Apple Inc.
</span><span class='line'>    Type: Laptop
</span><span class='line'>    Lock: Not Present
</span><span class='line'>    Version: Mac-937CB26E2E02BB01
</span><span class='line'>    Serial Number: C1MPF52YG944
</span><span class='line'>    Asset Tag: Chassis Board Asset Tag#
</span><span class='line'>    Boot-up State: Safe
</span><span class='line'>    Power Supply State: Safe
</span><span class='line'>    Thermal State: Safe
</span><span class='line'>    Security Status: None
</span><span class='line'>    OEM Information: 0x00000000
</span><span class='line'>    Height: Unspecified
</span><span class='line'>    Number Of Power Cords: Unspecified
</span><span class='line'>    Contained Elements: 0
</span><span class='line'>    SKU Number: Not Specified
</span><span class='line'>
</span><span class='line'>Handle 0x0009, DMI type 8, 9 bytes
</span><span class='line'>Port Connector Information
</span><span class='line'>    Internal Reference Designator: Not Specified
</span><span class='line'>    Internal Connector Type: None
</span><span class='line'>    External Reference Designator: USB0
</span><span class='line'>    External Connector Type: Access Bus (USB)
</span><span class='line'>    Port Type: USB
</span><span class='line'>
</span><span class='line'>Handle 0x000A, DMI type 8, 9 bytes
</span><span class='line'>Port Connector Information
</span><span class='line'>    Internal Reference Designator: Not Specified
</span><span class='line'>    Internal Connector Type: None
</span><span class='line'>    External Reference Designator: USB1
</span><span class='line'>    External Connector Type: Access Bus (USB)
</span><span class='line'>    Port Type: USB
</span><span class='line'>
</span><span class='line'>Handle 0x000B, DMI type 8, 9 bytes
</span><span class='line'>Port Connector Information
</span><span class='line'>    Internal Reference Designator: Not Specified
</span><span class='line'>    Internal Connector Type: None
</span><span class='line'>    External Reference Designator: Audio Line In
</span><span class='line'>    External Connector Type: Mini Jack (headphones)
</span><span class='line'>    Port Type: Audio Port
</span><span class='line'>
</span><span class='line'>Handle 0x000C, DMI type 8, 9 bytes
</span><span class='line'>Port Connector Information
</span><span class='line'>    Internal Reference Designator: Not Specified
</span><span class='line'>    Internal Connector Type: None
</span><span class='line'>    External Reference Designator: Thunderbolt
</span><span class='line'>    External Connector Type: None
</span><span class='line'>    Port Type: Other
</span><span class='line'>
</span><span class='line'>Handle 0x000D, DMI type 8, 9 bytes
</span><span class='line'>Port Connector Information
</span><span class='line'>    Internal Reference Designator: Microphone
</span><span class='line'>    Internal Connector Type: Other
</span><span class='line'>    External Reference Designator: Not Specified
</span><span class='line'>    External Connector Type: None
</span><span class='line'>    Port Type: None
</span><span class='line'>
</span><span class='line'>Handle 0x000E, DMI type 8, 9 bytes
</span><span class='line'>Port Connector Information
</span><span class='line'>    Internal Reference Designator: Speaker
</span><span class='line'>    Internal Connector Type: Other
</span><span class='line'>    External Reference Designator: Not Specified
</span><span class='line'>    External Connector Type: None
</span><span class='line'>    Port Type: None
</span><span class='line'>
</span><span class='line'>Handle 0x000F, DMI type 41, 11 bytes
</span><span class='line'>Onboard Device
</span><span class='line'>    Reference Designation: Integrated Video Controller
</span><span class='line'>    Type: Video
</span><span class='line'>    Status: Enabled
</span><span class='line'>    Type Instance: 1
</span><span class='line'>    Bus Address: 0000:00:00.0
</span><span class='line'>
</span><span class='line'>Handle 0x0010, DMI type 41, 11 bytes
</span><span class='line'>Onboard Device
</span><span class='line'>    Reference Designation: Azalia Audio Codec
</span><span class='line'>    Type: Sound
</span><span class='line'>    Status: Enabled
</span><span class='line'>    Type Instance: 1
</span><span class='line'>    Bus Address: 0000:00:00.0
</span><span class='line'>
</span><span class='line'>Handle 0x0011, DMI type 41, 11 bytes
</span><span class='line'>Onboard Device
</span><span class='line'>    Reference Designation: SATA
</span><span class='line'>    Type: SATA Controller
</span><span class='line'>    Status: Enabled
</span><span class='line'>    Type Instance: 1
</span><span class='line'>    Bus Address: 0000:00:00.0
</span><span class='line'>
</span><span class='line'>Handle 0x0012, DMI type 13, 22 bytes
</span><span class='line'>BIOS Language Information
</span><span class='line'>    Language Description Format: Abbreviated
</span><span class='line'>    Installable Languages: 1
</span><span class='line'>  en
</span><span class='line'>    Currently Installed Language: en
</span><span class='line'>
</span><span class='line'>Handle 0x0013, DMI type 22, 26 bytes
</span><span class='line'>Portable Battery
</span><span class='line'>    Location: Not Specified
</span><span class='line'>    Manufacturer: Not Specified
</span><span class='line'>    Name: Not Specified
</span><span class='line'>    Design Capacity: Unknown
</span><span class='line'>    Design Voltage: Unknown
</span><span class='line'>    SBDS Version: Not Specified
</span><span class='line'>    Maximum Error: 0%
</span><span class='line'>    SBDS Serial Number: 0000
</span><span class='line'>    SBDS Manufacture Date: 1980-00-00
</span><span class='line'>    SBDS Chemistry: Not Specified
</span><span class='line'>    OEM-specific Information: 0x00000000
</span><span class='line'>
</span><span class='line'>Handle 0x0014, DMI type 32, 11 bytes
</span><span class='line'>System Boot Information
</span><span class='line'>    Status: No errors detected
</span><span class='line'>
</span><span class='line'>Handle 0x0015, DMI type 131, 6 bytes
</span><span class='line'>OEM-specific Type
</span><span class='line'>    Header and Data:
</span><span class='line'>  83 06 15 00 06 07
</span><span class='line'>
</span><span class='line'>Handle 0x0016, DMI type 133, 12 bytes
</span><span class='line'>OEM-specific Type
</span><span class='line'>    Header and Data:
</span><span class='line'>  85 0C 16 00 02 00 00 00 00 00 00 00
</span><span class='line'>
</span><span class='line'>Handle 0x0017, DMI type 128, 88 bytes
</span><span class='line'>OEM-specific Type
</span><span class='line'>    Header and Data:
</span><span class='line'>  80 58 17 00 03 00 00 00 36 F5 03 FC 3F FF 03 FC
</span><span class='line'>  02 00 03 00 00 00 00 00 00 00 99 FF FF FF AF FF
</span><span class='line'>  00 00 B0 FF FF FF D4 FF 00 00 D7 FF FF FF D9 FF
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00
</span><span class='line'>
</span><span class='line'>Handle 0x0018, DMI type 134, 20 bytes
</span><span class='line'>OEM-specific Type
</span><span class='line'>    Header and Data:
</span><span class='line'>  86 14 18 00 32 2E 32 37 46 30 31 00 00 00 00 00
</span><span class='line'>  00 00 00 00
</span><span class='line'>
</span><span class='line'>Handle 0x0019, DMI type 16, 23 bytes
</span><span class='line'>Physical Memory Array
</span><span class='line'>    Location: System Board Or Motherboard
</span><span class='line'>    Use: System Memory
</span><span class='line'>    Error Correction Type: None
</span><span class='line'>    Maximum Capacity: 8 GB
</span><span class='line'>    Error Information Handle: Not Provided
</span><span class='line'>    Number Of Devices: 2
</span><span class='line'>
</span><span class='line'>Handle 0x001A, DMI type 17, 34 bytes
</span><span class='line'>Memory Device
</span><span class='line'>    Array Handle: 0x0019
</span><span class='line'>    Error Information Handle: Not Provided
</span><span class='line'>    Total Width: 64 bits
</span><span class='line'>    Data Width: 64 bits
</span><span class='line'>    Size: 4096 MB
</span><span class='line'>    Form Factor: SODIMM
</span><span class='line'>    Set: None
</span><span class='line'>    Locator: DIMM0
</span><span class='line'>    Bank Locator: BANK 0
</span><span class='line'>    Type: DDR3
</span><span class='line'>    Type Detail: Synchronous
</span><span class='line'>    Speed: 1600 MHz
</span><span class='line'>    Manufacturer: 0x80AD
</span><span class='line'>    Serial Number: 0x00000000
</span><span class='line'>    Asset Tag: Not Specified
</span><span class='line'>    Part Number: 0x483943434E4E4E384A544D4C41522D4E544D
</span><span class='line'>    Rank: Unknown
</span><span class='line'>    Configured Clock Speed: 1600 MHz
</span><span class='line'>
</span><span class='line'>Handle 0x001B, DMI type 130, 186 bytes
</span><span class='line'>OEM-specific Type
</span><span class='line'>    Header and Data:
</span><span class='line'>  82 BA 1B 00 1A 00 00 00 B0 00 91 20 F1 03 04 12
</span><span class='line'>  05 0A 03 11 01 08 0A 00 00 01 78 78 90 50 90 11
</span><span class='line'>  50 E0 10 04 3C 3C 01 90 00 00 00 00 00 00 00 00
</span><span class='line'>  00 A8 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80
</span><span class='line'>  AD 01 00 00 00 00 00 00 57 FB 48 39 43 43 4E 4E
</span><span class='line'>  4E 38 4A 54 4D 4C 41 52 2D 4E 54 4D 00 00 80 AD
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00
</span><span class='line'>
</span><span class='line'>Handle 0x001C, DMI type 17, 34 bytes
</span><span class='line'>Memory Device
</span><span class='line'>    Array Handle: 0x0019
</span><span class='line'>    Error Information Handle: Not Provided
</span><span class='line'>    Total Width: 64 bits
</span><span class='line'>    Data Width: 64 bits
</span><span class='line'>    Size: 4096 MB
</span><span class='line'>    Form Factor: SODIMM
</span><span class='line'>    Set: None
</span><span class='line'>    Locator: DIMM0
</span><span class='line'>    Bank Locator: BANK 1
</span><span class='line'>    Type: DDR3
</span><span class='line'>    Type Detail: Synchronous
</span><span class='line'>    Speed: 1600 MHz
</span><span class='line'>    Manufacturer: 0x80AD
</span><span class='line'>    Serial Number: 0x00000000
</span><span class='line'>    Asset Tag: Not Specified
</span><span class='line'>    Part Number: 0x483943434E4E4E384A544D4C41522D4E544D
</span><span class='line'>    Rank: Unknown
</span><span class='line'>    Configured Clock Speed: 1600 MHz
</span><span class='line'>
</span><span class='line'>Handle 0x001D, DMI type 130, 186 bytes
</span><span class='line'>OEM-specific Type
</span><span class='line'>    Header and Data:
</span><span class='line'>  82 BA 1D 00 1C 00 00 00 B0 00 91 20 F1 03 04 12
</span><span class='line'>  05 0A 03 11 01 08 0A 00 00 01 78 78 90 50 90 11
</span><span class='line'>  50 E0 10 04 3C 3C 01 90 00 00 00 00 00 00 00 00
</span><span class='line'>  00 A8 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80
</span><span class='line'>  AD 01 00 00 00 00 00 00 57 FB 48 39 43 43 4E 4E
</span><span class='line'>  4E 38 4A 54 4D 4C 41 52 2D 4E 54 4D 00 00 80 AD
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
</span><span class='line'>  00 00 00 00 00 00 00 00 00 00
</span><span class='line'>
</span><span class='line'>Handle 0x001E, DMI type 19, 31 bytes
</span><span class='line'>Memory Array Mapped Address
</span><span class='line'>    Starting Address: 0x0000000000000000k
</span><span class='line'>    Ending Address: 0x00000001FFFFFFFFk
</span><span class='line'>    Range Size: 8 GB
</span><span class='line'>    Physical Array Handle: 0x0019
</span><span class='line'>    Partition Width: 0
</span><span class='line'>
</span><span class='line'>Handle 0xFEFF, DMI type 127, 4 bytes
</span><span class='line'>End Of Table
</span><span class='line'>
</span><span class='line'># uname -a
</span><span class='line'>Linux aero 3.10.0-229.1.2.el7.x86_64 #1 SMP Fri Mar 6 17:12:08 EST 2015 x86_64 x86_64 x86_64 GNU/Linux
</span><span class='line'>
</span><span class='line'># lsusb
</span><span class='line'>Bus 001 Device 002: ID 0a5c:4500 Broadcom Corp. BCM2046B1 USB 2.0 Hub (part of BCM2046 Bluetooth)
</span><span class='line'>Bus 001 Device 003: ID 05ac:0291 Apple, Inc. 
</span><span class='line'>Bus 002 Device 002: ID 05ac:8406 Apple, Inc. 
</span><span class='line'>Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</span><span class='line'>Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
</span><span class='line'>Bus 001 Device 006: ID 05ac:828f Apple, Inc. 
</span><span class='line'>
</span><span class='line'># lspci
</span><span class='line'>00:00.0 Host bridge: Intel Corporation Broadwell-U Host Bridge -OPI (rev 09)
</span><span class='line'>00:02.0 VGA compatible controller: Intel Corporation Broadwell-U Integrated Graphics (rev 09)
</span><span class='line'>00:03.0 Audio device: Intel Corporation Broadwell-U Audio Controller (rev 09)
</span><span class='line'>00:14.0 USB controller: Intel Corporation Wildcat Point-LP USB xHCI Controller (rev 03)
</span><span class='line'>00:16.0 Communication controller: Intel Corporation Wildcat Point-LP MEI Controller #1 (rev 03)
</span><span class='line'>00:1b.0 Audio device: Intel Corporation Wildcat Point-LP High Definition Audio Controller (rev 03)
</span><span class='line'>00:1c.0 PCI bridge: Intel Corporation Wildcat Point-LP PCI Express Root Port #1 (rev e3)
</span><span class='line'>00:1c.1 PCI bridge: Intel Corporation Wildcat Point-LP PCI Express Root Port #2 (rev e3)
</span><span class='line'>00:1c.2 PCI bridge: Intel Corporation Wildcat Point-LP PCI Express Root Port #3 (rev e3)
</span><span class='line'>00:1c.4 PCI bridge: Intel Corporation Wildcat Point-LP PCI Express Root Port #5 (rev e3)
</span><span class='line'>00:1c.5 PCI bridge: Intel Corporation Wildcat Point-LP PCI Express Root Port #6 (rev e3)
</span><span class='line'>00:1f.0 ISA bridge: Intel Corporation Wildcat Point-LP LPC Controller (rev 03)
</span><span class='line'>00:1f.3 SMBus: Intel Corporation Wildcat Point-LP SMBus Controller (rev 03)
</span><span class='line'>00:1f.6 Signal processing controller: Intel Corporation Wildcat Point-LP Thermal Management Controller (rev 03)
</span><span class='line'>02:00.0 Multimedia controller: Broadcom Corporation 720p FaceTime HD Camera
</span><span class='line'>03:00.0 Network controller: Broadcom Corporation BCM4360 802.11ac Wireless Network Adapter (rev 03)
</span><span class='line'>04:00.0 SATA controller: Samsung Electronics Co Ltd Device a801 (rev 01)
</span><span class='line'>
</span><span class='line'># efivar --list
</span><span class='line'>605dab50-e046-4300-abb6-3dd810dd8b23-MokListRT
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-BootCurrent
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-ErrOutDev
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-ConOutDev
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-gfx-saved-config-restore-status
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-LangCodes
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-BootCampProcessorPstates
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-SSN
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-GR_CAUSE
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-FirmwareFeatures
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-FirmwareFeaturesMask
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-HW_ICT
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-HW_MLB
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-MLB
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-HW_ROM
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-ROM
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-HW_BID
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-HardwareBootMode
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-BBIF
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-ConOut
</span><span class='line'>eb704011-1402-11d3-8e77-00a0c969723b-MTC
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-SystemAudioVolume
</span><span class='line'>36c28ab5-6566-4c50-9ebd-cbb920f83843-current-network
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-current-network
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-SystemAudioVolumeDB
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-boot-gamma
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-backlight-level
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-BootOrder
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-Boot0001
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-Boot0000
</span><span class='line'>4d1ede05-38c7-4a6a-9cc6-4bcca8b38c14-AAPL,PathProperties0000
</span><span class='line'>8d63d4fe-bd3c-4aad-881d-86fd974bc1df-last-oslogin-ident
</span><span class='line'>36c28ab5-6566-4c50-9ebd-cbb920f83843-preferred-count
</span><span class='line'>36c28ab5-6566-4c50-9ebd-cbb920f83843-preferred-networks
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-fmm-computer-name
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-LocationServicesEnabled
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-efi-boot-device
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-efi-boot-device-data
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-Boot0080
</span><span class='line'>af9ffd67-ec10-488a-9dfc-6cbf5ee22c2e-AcpiGlobalVariable
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-bluetoothActiveControllerInfo
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-bluetoothInternalControllerInfo
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-fpf_provisioned
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-epid_provisioned
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-BootFFFF
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-Lang
</span><span class='line'>7c436110-ab2a-4bbb-a880-fe41995c9f82-ALS_Data
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-MemoryConfih
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-MemoryConfig
</span><span class='line'>8be4df61-93ca-11d2-aa0d-00e098032b8c-Timeout
</span><span class='line'>05299c28-3953-4a5f-b7d8-f6c6a7150b2a-SetupDefaults
</span><span class='line'>4dfbbaab-1392-4fde-abb8-c41cc5ad7d5d-Setup</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Videos from Bulgaria Web Summit 2015]]></title>
    <link href="http://atodorov.org/blog/2015/04/20/videos-from-bulgaria-web-summit-2015/"/>
    <updated>2015-04-20T10:45:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/20/videos-from-bulgaria-web-summit-2015</id>
    <content type="html"><![CDATA[<p><img src="http://atodorov.org/images/bgws2015.jpg" title="We're full" alt="We're full" /></p>

<p><a href="http://bulgariawebsummit.com">Bulgaria Web Summit</a> 2015 is over. The event was
incredible and I had a lot of fun moderating the main room. We had many people
coming from other countries and I&#8217;ve made lots of new friends.
Thank you to everyone who attended!</p>

<p>You can find video recordings of all talks in the main room (in order of appearance) below:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/3THnzZCI4sw?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/LtgPnYkEj3E?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/4IFyMSvoy-c?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/ZGLKZSnCIUU?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/GBv4QWFDETY?rel=0" frameborder="0" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/DhnsmsvSG7w?rel=0" frameborder="0" allowfullscreen></iframe>


<p>Hope to see you next time in Sofia!</p>

<p>Mean while I learned about <a href="http://devitconf.org/">DEVit</a> in Thessaloniki in May and another one in Zagreb in October.
See you there :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Find if LVM Volume is Thinly Provisioned]]></title>
    <link href="http://atodorov.org/blog/2015/04/14/how-to-find-if-lvm-volume-is-thinly-provisioned/"/>
    <updated>2015-04-14T15:40:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/14/how-to-find-if-lvm-volume-is-thinly-provisioned</id>
    <content type="html"><![CDATA[<p>The latest versions of Red Hat Enterprise Linux, CentOS and Fedora all
support LVM thin provisioning. Here&#8217;s how to tell if a logical volume
has been thinly provisioned or not.</p>

<p>Using <code>lvs</code> to display volume information look under the <em>Attr</em> column.
Attribute values have the following meaning:</p>

<blockquote><p>The lv_attr bits are:</p><p>1  Volume type: (C)ache, (m)irrored, (M)irrored without initial sync, (o)rigin,<br/>(O)rigin  with  merging  snapshot, (r)aid,  (R)aid  without  initial  sync,<br/>(s)napshot,  merging  (S)napshot, (p)vmove, (v)irtual, mirror or raid (i)mage,<br/>mirror or raid (I)mage out-of-sync, mirror (l)og device, under  (c)onversion,<br/>thin  (V)olume,  (t)hin pool, (T)hin pool data, raid or pool m(e)tadata or<br/>pool metadata spare.</p></blockquote>


<p>This is how <code>lvs</code> looks like when you have a regular LVM setup:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># lvs
</span><span class='line'>  LV   VG              Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span><span class='line'>  root rhel_dhcp70-183 -wi-ao---- 17,47g                                                    
</span><span class='line'>  swap rhel_dhcp70-183 -wi-ao----  2,00g</span></code></pre></td></tr></table></div></figure>


<p>When using LVM thin provisioning you&#8217;re looking for the left-most attribute bit
to be V, t or T. Here&#8217;s an example:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># lvs
</span><span class='line'>  LV     VG              Attr       LSize  Pool   Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span><span class='line'>  pool00 rhel_dhcp71-101 twi-aotz-- 14,55g               7,52   3,86                            
</span><span class='line'>  root   rhel_dhcp71-101 Vwi-aotz-- 14,54g pool00        7,53                                   
</span><span class='line'>  swap   rhel_dhcp71-101 -wi-ao----  2,00g</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tip: Linux-IO default LUN is 0 instead of 1]]></title>
    <link href="http://atodorov.org/blog/2015/04/08/tip-linux-io-default-lun-is-0-instead-of-1/"/>
    <updated>2015-04-08T15:09:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/08/tip-linux-io-default-lun-is-0-instead-of-1</id>
    <content type="html"><![CDATA[<p>I&#8217;ve been testing iBFT in KVM which worked quite well with a RHEL 6 iSCSI target
and failed miserably when I switched to RHEL 7 iSCSI target.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>iPXE> dhcp net0
</span><span class='line'>DHCP (net0 52:54:00:12:34:56)... ok
</span><span class='line'>iPXE> set keep-san 1
</span><span class='line'>iPXE> sanboot iscsi:10.0.0.1:::1:iqn.2015-05.com.example:target1
</span><span class='line'>Could not open SAN device: Input/output error (http://ipxe.org/1d704539)
</span><span class='line'>iPXE></span></code></pre></td></tr></table></div></figure>


<p>The <a href="http://ipxe.org/err/1d7045">error page</a> says</p>

<blockquote><p>Note that the default configuration when Linux is the target is for the disk to be LUN 1.</p></blockquote>


<p>Well this is not true for Linux-IO (targetcli). <strong>The default LUN is 0!</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>iPXE> sanboot iscsi:10.0.0.1:::0:iqn.2015-05.com.example:target1
</span><span class='line'>Registered SAN device 0x80
</span><span class='line'>Booting from SAN device 0x80</span></code></pre></td></tr></table></div></figure>


<p>Kudos to Bruno Goncalves from Red Hat in helping me debug this issue!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Configure targetcli to Listen on IPv4 and IPv6]]></title>
    <link href="http://atodorov.org/blog/2015/04/08/how-to-configure-targetcli-to-listen-on-ipv4-and-ipv6/"/>
    <updated>2015-04-08T11:46:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/08/how-to-configure-targetcli-to-listen-on-ipv4-and-ipv6</id>
    <content type="html"><![CDATA[<p>In order to configure <em>targetcli</em> to listen on both IPv4 and IPv6 one has to
delete the default IPv4 portal configuration and replace it with IPv6 instead.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># targetcli 
</span><span class='line'>/>
</span><span class='line'>/> cd iscsi/iqn.2015-04.com.example:target1/tpg1/portals
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> ls
</span><span class='line'>o- portals ............................................................................................................ [Portals: 1]
</span><span class='line'>  o- 0.0.0.0:3260 ............................................................................................................. [OK]
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> delete 0.0.0.0 3260
</span><span class='line'>Deleted network portal 0.0.0.0:3260
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> create ::0
</span><span class='line'>Using default IP port 3260
</span><span class='line'>Created network portal ::0:3260.
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> ls
</span><span class='line'>o- portals ............................................................................................................ [Portals: 1]
</span><span class='line'>  o- [::0]:3260 ............................................................................................................... [OK]
</span><span class='line'>/iscsi/iqn.20.../tpg1/portals> exit
</span><span class='line'>
</span><span class='line'># netstat -antp | grep 3260
</span><span class='line'>tcp6       0      0 :::3260                 :::*                    LISTEN</span></code></pre></td></tr></table></div></figure>


<p>It appears the target is listening only on IPv6 but in fact it will
also accept connections over IPv4. I&#8217;ve tried it.</p>

<p>This is a bit counter intuitive, however if you try adding the IPv6 address
without removing the default IPv4 one <em>targetcli</em> will throw an error:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/iscsi/iqn.20.../tpg1/portals> create ::0
</span><span class='line'>Using default IP port 3260
</span><span class='line'>Could not create NetworkPortal in configFS.
</span><span class='line'>/></span></code></pre></td></tr></table></div></figure>


<p>For more information about <em>targetcli</em> usage see my previous post
<a href="http://atodorov.org/blog/2015/04/07/how-to-configure-iscsi-target-on-red-hat-enterprise-linux-7/">How to Configure iSCSI Target on Red Hat Enterprise Linux 7</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Configure iSCSI Target on Red Hat Enterprise Linux 7]]></title>
    <link href="http://atodorov.org/blog/2015/04/07/how-to-configure-iscsi-target-on-red-hat-enterprise-linux-7/"/>
    <updated>2015-04-07T15:52:00+03:00</updated>
    <id>http://atodorov.org/blog/2015/04/07/how-to-configure-iscsi-target-on-red-hat-enterprise-linux-7</id>
    <content type="html"><![CDATA[<p>Linux-IO (LIO) Target is an open-source implementation of the SCSI target that
has become the standard one included in the Linux kernel and the one present in
Red Hat Enterprise Linux 7. The popular <em>scsi-target-utils</em> package is replaced
by the newer <em>targetcli</em> which makes configuring a software iSCSI target quite
different.</p>

<p>In earlier versions one had to edit the <code>/etc/tgtd/targets.conf</code> file and
<code>service tgtd restart</code>. Here is an example configuration:</p>

<pre><code>&lt;target iqn.2008-09.com.example:server.target1&gt;
    backing-store /dev/vg_iscsi/lv_lun1
    backing-store /dev/vg_iscsi/lv_lun2

    incominguser user2 secretpass23
    outgoinguser userA secretpassA
&lt;/target&gt;
</code></pre>

<p><em>targetcli</em> can be used either as an interactive shell or as stand alone commands.
Here is an example shell session which creates a file-based disk image. Comments are
provided inline:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># yum install -y targetcli
</span><span class='line'># systemctl enable target
</span><span class='line'>
</span><span class='line'># targetcli 
</span><span class='line'>
</span><span class='line'># first create a disk image with the name of disk1. All files are sparsely created.
</span><span class='line'>
</span><span class='line'>/> backstores/fileio create disk1 /var/lib/libvirt/images/disk1.img 10G
</span><span class='line'>Created fileio disk1 with size 10737418240
</span><span class='line'>
</span><span class='line'># create an iSCSI target. NB: this only defines the target
</span><span class='line'>
</span><span class='line'>/> iscsi/ create iqn.2015-04.com.example:target1
</span><span class='line'>Created target iqn.2015-04.com.example:target1.
</span><span class='line'>Created TPG 1.
</span><span class='line'>Global pref auto_add_default_portal=true
</span><span class='line'>Created default portal listening on all IPs (0.0.0.0), port 3260.
</span><span class='line'>
</span><span class='line'># TPGs (Target Portal Groups) allow the iSCSI to support multiple complete
</span><span class='line'># configurations within one target. This is useful for complex quality-of-service
</span><span class='line'># configurations. targetcli will automatically create one TPG when the target
</span><span class='line'># is created, and almost all setups only need one.
</span><span class='line'>
</span><span class='line'># switch to TPG definition for our target
</span><span class='line'>
</span><span class='line'>/> cd iscsi/iqn.2015-04.com.example:target1/tpg1
</span><span class='line'>
</span><span class='line'># list the contents
</span><span class='line'>
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> ls 
</span><span class='line'>o- tpg1 ..................................................................................................... [no-gen-acls, no-auth]
</span><span class='line'>  o- acls ................................................................................................................ [ACLs: 0]
</span><span class='line'>  o- luns ................................................................................................................ [LUNs: 0]
</span><span class='line'>  o- portals .......................................................................................................... [Portals: 1]
</span><span class='line'>    o- 0.0.0.0:3260 ........................................................................................................... [OK]
</span><span class='line'>
</span><span class='line'># create a portal aka IP:port pairs which expose the target on the network
</span><span class='line'>
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> portals/ create
</span><span class='line'>Using default IP port 3260
</span><span class='line'>Binding to INADDR_ANY (0.0.0.0)
</span><span class='line'>This NetworkPortal already exists in configFS.
</span><span class='line'>
</span><span class='line'># create logical units (LUNs) aka disks inside our target
</span><span class='line'># in other words bind the target to its on-disk storage
</span><span class='line'>
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> luns/ create /backstores/fileio/disk1
</span><span class='line'>Created LUN 0.
</span><span class='line'>
</span><span class='line'># disable authentication
</span><span class='line'>
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> set attribute authentication=0
</span><span class='line'>Parameter authentication is now '0'.
</span><span class='line'>
</span><span class='line'># enable read/write mode
</span><span class='line'>
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> set attribute demo_mode_write_protect=0
</span><span class='line'>Parameter demo_mode_write_protect is now '0'.
</span><span class='line'>
</span><span class='line'># Enable generate_node_acls mode. This can be thought of as 
</span><span class='line'># "ignore ACLs mode" -- both  authentication and LUN mapping
</span><span class='line'># will then use the TPG settings.
</span><span class='line'>
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> set attribute generate_node_acls=1
</span><span class='line'>Parameter generate_node_acls is now '1'.
</span><span class='line'>
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> ls
</span><span class='line'>o- tpg1 ........................................................................................................ [gen-acls, no-auth]
</span><span class='line'>  o- acls ................................................................................................................ [ACLs: 0]
</span><span class='line'>  o- luns ................................................................................................................ [LUNs: 1]
</span><span class='line'>  | o- lun0 ..................................................................... [fileio/disk1 (/var/lib/libvirt/images/disk1.img)]
</span><span class='line'>  o- portals .......................................................................................................... [Portals: 1]
</span><span class='line'>    o- 0.0.0.0:3260 ........................................................................................................... [OK]
</span><span class='line'>
</span><span class='line'># exit or Ctrl+D will save the configuration under /etc/target/saveconfig.json
</span><span class='line'>
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> exit
</span><span class='line'>Global pref auto_save_on_exit=true
</span><span class='line'>Last 10 configs saved in /etc/target/backup.
</span><span class='line'>Configuration saved to /etc/target/saveconfig.json
</span><span class='line'>
</span><span class='line'># after creating a second target the layout looks like this
</span><span class='line'>
</span><span class='line'>/> ls
</span><span class='line'>o- / ......................................................................................................................... [...]
</span><span class='line'>  o- backstores .............................................................................................................. [...]
</span><span class='line'>  | o- block .................................................................................................. [Storage Objects: 0]
</span><span class='line'>  | o- fileio ................................................................................................. [Storage Objects: 2]
</span><span class='line'>  | | o- disk1 .................................................. [/var/lib/libvirt/images/disk1.img (10.0GiB) write-back activated]
</span><span class='line'>  | | o- disk2 .................................................. [/var/lib/libvirt/images/disk2.img (10.0GiB) write-back activated]
</span><span class='line'>  | o- pscsi .................................................................................................. [Storage Objects: 0]
</span><span class='line'>  | o- ramdisk ................................................................................................ [Storage Objects: 0]
</span><span class='line'>  o- iscsi ............................................................................................................ [Targets: 2]
</span><span class='line'>  | o- iqn.2015-04.com.example:target1 ................................................................................... [TPGs: 1]
</span><span class='line'>  | | o- tpg1 .................................................................................................. [gen-acls, no-auth]
</span><span class='line'>  | |   o- acls .......................................................................................................... [ACLs: 0]
</span><span class='line'>  | |   o- luns .......................................................................................................... [LUNs: 1]
</span><span class='line'>  | |   | o- lun0 ............................................................... [fileio/disk1 (/var/lib/libvirt/images/disk1.img)]
</span><span class='line'>  | |   o- portals .................................................................................................... [Portals: 1]
</span><span class='line'>  | |     o- 0.0.0.0:3260 ..................................................................................................... [OK]
</span><span class='line'>  | o- iqn.2015-04.com.example:target2 ................................................................................... [TPGs: 1]
</span><span class='line'>  |   o- tpg1 .................................................................................................. [gen-acls, no-auth]
</span><span class='line'>  |     o- acls .......................................................................................................... [ACLs: 0]
</span><span class='line'>  |     o- luns .......................................................................................................... [LUNs: 1]
</span><span class='line'>  |     | o- lun0 ............................................................... [fileio/disk2 (/var/lib/libvirt/images/disk2.img)]
</span><span class='line'>  |     o- portals .................................................................................................... [Portals: 1]
</span><span class='line'>  |       o- 0.0.0.0:3260 ..................................................................................................... [OK]
</span><span class='line'>  o- loopback ......................................................................................................... [Targets: 0]
</span><span class='line'>
</span><span class='line'>
</span><span class='line'># enable CHAP and Reverse CHAP (mutual) for both discovery and login authentication
</span><span class='line'>
</span><span class='line'># discovery authentication is enabled under the global iscsi node
</span><span class='line'>
</span><span class='line'>/> cd /iscsi
</span><span class='line'>/iscsi> set discovery_auth enable=1
</span><span class='line'>/iscsi> set discovery_auth userid=IncomingUser
</span><span class='line'>/iscsi> set discovery_auth password=SomePassword1
</span><span class='line'>/iscsi> set discovery_auth mutual_userid=OutgoingUser
</span><span class='line'>/iscsi> set discovery_auth mutual_password=AnotherPassword2
</span><span class='line'>
</span><span class='line'># login authentication is enabled either under the TPG node or under ACLs
</span><span class='line'>
</span><span class='line'>/iscsi> cd iqn.2015-04.com.example:target1/tpg1
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> set attribute authentication=1
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> set auth userid=IncomingUser2
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> set auth password=SomePassword3
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> set auth mutual_userid=OutgoingUser2
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> set auth mutual_password=AnotherPassword4
</span><span class='line'>/iscsi/iqn.20...:target1/tpg1> exit</span></code></pre></td></tr></table></div></figure>


<p>Hints:</p>

<ul>
<li>activating targetcli service at boot is mandatory, otherwise your configuration wonâ€™t be read after a reboot</li>
<li>if you type <code>cd</code> <em>targetcli</em> will display an interactive node tree</li>
<li>after configuration is saved you don&#8217;t need to restart anything</li>
<li>the old <em>scsi-target-utils</em> doesn&#8217;t support discovery authentication</li>
<li><em>targetcli</em> allows kernel memory to be shared as a block SCSI device via the
ramdisk backstore. It also supports &#8220;nullio&#8221; mode, which discards all writes, and returns all-zeroes for reads.</li>
<li>I&#8217;m having troubles configuring portals to listen both on any IPv4 addresses and any IPv6 addresses
the system has. I&#8217;ve still not figured that out entirely.</li>
</ul>


<p>For more information please read Chapter 25 from Red Hat&#8217;s
<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Storage_Administration_Guide/ch25.html">Storage Administration Guide</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mining E-mail Identities with Gravatar]]></title>
    <link href="http://atodorov.org/blog/2015/03/16/mining-e-mail-identities-with-gravatar/"/>
    <updated>2015-03-16T23:16:00+02:00</updated>
    <id>http://atodorov.org/blog/2015/03/16/mining-e-mail-identities-with-gravatar</id>
    <content type="html"><![CDATA[<p>Recently I&#8217;ve laid my hands on a list of little over 7000 email addresses.
This begs the question how much of them are still in use and what for ?</p>

<p>My data is not fresh so I&#8217;ve uploaded the list to Facebook and created a custom
audience. 2400 of 7129 addresses were recognized - 30% of these addresses are
on Facebook and easy to target! Need to figure out which ones.</p>

<p>I could have tried some sort of batch search combined with the custom audience
functionality but I didn&#8217;t find an API for that and decided not to bother.
Instead I&#8217;ve opted for Gravatar.</p>

<figure class='code'><figcaption><span>gravatars.sh </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="k">while </span><span class="nb">read </span>LINE; <span class="k">do</span>
</span><span class='line'><span class="k">    </span><span class="nv">HASH</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="nv">$LINE</span> | md5sum | cut -f1 -d<span class="s1">&#39; &#39;</span><span class="sb">`</span>
</span><span class='line'>    wget <span class="s2">&quot;http://gravatar.com/avatar/$HASH&quot;</span> -O <span class="s2">&quot;$LINE&quot;</span>
</span><span class='line'><span class="k">done</span> &lt; /dev/stdin
</span></code></pre></td></tr></table></div></figure>


<p>Feed <code>gravatars.sh</code> with the email list and it will download all images to the
current working directory and use the address as the file name. After
<code>md5sum *@* | cut -f1 -d' ' | sort | uniq -c</code> I quickly noticed the following:</p>

<ul>
<li>4563 addresses have the <code>a1719586837f0fdac8835f74cf4ef04a</code> check-sum; These are
not found on Gravatar.</li>
<li>2400 addresses have the <code>d5fe5cbcc31cff5f8ac010db72eb000c</code> check-sum. These are
addresses which are registered with Gravatar but didn&#8217;t bother to change the default
image.</li>
<li>166 remaining addresses, each with a different check-sum. These have their custom
pictures uploaded to Gravatar and probably much more actively used.</li>
</ul>


<p>A second check with Facebook reveals 900 out of these 2566 addresses were recognized.
This begs the question is Facebook showing incorrect stats or are there 1500 addresses
using Gravatar (or have used at some point) which are not on Facebook ?</p>

<p>At least some of the remaining 4000 addresses are still active and used to send emails.
Next I will be looking for ways to identify them. Any suggestions and comments are more
than welcome!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Pedometer Bug in Samsung Gear Fit Smartwatch]]></title>
    <link href="http://atodorov.org/blog/2015/01/09/pedometer-bug-in-samsung-gear-fit-smartwatch/"/>
    <updated>2015-01-09T10:53:00+02:00</updated>
    <id>http://atodorov.org/blog/2015/01/09/pedometer-bug-in-samsung-gear-fit-smartwatch</id>
    <content type="html"><![CDATA[<p><a style="float:left;display:inline-block;margin-right:10px;" href="http://www.amazon.com/gp/product/B00J4DY8RU/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B00J4DY8RU&linkCode=as2&tag=atodorovorg-20&linkId=RNJGVYUTOOJFGWOU">
<img src="http://atodorov.org/images/samsung/gear_fit.jpg" />
</a>
<sub>
Image source <a href="http://pocketnow.com/2014/05/02/samsung-gear-fit-review-pre-buttal-video">Pocketnow</a>
<sub></p>

<p>Recently I&#8217;ve been playing around with a
<a href="http://www.amazon.com/gp/product/B00J4DY8RU/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=B00J4DY8RU&linkCode=as2&tag=atodorovorg-20&linkId=RNJGVYUTOOJFGWOU">Samsung Gear Fit</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=atodorovorg-20&l=as2&o=1&a=B00J4DY8RU" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
and while the hardware seems good I&#8217;m a bit disapointed on the software side.
There is at least one bug which is clearly visible - <strong>pedometer counts calories twice
when it&#8217;s on and exercise mode is started</strong>.</p>

<p>How to test:</p>

<ul>
<li>Start the <em>Pedometer</em> app and record any initial readings;</li>
<li>Walk a fixed distance and at the end record all readings;</li>
<li>Now go back to the <em>Exercise</em> app and select a <em>Walking</em>
exercise from the menu. Tap <em>Start</em>;</li>
<li>Walk back the same distance/road as before. At the end of the journey
stop the walking exercise and record all readings.</li>
</ul>


<p>Expected results:</p>

<p>At the end of the trip I expect to see roughly the same calories burned
for both directions.</p>

<p>Actual results:</p>

<p>The return trip counted twice as many calories compared to the forward trip.
Here&#8217;s some actual data to prove it:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>+--------------------------+----------+----------------+---------+-------------+---------+
</span><span class='line'>|                          | Initial  | Forward trip   |         | Return trip |         |
</span><span class='line'>|                          | Readings | Pedometer only |  Delta  | Pedometer & |  Delta  |
</span><span class='line'>|                          |          |                |         | Exercise    |         |
</span><span class='line'>+--------------------------+----------+----------------+---------+-------------+---------+
</span><span class='line'>|              Total Steps | 14409 st | 14798 st       | 389 st  | 15246 st    | 448 st  |
</span><span class='line'>+--------------------------+----------+----------------+---------+-------------+---------+
</span><span class='line'>|           Total Distance | 12,19 km | 12,52 km       | 0,33 km | 12,90 km    | 0,38 km |
</span><span class='line'>+--------------------------+----------+----------------+---------+-------------+---------+
</span><span class='line'>| Cal burned via Pedometer |  731 Cal |  751 Cal       | 20 Cal  |  772 Cal    | 21 Cal  |
</span><span class='line'>+--------------------------+----------+----------------+=========+-------------+=========+
</span><span class='line'>| Cal burned via Exercise  |  439 Cal |  439 Cal       | 0       |  460 Cal    | 21 Cal  |
</span><span class='line'>+--------------------------+----------+----------------+---------+-------------+=========+
</span><span class='line'>|    Total calories burned | 1170 Cal | 1190 Cal       | 20 cal  | 1232 Cal    | 42 Cal  |
</span><span class='line'>+--------------------------+----------+----------------+=========+-------------+=========+</span></code></pre></td></tr></table></div></figure>


<p><strong>Note:</strong> Data values above were taken from Samsung&#8217;s <em>S Health</em> app which is easier to work with
instead of the Gear Fit itself.</p>

<p>The problem is that both apps are accessing the sensor simultaneously and not aware of each other.
In theory it should be relatively easy to block access of one app while the other is running but
that may not be so easy to implement on the limited platform the Gear Fit is.</p>
]]></content>
  </entry>
  
</feed>
